[{"title": "Network library for Team of UAV's", "thread_contents": ["Hi, I hope all of you doing well, I am currently working on Team of UAV\u2019s for observing moving targets. can any body suggest me any networking library for communication of team of UAV\u2019s to plane their paths.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/network-library-for-team-of-uavs/2406"}
,{"title": "Migration of ros-sig-mav to discourse.ros.org Aerial Vehicles category", "thread_contents": ["Hi Everyone,", "As many of you may already be aware we\u2019re migrating ROS Sigs to ", ". It\u2019s ros-sig-mav\u2019s turn. Many of you already have accounts setup over there, you can just watch the new category Aerial Vehicles. If you do not already have an account please sign up and watch the Aerial Vehicles category.", "This SIG now has a cateogry Aerial Vehicles: ", " I have finished my drafts of the proposed standard interfaces for aerial vehicles and will be kicking off the discussion on the new forum.", "During the transition I\u2019ve setup the ros-sig-mav mailing list to receive notifications from discourse from the category, however direct posting to the mailing list is now disabled.", "Tully", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/migration-of-ros-sig-mav-to-discourse-ros-org-aerial-vehicles-category/286"}
,{"title": "Certification", "thread_contents": ["While I would not expect ROS to be FAA certifiable on its own, I am wondering if any users have ROS implementations that have gone through the FAA certification process.  If so, I would like to get some insight into lessons learned, things to watch out for, etc.  Basically I am trying to get a sense of the potential certifiability of a ROS implementation on large unmanned aerial vehicles.", "Based on my own experience with certification (not of a ROS system), i think it would be very cost-prohibitive to certify a ROS 1-based system.", "You might have an easier time with a ROS 2-based system. The software development process has been better tracked.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/certification/1891"}
,{"title": "Initial position of the quadrotor", "thread_contents": ["Hi, I have initialized the position of the erlecopter quadrotor over a one meter high base, but I don\u2019t know how to initialize the GPS on this position.", "\nDoes anyone know how to solve it?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/initial-position-of-the-quadrotor/1697"}
,{"title": "Mapping and obstacle avoidance with IR, sonars and a radar sensor", "thread_contents": ["Hi,", "We are constructing an hexacopter drone and we would like to set simple mapping and obstacle avoidance with some IRs, sonars and a radar sensor. Almost all the libraries we have seen (hector, mrpt_slam) use ladars and/or the information processing is slow for a drone. In addition, is there any library to get the position changes of the drone using only an IMU? Do you have any suggestion on how to start? We are a little bit lost since we have never used ROS before.", "Thanks in advance! ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/mapping-and-obstacle-avoidance-with-ir-sonars-and-a-radar-sensor/2716"}
,{"title": "[Elsevier Book] Call for Chapters: Unmanned Aerial Systems: Theoretical Foundations and Applications", "thread_contents": ["I am pleased to inform that Prof. Azar and I are editing a book with Elsevier entitled", "The main reason for editing this book is the increasing demand for unmanned aerial systems and the exponential growth and evolution of UASs in the last couple of years. In this book, we aim at providing a unique reference of the state-of-the-art research and development of unmanned aerial systems to be an essential resource from researchers, instructors, and practitioners.", "This book is expected to be published by Elsevier by Oct. 2020. It will appear under the Advances in Nonlinear Dynamics and Chaos series.", "The book is open to a wide area of hot and recent research topics, which we are sure that your contribution will be of great added value.", "For more information about the book and the submission process and deadlines, please refer to the attached call for chapters or visit the CFP webpage ", ".", "We would appreciate it if you can send us a confirmation of contribution and prospective titles at earliest.", "Should you have any questions, please free to contact us.", "Thank you", "Anis Koubaa", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/elsevier-book-call-for-chapters-unmanned-aerial-systems-theoretical-foundations-and-applications/10903"}
,{"title": "ROS quadcopter with waypoint from custom GPS", "thread_contents": ["Hi Everyone", "I\u2019m having a hard time to find a complete solution to the following -", "\nI want to simulate quadcopter in Gazebo+ROS wherein I can define waypoints (GPS based) for an autonomous flight using different GPS sensor (the sensor differs in its noise parameters).", "I came across the following packages and tools -", "\nhector-quadcopter (not clear if I can define waypoints)?", "\nhector-gazebo-plugins (here I can define IMU and GPS sensors, exactly what I want, but can I use this with hector_quadcopter package? or any other robot model with waypoints?)", "\npx4 SITL (", ") wherein I can define waypoints using MAVROS as well as send sensor data using MAVROS, but seems a lot of work to modify data (from hector-gazebo-plugins possibly) to MavLink message format.", "Any other solutions that I might have missed? Or is any of the above solution more feasible than the other.", " is another gazebo based simulator which you can try.", "\nIf you only care about simulation, the hector or the rotors simulators would be best, but if you eventually want to fly a real robot, it might be better to use the PX4 SITL since that uses the same interface that would be used on a real robot.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-quadcopter-with-waypoint-from-custom-gps/5282"}
,{"title": "Build Difficulties with ARIAC Simulator Package", "thread_contents": ["Hello! The wiki doesn\u2019t appear to be publicly accessible, so I thought I\u2019d ask if anyone has any tips for building or installing the ARIAC sim on Kinetic + Ubuntu 16.04.", "The installation instructions suggest either installing binaries or building from source, but not seeing any reference to where those binaries are I opted to build from source. I cloned the bitbucket repo into my catkin ws and ran catkin_make. Initially I ran into an issue with a protobuf version mismatch between my protoc and the Gazebo apt package, but I was able to fix that by recompiling the Gazebo protobuf files. Now I\u2019m getting:", "Etc, etc, for several hundred lines. It looks like a missing include, but I can\u2019t divine what it\u2019s looking for or where it should be.", "Any help with either building ARIAC or installing the binaries would be very much appreciated.", "Edit: It occurs to me now that I look at this that my recompiling the protoc files seems a likely culprit. Tensorflow demands a specific protobuf version - so specific it\u2019s a commit on the 3.0 branch and not even a tagged release. I assume I\u2019ll need to build Gazebo from source if I can\u2019t get the binaries.", "Thanks,", "Yes, it was the protobuf mismatch. Installing protobuf 2.6 over 3.0 fixed the compilation issues.", "Happy to hear that you fixed it! Can you post the exact fix (i.e., how you installed protobuf 2.6) for the benefit of others who get into the same situation?", "Absolutely. The apt package on ubuntu for protobuf is 2.6, so it\u2019s very straightforward to install. After that ARIAC built from source with no issues. I just need to keep tensorflow and Gazebo separate from one another.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Ross"], "url": "https://discourse.ros.org/t/build-difficulties-with-ariac-simulator-package/780"}
,{"title": "Error launching gazebo with custom config/comp_config.yaml", "thread_contents": ["Hi,", "I am customizing the .yaml file inside config folder. Here my config file:", "I only want to have one camera or at least 2 and the arm for now but I am having problems launching gazebo.", "This is what I am having:", "However, if I uncomment the laser_profiler sensor lines, gazebo launches correctly.", "Is there a minimum number of sensors in config file or it is necessary to set the laser_profiler?", "Regards", "It would seem Gazebo can\u2019t load ", " successfully, as it can\u2019t resolve a symbol (", ").", "It could be that the library that is used for the ", " sensors provides that symbol, which is why it works in the case where you keep those enabled.", "Sounds like we\u2019re forgetting to link a library into ", " ", ".", "Thank you for pointing this out ", " - there is no minimum number of sensors in the config file, and it is not necessary to use the laser profiler.", " and ", " are right and this was a bug. It has been fixed now: you should see the change once you update your ARIAC software, either with ", " or pulling from master if you are building from source.", "Thank you all works perfect!", "Regards", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/error-launching-gazebo-with-custom-config-comp-config-yaml/1238"}
,{"title": "Read arm links pose (ariac competition)", "thread_contents": ["Can I read the topic \u201c/gazebo/link_states\u201d or it is against the rules ?", "\nWhat is this topic msg type ?", "thanks", "Hi ", ",", "It is against the rules to use the ", " topic during the competition (you can use it during development of your package if you find it useful). It is against the rules to use any of the topics or services in the ", " namespace prefix during the competition. You should use the topics listed in the ", " instead.", "\nThank you for your question \u2013 I have updated the documentation to clarify that this is not permitted.", "What is this topic msg type ?", "In general, you can find the msg type of a topic by running ", ", for example:", "I hope that this helps.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/read-arm-links-pose-ariac-competition/1347"}
,{"title": "Performance.log is overwritten", "thread_contents": ["Just a query, but the performance.log is a link to another text file in gazebo:", "/home/user/.gazebo/server-11345/default.log", "So technically I\u2019m not sure the tutorial documents are correct when you copy over this file. The gazebo logs are fine though", "Hi ", ", the symbolic link from the performance.log file to the target that you mentioned is the expected behaviour. We have clarified in the submission instructions that the ", " / ", " option should be used when copying the logs to ensure that the link is followed \u2013 thank you for the question.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/performance-log-is-overwritten/1371"}
,{"title": "ARIAC Qual Task 2", "thread_contents": ["Hi,", "Any news on when the next task will be released?", "Regards", "Cdr.", "We\u2019re targeting the Qual 2 release for Monday, March 6th.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ariac-qual-task-2/1412"}
,{"title": "Part placement", "thread_contents": ["I\u2019m curious at the correct process on getting the position to place the part on either tray for qual1.", "From my understanding you can use tf to get the current pose from the world frame", "Now I assumed I could simply offset the trans using the supplied values in the order, i.e", "However for the position offset:", "The arm can not find a goal state using moveit, it seems to be out of reach, is this designed that way. I\u2019ve just gone about shortening the position in the end to be within in reach.", "To be honest I had a look at the parts tutorial and the figures seem to point to different placements then where I achieve at the moment anyway.", "Hi ", ",", "The positions specified in the order should be reachable by the arm. The issue might be that you are using the wrong reference frame (the TF frame of the kit tray is not necessarily the same as the ", " - you can use the logical camera to get the kit tray TF frame).", "Alternatively the issue might be with how you are calculating the pose in the world frame. When calculating the goal pose in the world frame you must take the orientation of the tray into account so that you move \u201cin the right direction\u201d. You can use the ", " method of a ", " object to transform a pose from one frame into the world frame.", "Keep in mind that the pose of the parts on the tray is not evaluated for the first qualifier, they just need to be anywhere on the tray.", "By the way, it looks like you are using the python interface to the deprecated ", " library. If this is working for you then that\u2019s fine, but ARIAC does use ", ". If you run into any issues (e.g. ", ") then you may consider switching to ", ". We\u2019ve updated the documentation to clarify this.", "Thanks dhood,", "Yes I was using the agv frame, however this begs the question why do you need a camera to find the kit tray frame in the first place?", "It costs points to use a camera, whats to stop anyone from simply adding a camera, getting the trays offset to the agv frame and hard coding the necessary transform, and then removing the camera later? of course i assume this is possible :).", "The pose was calculated as per last post using lookup transform frame = \u2018agv1_load_point_frame\u2019", "I\u2019ll upgrade to TF2, thanks for the tip.", "Yes I was using the agv frame, however this begs the question why do you need a camera to find the kit tray frame in the first place?", "That\u2019s a valid question \u2013 the distinction is not very clear in the first qualifier. The AGV frame specifies the point in the workcell where trays will be when the AGV is docked, but AGVs may or may not be there. In qual1 the AGVs don\u2019t move, but in future tasks, the AGVs will move, and so the sensors can be used to detect when the AGV has returned with a new kit tray.", "The pose was calculated as per last post using lookup transform frame = \u2018agv1_load_point_frame\u2019", "The pose I was referring to is the one that specifies where to move the arm to, i.e. what you do once you have looked up the pose of the AGV frame. This is where the ", " method can come in handy.", "Hi dhood,", "Thought I would quickly say thanks for putting in the pull request example for the TF2 transformation.", "Onwards to Qual2 now :).", "Cdr", "Hey, no problem! We\u2019re looking to add it as a general TF2 tutorial but I\u2019m glad that you found it in the meantime. Thanks for the message.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/part-placement/1361"}
,{"title": "Error occured when I roslaunch ur10 moveit", "thread_contents": ["ERROR: cannot launch node of type [moveit_ros_move_group/move_group]: moveit_ros_move_group", "\nROS path [0]=/opt/ros/indigo/share/ros", "\nROS path [1]=/home/ccsu/ariac_ws/src", "\nROS path [2]=/opt/ros/indigo/share", "\nROS path [3]=/opt/ros/indigo/stacks", "Before I launched file, I always setup.bash", "Hi ", ", it seems like you do not have the right moveit dependencies installed. The moveit dependencies do not get installed by default with ", ". Step 2 of ", " should help you install the necessary dependencies (and build the ur10 moveit packages that are specific to ARIAC, if you haven\u2019t already done so). Please be sure to select the indigo tab at the top of the page.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/error-occured-when-i-roslaunch-ur10-moveit/1569"}
,{"title": "Proposed standard interface for aerial vehicles in ROS", "thread_contents": ["Continuing the discussion of developing standard messages for flying vehicles I have iterated on our last discussion: ", "And have put together two REP pull-requests that I would like feedback on.", "The first one is an ", " which defines conventions for interacting in larger spaces", "\nThanks to ", " for the early feedback on that PR.", "The second is a ", " trying to pull together a standard set of messages", "I\u2019ve done my best to survey the messages that already exist and tried to reuse existing messages whenever possible.", "If you have high level discussion topics we can discuss them here. For anything specific please feel free to comment directly ", ".", "Thanks, Tully, for your attempt to standardize interfaces for aerial vehicles!", "I added some comments to the ", " directly, mainly about the addition of a velocity control layer and optional fields in pose and other commands.", "Another important aspect that should IMHO be covered in the REP in one way or the other is the exact meaning of altitude/height/elevation as specified in commands and state feedback. Depending on how altitude is measured and controlled the results can be quite different if there is no standardized way to specify the altitude mode explicitly whenever a z position is involved:", "The difference between exact altitudes and pressure altitudes might be out of scope in this document and the height above ground could be covered by range measurement messages like ", ", but I think the question of the reference level  (MSL/WGS84 vs. local reference frame) should be somehow covered, e.g. by defining different names for the map frame depending on whether its origin is at a local reference altitude (the default), MSL or WGS84.", "(I had to obfuscate the links because I cannot add more than 5 in discourse).", "\n(edited to add links in. Once your trust level goes up the link limit will increase.-- ", ")", "+1 for a clear, consistent definition. I recommend  \u201cmeters above the WGS-84 ellipsoid\u201d. Note that ", " explicitly specifies ", " that way.", "We had a similar discussion a few years back during ", ". The consensus was that we needed a consistent ", " definition. Various systems might need to convert that canonical value to and from other representations (above MSL, above ground level, different ellipsoids, etc.), but it would just be too confusing for multiple packages and nodes to figure out which type of value the message intends.", "While a different answer could be crafted specifically for aerial vehicles, that seems unwise.", " ", " thanks for the feedback.", "As you both mentioned the definition of altitude is something that needs to be clearly defined. My initial reaction is that it\u2019s not necessary to discuss since we\u2019re talking about tf coordinate frames with everything measured in meters. However I think that what we\u2019re actually talking about is more about standards about defining map frames. And possibly we could extend our effort to develop standard map frame naming conventions to convey some of this information. And probably also want to recommend a standard to use for these common global reference frames. ", " suggests picking the WGS-84 ellipsiod as the default earth referenced map zero altitude. That seems find by me, anyone else have a different suggestion?", "For example when setting up map frames they could be named or labeled to clearly indicate their external references if different from the default.", "For pressure altitude there\u2019s two ways it could be approached. The simplest would be to ignore it and make your best estimate of the true altutude. However it does have a long track record as being a very good way to coordinate flying vehicles since barometers are much more precise than they are accurate. With that said and since the pressure altitude is approximately a fixed offset based on the uncertainty in the atmospheric barometric pressure, it actually fits well into the model we have developed with the map and odom frames for ground navigation. You can navigate locally in the precise frame (pressure altutude/odom) and are continuously running a background process to estimate the drift of the precise frame to the externally referenced frame (map/ground).", "For the height above ground I think that\u2019s getting into an obstacle map representation and out of scope for this discussion.", "I would not recommend the WGS84 ellipsoid altitude. What is used in reality is always AMSL.", "Thanks for all the feedback.", "I\u2019ve made noteable updates to the ", " to address topics such as transitioning between maps, clarify map coordinate frame conventions and also clarify potential intermediate coordinate frames such as pressure altitude between odom and map.", "These clarifications I think resolve most of the comments from reviewers and make this close to ready.", "I\u2019ve also updated the draft of ", " based on comments here and inline in the pull request.", "I also fleshed out the datatypes in the document for greater clarity.", "I see two comments for which there\u2019s not a clear resolution.", "\nFirst is the chose of using vehicle native commands, attitude and yaw pitch roll rates, vs the very highly abstracted 1st and 2nd derivatives of position only. (comments ", " And slightly related to that is the choice of naming which parallels the derivatives of position but does not match the datatypes in the current proposal.", "If you have thoughts please follow up here on this thread. I plan to merge the pull request still in draft form so that people can see the graphics rendered when reviewing without downloading it and generating their own content. Once we have more direction for the next steps we can reopen an new PR to modify the draft.", "Is that really true? My observations are:", "From the feedback in the REP 147 ", " we\u2019ve iterated.", "I have merged it in draft status such that people can read it more easily and especially see the diagrams easily. Please take a read through it here: ", "I think we\u2019re close to a consensus here. There\u2019s one ", " about UTM representations and another about the altitude representation.", "I\u2019m not sure there\u2019s a need to directly mention this connection in the REP. I suspect it will be a common use case that we implement tools to help with but I\u2019d propose not to call it out in the REP.", "During the review we switched to standardize on MSL by default.", "Most GPS units seems to give the altitude above the ellipsoid and also have the geoid correction available.  Since the geoid correction can vary in quality it is the ellipsoid value that is probablu most accurate.", "\nData available about altitude specify what geoid it is using. For example KML uses EGM96.  But the data available in Sweden uses RH2000 which used the geoid SWEN08_RH2000 which is not exactly the same as the one used in EGM96.", "Certainly most GPS units use WGS84 as their datum as that\u2019s the native units of the GPS system.", "\nI found a great list of datums on NOAA\u2019s website: ", "If you\u2019re not using GPS however the main reference is MSL. And that is what the bodies like the FAA use for altitudes. If you don\u2019t consider GPS to be your primary", "There\u2019s a very detailed paper about accuracy of different representations from the FAA ", "There\u2019s a good representation on page 9 of the geoid with gravitational anomolies which change MSL.", "\n", "\nIn that you can see that the differences can range for -100m to +60m.", "Where the geoid represents MSL, and the ellipse is the datum like WGS84. There\u2019s a good illustration on page 8.", "With this understanding I think that using MSL will make a lot more sense for applications that are near the sea level or on the ground. It\u2019s not very intuitive if you take the example of a boat on the ocean to display it at -100m or +60m in altitude.", "And for use cases where you are not using GPS as a source and dead reckoning based on maps and a known starting position, possibly with a barometer, using your known starting altitude as a reference is much easier.", "That said since we know that most vehicles will be using GPS we should make sure that converting from the WGS84 datum is easy/built in. And I think that won\u2019t be too much of a problem as we\u2019ll already be converting GPS\u2019s native polar coordinates to local euclidean approximations anyway.", "Thus I\u2019d suggest we stick with using MSL as the default altitude representation.", "What do you mean by MSL?  Do you mean the WGS84 geoid which uses EGM96?", "Can you really do the conversion from WGS84 ellipsoid to WGS84 geoid accurate and fast on computers with limited resources?  What we use know for this requires us to download big datafiles to do the conversion.  The conversion done by GPS units uses a small tabla stored in the GPS and is probably not as accurate.", "Well, so long as it is well specified what is used and that all the drivers for sensors like GPS outputs the same unit I suppose it does not matter so much what is used.", "Will the definition of GeoPoint and NavSatFix be changed then or how will that be handled?", "From ", "Following ", " and ", "\u2019s comments above I\u2019ve revised it to use the very simple cmd_vel and a new very similar Twist for acceleration.", "I would vote for using the stamped message variants for the rate and acceleration interface, too.", "Rationale: Even in a real-time context and without querying tf a vehicle can check the ", " and interpret the commands accordingly. A velocity command in the real body frame is quite unusual for multirotors because you do not want to climb or descend while flying forward only, independent of the current roll and pitch angle. You could argue that in this case the velocity command could be given in a fixed frame, but the vehicle\u2019s yaw angle should still be respected to determine what \u201cforward\u201d is, without the need to update the command continuously to align with the latest yaw estimation (which might not even be available). This control mode would correspond to standard flight modes like ", " or ", ". Having a header frame_id would be one good way to determine the desired control mode, next to a dedicated MAV message with an enum-like field for this purpose. I don\u2019t think a separate control mode switch interface would be wise - the command messages should have a clearly defined meaning and be self-contained (e.g. for playing back from recorded data). In Hector we used to call the frame with the same origin as ", " but roll and pitch set to zero the ", " frame, but I do not really like this name and would prefer something like ", ".", "The header timestamp might be useful to measure delays in the command and control link and a vehicle should ignore commands that have a non-zero timestamp but are too old.", "For fixed-wing aircraft it might be more appropriate to command the forward velocity in body frame.", "+1 for using the more abstract standard messages. I think it is quite straight-forward to translate them to less abstract messages like MAVLink as advocated by ", ", but the conversion function might already depend on the exact type of vehicle and/or auto-pilot in use.", "In my opinion it is nice that REP 105 recommends that the map frame is aligned with north, east and mean sea level if such global reference information is available, but this should not be enforced or even identified with a UTM frame. Afaik most mapping frameworks assume that the map frame is under their control and the robot always start at the frame\u2019s origin with z set to 0. Also visualization tools like rviz would require some usability patches if robots spawn at positions far away from the origin and the map frame would be the only appropriate drift-free reference frame. The current draft of REP-105 also states that there might be other guidelines for defining the map frame, like aligning it with structures in the environment.", "What I would propose is to introduce another frame between the ", " and ", ", which could be UTM or any other local ENU frame. It would be the task of a node like the ", " to choose an appropriate ", " frame and publish a static transform from ", " to ", " and a correction transform from ", " to ", " (or another intermediate frame), so that the GNSS antenna\u2019s frame is at the measured coordinates in the map. Unfortunately this transform is not fully defined by a only GNSS measurement because it does not carry absolute yaw information and the map frame could rotate freely around the GNSS antenna. In order to solve this we would need yet another frame, e.g. ", " which shares the origin with the map frame and enforces ENU alignment:", "Some of those frames could be identified if the respective information are unknown, e.g. ", " and ", " if the vehicle has no absolute orientation information. In this case, viewed from a earth-fixed frame like ", " or ", ", the map frame would rotate around the robot while the robot is moving in the map frame and the GNSS node tries to keep it at the measured GNSS position. It might also be possible to come up with a node that estimates the fixed ", " to ", " rotation from the robot motion and its location in an earth-fixed frame without the need for a calibrated magnetometer.", "I also share the concerns of using AMSL as an altitude reference and tended to vote for the WGS84 geoid, mainly for the reasons already mentioned above:", "On the other hand compatibility with MAVLink (see ", ") is also a good argument, but in this case it should be considered to change the definition of the sensor_msgs/NavSatFix message, too. Is this possible without breaking the MD5 sum? This would enforce all GNSS drivers to either publish AMSL altitude as given by the receiver or do the geoid correction themselves. I think the current implementation of ", " is handling altitude incorrectly because it adds the geoid height (field 11 of the NMEA GGA message) to the altitude already converted to AMSL (field 9 of the GGA message) according to the NMEA specs found at ", ".", "I think ", "\u2019s boat on the ocean visualization example is not relevant here because even MSL is still a theoretical reference. It refers to the ", " sea level and does not take into account tidal changes. The ", " or the ", " frame as proposed in the previous section would solve this problem by providing a local earth-fixed reference frame which can be at any desirable altitude, depending on whether the ", " has a non-zero altitude relative to ", " or not. Only the ", " to ", " transform would contain the absolute altitude relative to either WGS84 or MSL.", "Hmm, probably there is no right and wrong answer to this question. +1 for MSL.", "Will the definition of GeoPoint and NavSatFix be changed then or how will that be handled?", "Anyone can open a review to change them, if desired.", "I personally will oppose that proposal. Those definitions have been in general use for years without complaint, until now. They were agreed to after more review than this discussion (so far).", "Changing the meanings of the data could break existing systems in subtle and undetectable ways. If we really want different semantics, we should define new messages, provide tools to translate back and forth, and then convince the ROS community to adopt them.", "What do you mean by MSL?  Do you mean the WGS84 geoid which uses EGM96?", "Can you really do the conversion from WGS84 ellipsoid to WGS84 geoid accurate and fast on computers with limited resources?  What we use know for this requires us to download big datafiles to do the conversion.  The conversion done by GPS units uses a small tabla stored in the GPS and is probably not as accurate.", "Well, so long as it is well specified what is used and that all the drivers for sensors like GPS outputs the same unit I suppose it does not matter so much what is used.", "Sorry I misinterpreted your previous comment to be suggesting the WGS84 Ellipsoid. With some more reading I think that the WGS84 geoid using EGM1996 is our best standard to approximate MSL.", "The best reference for EGM1996 I found: ", " has a table of corrections and a short reference fortran implementation for interpreting them. That could easily be converted or wrapped to make available for easy use.", "For the computational complexity there\u2019s 15 minute grids which for the whole world are about 9MB when uncompressed and expressed as ascii in 64 thousand lines. With just text compression it drops to 5MB I think with binary representation it would drop significantly. I see what looks to be a binary format which is only 2MB.", "I\u2019ll update the REP to call out EGM1996 as the reference altitude. And we should make sure to import the reference conversion methods.", "I would vote for using the stamped message variants for the rate and acceleration interface, too.", "Yeah, the header is valuable for being self contained, and does give a lot of flexibility. If the program is unable to do the transform it can reject/skip the goal. And hopefuly have good fallback behavior. The nav stack has had this sort of behavior where it would not accept a goal in the robot frame as it would never be achievable. (Like a rabbit with a carrot tied to a stick on it\u2019s back.) In this case we could have different semantics.", "What I would propose is to introduce another frame between the earth and map, which could be UTM or any other local ENU frame. It would be the task of a node like the navsat_transform_node to choose an appropriate local_enu frame and publish a static transform from earth to local_enu and a correction transform from local_enu to map (or another intermediate frame), so that the GNSS antenna\u2019s frame is at the measured coordinates in the map. Unfortunately this transform is not fully defined by a only GNSS measurement because it does not carry absolute yaw information and the map frame could rotate freely around the GNSS antenna. In order to solve this we would need yet another frame, e.g. map_enu which shares the origin with the map frame and enforces ENU alignment:", "I agree that having these intermediate frames are likely going to be valuable in usage. But I\u2019ve shied away from making them part of the standard and just called out that there may be intermediate frames that are implementation specific, in the paragraph ", " Since there are so many potential intermediate approaches I\u2019d like to suggest defering trying to standardize that until we have more experience.", "Will the definition of GeoPoint and NavSatFix be changed then or how will that be handled?", "For this I agree with Jack that we shouldn\u2019t change these. In particular they are in the lat/lon/altutude and we should make sure that we have good standard conversions going from that into our Euclidean map frame. But if you\u2019re working in pure GPS data avoiding the overhead of the corrections, raised as a concern above, is valuable. The WGS84 ellipsoid is the most native datatype for a GPS fix.", "Edit: REP 105 update: ", " in the ", "\nREP 147 update: ", "I also share the concerns of using AMSL as an altitude reference and tended to vote for the WGS84 geoid, mainly for the reasons already mentioned above:", "I think you meant WGS84 ellipsoid here.", "Sorry I misinterpreted your previous comment to be suggesting the WGS84 Ellipsoid. With some more reading I think that the WGS84 geoid using EGM1996 is our best standard to approximate MSL.", "I was actually suggesting to use the WGS84 Ellipsoid since that is what is used in NavSatFix and GeoPoint.", "In our UAV system I have gone back and forth between what to use. First I used the WGS84 Geoid as the altitude if nothing else was specified.  But then I started to use GeoPoint and then I switched to WGS84 Ellipsoid as the default thing. And I though that worked better.", "Also MavLink I thinks is outputting the wrong altitude in the NavSatFix message.  So I am not sure that the documented semantic of the NavSatFix message is respected everywhere,", "For applications with multiple UAVs that need to tell each other about their position we have standardized on using GeoPoint and GeoPose.", "Also MavLink I thinks is outputting the wrong altitude in the NavSatFix message.  So I am not sure that the documented semantic of the NavSatFix message is respected everywhere,", "I am sure there are several examples that do not follow the standard. I even know of one device that outputs NAD-83 when receiving a differential correction, but switches to WGS-84 otherwise. That kind of complexity is better left to the device driver so other downstream ROS components can ignore it.", "So, the driver you mention probably has a bug which should be reported as an issue. For many applications those differences are not that significant, but eventually someone will notice and care about it.", "For applications with multiple UAVs that need to tell each other about their position we have standardized on using GeoPoint and GeoPose.", "That is the why we chose to use a minimal number of representations for those messages. They are not always optimal, but they make sharing between systems and components much cleaner.", "I\u2019ll update the REP to call out EGM1996 as the reference altitude. And we should make sure to import the reference conversion methods.", "I am not sufficiently experienced with aerial vehicles to understand the reasons for picking that over the simpler WGS-84 ellipsoid.", "So, please add a rationale, plus an explanation of the difference between ellipsoids and geoids (many readers probably won\u2019t understand that distinction).", "Ok, I guess we\u2019re kind of trying to determine whether the slightly more complex default is better and whether it will lead to easier to understand frames.", "However thinking about it now basically this default is going to be used in the case that there\u2019s no prior data, and thus the simpler version (Ellipsiod) makes sense. Picking the simpler solution will mean that more applications will choose to use a custom zero level appropriate for their application. Whether it be sea level, or most likely ground level at their starting point home base.", "As this is just a decision for the default w/o any other data then sticking to the simplest solution seems better actually. Does this logic make sense to everyone else? Assuming it does I can update the draft again as such.", "We\u2019re kind of deep ending on the map frames. Is there any other topics that people want to raise about the proposals?", ":", "\nI  am not sufficiently experienced with aerial vehicles to understand the reasons for picking that over the simpler WGS-84 ellipsoid.", "\nSo, please add a rationale, plus an explanation of the difference between ellipsoids and geoids (many readers probably won\u2019t understand that distinction).", "I would not call myself an expert, but I will try:", ":", "\nAs this is just a decision for the default w/o any other data then sticking to the simplest solution seems better actually. Does this logic make sense to everyone else? Assuming it does I can update the draft again as such.", "I never had a strong opinion on that point. In agree that most applications will probably not care about the difference and define their own custom zero level. But ellipsoid (WGS84) is not necessarily simpler in the sense of being more carefree or less computationally expensive. It depends on the source of the data and with what other altitude sources the data is linked to or fused with.", "Perhaps a recommendation to use MSL according to the EGM96 geoid as a reference whenever applicable and the requirement to clearly specify the reference (like in ", ") whenever a node publishes absolute altitude is enough for REP-105? Subscribers who care about the difference should provide a parameter to specify whether the altitude input is relative to the geoid or the ellipsoid and do the conversion themselves (or by using a library like ", " or ", "). Documentation and raising awareness is probably more important here than full interoperability and to enforce an eventually costly and complex conversion at the publisher\u2019s side. A future extended version of the ", " message could contain the geoid height as an optional field, following the pattern of the ", " message, which simplifies the conversion at the subscriber\u2019s side if the source (GNSS receiver) provides both.", "\nWe\u2019re kind of deep ending on the map frames. Is there any other topics that people want to raise about the proposals?", "I am happy with the current draft or REP-105, that leaves it open whether the ", " frame itself is directly geo-referenced and/or aligned or whether some other intermediate frame(s) between ", " and ", ", so that ", " would be only indirectly geo-referenced if the transformation is known. Or is \u201cMap Conventions\u201d meant as a subsection specific for the ", " frame?", "In the near future it is probably unrealistic and too disruptive to adapt common mapping/localization packages like GMapping, AMCL or hector_slam and odometry drivers in a way that they publish a ", " transform that takes into account the geo-referenced altitude and orientation, even if it might be known from GPS, magnetometers or other sensors. As a consequence, the map frame as it is known today will stay at more or less the robot\u2019s elevation and has an arbitrary but constant orientation, which also avoids the need to update visualization tools to cope with large vertical offsets between the map frame and the robot.", "Thanks for the helpful clarifications.", "When I described the WGS-84 ellipsoid as \u201csimpler\u201d,  I meant having fewer terms in the equations. That seems helpful, especially for ", " (and hence the ", " frame).", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["altitude above WGS84 ", " ellipsoid (GNSS altitude)", "altitude above MSL ", " (e.g. GNSS altitude + ", ")", "altitude above a local reference point (closest to what ", " would be in the map frame)", "pressure altitude ", " relative to ", " or ", ", which might be different from altitude above MSL or local reference point if the atmospheric conditions deviate from the standard atmosphere", "height above ground at the current location of the aerial vehicle (e.g. measured by a sonar, laser or radio altimeter)", "Most GPS units seems to give the altitude above the ellipsoid and also have the geoid correction available.  Since the geoid correction can vary in quality it is the ellipsoid value that is probablu most accurate.", "Data available about altitude specify what geoid it is using. For example KML uses EGM96.  But the data available in Sweden uses RH2000 which used the geoid SWEN08_RH2000 which is not exactly the same as the one used in EGM96.", "consistency with ", " (", ")", "eventual problems with poor quality of built-in geoid correction in GNSS receivers and/or costly calculations (", ")", "No other sensor can directly measure the altitude in MSL. Barometric altimeters need an external pressure reference anyway, which could either be the local QNH (referenced to MSL), the known elevation at startup (MSL or WGS84) or  GNSS (MSL or WGS84). The altitude representation is simply determined by what is used as a reference. A fusion algorithm could take care of the geoid correction and publish the result in WGS84.", "The WGS-84 ", " is mainly used as a reference in satellite navigation systems because it simplifies the description of the satellites\u2019 orbits and the trilateration process in the receiver.", "The height above the WGS84/EGM96 ", ", or MSL, is used for practically all other use cases:", "Elevation information in printed maps or ", "\n", "Services like the ", " or ", " and related exchange formats (", ")", "Pressure altitudes derived from barometric pressure in combination with the local ", " and the ", " (altimeter)", "\n", " like restricted airspaces (unless specified above ground level AGL or as a ", ")", "\n", ", a data exchange protocol and library that is widely used by open-source and commercial autopilots and ground stations for aerial vehicles"], "url": "https://discourse.ros.org/t/proposed-standard-interface-for-aerial-vehicles-in-ros/287"}
,{"title": "Need team member?", "thread_contents": ["Hi,", "\nIf anyone need team member, I can join. I don\u2019t have much idea about ROS. But tried all the documents and tutorials. Looking forward for some partners.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/need-team-member/1818"}
,{"title": "Unable to run sample HelloWorld code", "thread_contents": ["Hi,", "\nI just started the ARIAC challenge. I was trying to follow the tutorial. I can successfully run all the tutorial steps except the HelloWorld code. When i run the code, Gazebo starts with black screen only. What am I doing wrong here?", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/unable-to-run-sample-helloworld-code/1806"}
,{"title": "Real Time Factor going really low", "thread_contents": ["My simulation is going lagging at some points. If I check the real time factor presented by Gazebo, it goes as low as 0.32.", "Is that expected? I have an i7-6700 CPU, 16GB RAM, and a GTX 1070 but still does not seem to be enough. I understand that the ODE physics engine underneath Gazebo does not make use of a GPU, like bullet3.", "However, why the suddenly drop in performance? Why does it not go back to 0.99 or 1.0 even when the experiment is over?", "[Start of the simulation]", "\nFactor[1.00] SimTime[6.17] RealTime[7.81] Paused[F]", "\nFactor[1.00] SimTime[6.38] RealTime[8.01] Paused[F]", "\nFactor[1.00] SimTime[6.58] RealTime[8.21] Paused[F]", "\nFactor[1.00] SimTime[6.78] RealTime[8.41] Paused[F]", "\nFactor[1.00] SimTime[6.98] RealTime[8.61] Paused[F]", "\nFactor[1.00] SimTime[7.18] RealTime[8.81] Paused[F]", "\n\u2026", "\n[At one of the points where if goes lagging]", "\nFactor[0.46] SimTime[121.83] RealTime[154.42] Paused[F]", "\nFactor[0.48] SimTime[121.93] RealTime[154.62] Paused[F]", "\nFactor[0.48] SimTime[122.02] RealTime[154.82] Paused[F]", "\nFactor[0.48] SimTime[122.07] RealTime[155.03] Paused[F]", "\nFactor[0.48] SimTime[122.16] RealTime[155.23] Paused[F]", "\nFactor[0.47] SimTime[122.25] RealTime[155.43] Paused[F]", "\nFactor[0.47] SimTime[122.35] RealTime[155.63] Paused[F]", "\nFactor[0.47] SimTime[122.45] RealTime[155.83] Paused[F]", "\nFactor[0.47] SimTime[122.55] RealTime[156.03] Paused[F]", "\nFactor[0.47] SimTime[122.65] RealTime[156.23] Paused[F]", "\nFactor[0.47] SimTime[122.75] RealTime[156.43] Paused[F]", "\n\u2026", "\n[Nothing is moving, competition done]", "\nFactor[0.68] SimTime[298.30] RealTime[436.40] Paused[F]", "\nFactor[0.68] SimTime[298.44] RealTime[436.60] Paused[F]", "\nFactor[0.68] SimTime[298.57] RealTime[436.80] Paused[F]", "\nFactor[0.69] SimTime[298.71] RealTime[437.00] Paused[F]", "\nFactor[0.69] SimTime[298.84] RealTime[437.20] Paused[F]", "\nFactor[0.70] SimTime[298.96] RealTime[437.41] Paused[F]", "\nFactor[0.70] SimTime[299.09] RealTime[437.61] Paused[F]", "Hi ", ", the realtime factor is strongly influenced by the number of parts in the ARIAC environment. This is why different scenarios will have different realtime factors. The RTF doesn\u2019t go back to 1.0 after the trial is over because the models are still in the environment (just not in their original position).", "If you manually move/add/delete any models in the environment the RTF will drop temporarily. If you are experiencing a low RTF temporarily, but then it recovers, this may be the cause.", "If you are just experiencing a low RTF in general, removing unnecessary models from the environment during development will help. We have added the \u201cImproving real-time factor during development\u201d section in the ", " which details how to temporarily disable some models.", "Hope this helps.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/real-time-factor-going-really-low/1875"}
,{"title": "For ariac; I cant run catkin_make install because could not find a package configuration provided in gazebo_ros with any of the following names gazebo_rosConfig.cmake and gazebo_ros-config.cmake", "thread_contents": [":~/ariac_ws$ catkin_make install", "\nBase path: /home/netza/ariac_ws", "\nSource space: /home/netza/ariac_ws/src", "\nBuild space: /home/netza/ariac_ws/build", "\nDevel space: /home/netza/ariac_ws/devel", "\nInstall space: /home/netza/ariac_ws/install", "\u2013 Using CATKIN_DEVEL_PREFIX: /home/netza/ariac_ws/devel", "\n\u2013 Using CMAKE_PREFIX_PATH: /opt/ros/lunar", "\n\u2013 This workspace overlays: /opt/ros/lunar", "\n\u2013 Using PYTHON_EXECUTABLE: /usr/bin/python", "\n\u2013 Using Debian Python package layout", "\n\u2013 Using empy: /usr/bin/empy", "\n\u2013 Using CATKIN_ENABLE_TESTING: ON", "\n\u2013 Call enable_testing()", "\n\u2013 Using CATKIN_TEST_RESULTS_DIR: /home/netza/ariac_ws/build/test_results", "\n\u2013 Found gtest sources under \u2018/usr/src/gtest\u2019: gtests will be built", "\n\u2013 Using Python nosetests: /usr/bin/nosetests-2.7", "\n\u2013 catkin 0.7.8", "\n\u2013 BUILD_SHARED_LIBS is on", "\n\u2013 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~", "\n\u2013 ~~  traversing 3 packages in topological order:", "\n\u2013 ~~  - osrf_gear", "\n\u2013 ~~  - ariac_example", "\n\u2013 ~~  - test_ariac", "\n\u2013 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~", "\n\u2013 +++ processing catkin package: \u2018osrf_gear\u2019", "\n\u2013 ==> add_subdirectory(ariac/osrf_gear)", "\nCMake Warning at /opt/ros/lunar/share/catkin/cmake/catkinConfig.cmake:76 (find_package):", "\nCould not find a package configuration file provided by \u201cgazebo_ros\u201d with", "\nany of the following names:", "Add the installation prefix of \u201cgazebo_ros\u201d to CMAKE_PREFIX_PATH or set", "\n\"gazebo_ros_DIR\" to a directory containing one of the above files.  If", "\n\"gazebo_ros\" provides a separate development package or SDK, be sure it has", "\nbeen installed.", "\nCall Stack (most recent call first):", "\nariac/osrf_gear/CMakeLists.txt:8 (find_package)", "\u2013 Could not find the required component \u2018gazebo_ros\u2019. The following CMake error indicates that you either need to install the package with the same name or change your environment so that it can be found.", "\nCMake Error at /opt/ros/lunar/share/catkin/cmake/catkinConfig.cmake:83 (find_package):", "\nCould not find a package configuration file provided by \u201cgazebo_ros\u201d with", "\nany of the following names:", "Add the installation prefix of \u201cgazebo_ros\u201d to CMAKE_PREFIX_PATH or set", "\n\"gazebo_ros_DIR\" to a directory containing one of the above files.  If", "\n\"gazebo_ros\" provides a separate development package or SDK, be sure it has", "\nbeen installed.", "\nCall Stack (most recent call first):", "\nariac/osrf_gear/CMakeLists.txt:8 (find_package)", "\u2013 Configuring incomplete, errors occurred!", "\nSee also \u201c/home/netza/ariac_ws/build/CMakeFiles/CMakeOutput.log\u201d.", "\nSee also \u201c/home/netza/ariac_ws/build/CMakeFiles/CMakeError.log\u201d.", "\nInvoking \u201ccmake\u201d failed", "some one have the same problem and how you solve it ?", "It looks like you don\u2019t have ", " installed, perhaps you missed a step of the installation instructions: ", "I see that you\u2019re using ROS lunar; please note that ARIAC currently supports indigo and kinetic, so if you run into other issues I suggest you try using one of those ROS versions (from binaries will be easiest).", "In the future you can ask technical/troubleshooting questions at ", "Thank you, I have installed both, when I select kinetic is running perfect.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/for-ariac-i-cant-run-catkin-make-install-because-could-not-find-a-package-configuration-provided-in-gazebo-ros-with-any-of-the-following-names-gazebo-rosconfig-cmake-and-gazebo-ros-config-cmake/3593"}
,{"title": "Versions of ROS and Gazebo for 2018", "thread_contents": ["What versions of ROS and Gazebo are needed for the 2018 competition?", "Ubuntu Xenial + ROS Kinetic and Gazebo 8 in 2018. In 2017 teams could choose xenial+kinetic or trusty+indigo, but with this year being a prize competition we are requiring all teams to use the same base setup.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/versions-of-ros-and-gazebo-for-2018/3977"}
,{"title": "Team member for ARIAC 2018", "thread_contents": ["If somebody wants, I can join their team for ARIAC 2018", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/team-member-for-ariac-2018/3983"}
,{"title": "Ending time for qualification runs", "thread_contents": ["What is the ending time for submissions on the qualifying runs?", "Submissions must be uploaded by Midnight PST Monday 19 March", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ending-time-for-qualification-runs/4198"}
,{"title": "Ubuntu / ROS Version", "thread_contents": ["Will this run of Ariac be on 18.04 and Melodic?", "Yes, the current plan is Gazebo 9, 18.04 and Melodic.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ubuntu-ros-version/7451"}
,{"title": "Break_beam sensor not publishing on named topic", "thread_contents": ["I am running from the ariac binary package on ROS Indigo and getting familiar with the environment.  I added two break_beam sensors to the conveyor belt, however both sensors publish on the /ariac/break_beam topic instead of the documented /ariac/{name} dedicated topic for each sensor.  It is usable that way for a single sensor, but with multiple sensors publishing on the same topic it is not.  The logical_camera sensors work as expected with a named topic for each camera.  It doesn\u2019t look like the bitbucket repository has issue tracking enabled, so I am posting here.  Also, any idea when the first qualifier will be posted?", "That sounds like a bug to me, I\u2019ve created an issue for this:", "See: https://discourse.ros.org/t/break-beam-sensor-not-publishing-on-named-topic/1057\n\nThis effectively prevents you from using more than one break beam sensor at a time since they would all publish to the same topic.\n\nI suppose that may have...", "I\u2019ll see about getting the issue tracker opened up too. I\u2019m not certain about the schedule (so I won\u2019t guess), but someone else may be able to comment about that.", "Thank you for creating the issue in my behalf and getting issues opened up for public access.", "Hi Michael,", "\nThis issue should be fixed now and you should see the unique topic names for break bream sensors once you update your ARIAC software, either with ", " or pulling from master if you are building from source. Thank you for pointing it out.", "Regarding the first qualifier, it will be posted on the 27th Jan 2017: see ", " for registration details.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/break-beam-sensor-not-publishing-on-named-topic/1057"}
,{"title": "Moveit tutorial for Araic 3", "thread_contents": ["Can we expect a Moveit tutorial and support files soon for the UR10 arms? Tried following 2018 UR10 but clearly there are changes in Melodic that cause problems. Not much luck with generic Moveit tutorials, either.", "I can\u2019t speak for ariac organizer, but assuming updating tutorial is either WIP or hasn\u2019t started yet, reporting specific issues might better help them. It also helps the general community e.g. MoveIt! and/or UR10 users/maintainers, who could also give some hands (e.g. tutorial is probably wiki etc. that accepts contribution (is it right?) so that they (or even you) may provide a fix).", "Valid points and suggestion. The package for Ariac3 was just released on Friday. Up until then I\u2019d been working with the source code, reporting a couple issues when I found them.", "A key part is getting a Moveit configuration for the UR10. In 2017 and early 2018 such they were available for the competition. They won\u2019t work with ROS or Moveit Melodic versions. There isn\u2019t a configuration for 2019, as of yet. Attempts to create one from the UR10 definition files result in an error from the Setup Assistant that they are invalid files. I seem to recall that one of the earlier years they hand-edited an existing configuration rather than using the Assistant.", "My conclusion is creating a configuration is non-trivial task that I\u2019d rather not undertake. If I did, it would take time from other aspects of the competition that I need to address. Since arm control is a key component of Ariac and the most complicated aspect it surely should be a high priority for them to provide competitors with the necessary tutorial, or at least files.", "More specifically, depending on the time frame of the tutorial or files I will can better plan my development activities. Bluntly, I didn\u2019t compete last year because I couldn\u2019t get the arm to work properly. I know I need a lot of work on it. If the ability to use Moveit will be awhile I either need to look at alternatives, or possibly not even bother since I won\u2019t have enough to understand the arm control.", "Linking ", "There\u2019s now a MoveIt tutorial for ARIAC 2019 ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/moveit-tutorial-for-araic-3/8092"}
,{"title": "Rosrun can't find osrf_gear on kinetic, Ubuntu 16.04", "thread_contents": ["I get the following error attempting to run per the instructions on the wiki:", "I have build osrf_gear from source. Here is the output of ", " after I source the ", " file in my ariac workspace cloned from bitbucket:", " finds osrf_gear.", "Hints as to why ", " can\u2019t seem to find the osrf_gear package?", "catkin_find --share osrf_gear", "Hi Daniel,", "Can you post the output of ", "?", "How did you build our software? It looks like you\u2019re using a \u201cdevel space\u201d (see ", "). You might try installing and using the install space, as that\u2019s what I did most of my testing with. If there is an issue with the devel space we should fix it, but using the install space might be a good workaround in the meantime.", "Yep. I was using the development space. I installed using ", " and its finding ", " now.", "Thanks!", "Cool, I\u2019ll open an issue to track the devel space problem:", "See: https://discourse.ros.org/t/rosrun-cant-find-osrf-gear-on-kinetic-ubuntu-16-04/1026/4\n\nUsing the install space resolved the issue.", "Also, I\u2019d recommend using a local install location, i.e. simply don\u2019t specify ", " and it will default to a folder called ", " next to the ", " and ", " folders.", "I don\u2019t recommend installing to ", ", but you can if you know what you\u2019re doing ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/rosrun-cant-find-osrf-gear-on-kinetic-ubuntu-16-04/1026"}
,{"title": "2018 Source Build Fails", "thread_contents": ["I\u2019m trying to get the 2018 software to run using Ubuntu 18.04 and ROS Melodic as a start toward competing this year. I grabbed the source both for \u2018master\u2019 and \u20182018\u2019 (whatever the exact name is) but get the same error:", "There are some other errors where \u2018get\u2019 methods are not available like:", "\n", "Is it feasible to run 2018 on my newer system?", " branch will run on bionic/melodic after this pull request is merged. ", "Mind checking if that branch works on your machine?", "It built fine and executed ", ".", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/2018-source-build-fails/7560"}
,{"title": "ARIAC 2020 Prize Competition Announcement", "thread_contents": ["Dear Robotics Enthusiasts,", "This letter is to announce the official start of our annual Agile Robotics for Industrial Automation Competition (ARIAC) call for participation!", "Do you have what it takes to be the best of the best to test the agility of industrial robotics systems, with the goal of enabling industrial robots on the shop floor to be more productive and autonomous? Then, prove it by being the top participating team with your innovative solutions to the problems posed by the ARIAC 2020 Competition. Robotics enthusiasts from all over the world are invited to participate in this simulation-based competition.", "Our intention is for ARIAC 2020 to continue to be a prize competition with the same prizes we had in the past years. So, are you up to the challenge? Please follow the steps to register ", ".", "For more details regarding the ARIAC 2020, please visit ", ".", "Best of Luck to everyone!", "Sincerely,", "Murat Aksu", "Electronics Engineer", "Intelligent Systems Division", "National Institute of Standards and Technology", "100 Bureau Drive, Stop 8230", "Gaithersburg, MD 20899-8230", "301-975-3735", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ariac-2020-prize-competition-announcement/11387"}
,{"title": "Scheduled maintenance for build.ros.org Thursday 24 August 13:00-15:30 Pacific (UTC-7)", "thread_contents": ["We\u2019re getting ready to migrate the ROS buildfarm from Trusty to Xenial.", "\nIn order to completely test the migration of the Jenkins host we\u2019re scheduling some downtime to take a preliminary snapshot of the production Jenkins data.", "At 13:00 Pacific time tomorrow Jenkins will be put into shutdown mode, preventing new jobs from starting.", "\nDepending on the number and estimated completion time of running jobs, they may be allowed to complete or they may be terminated.", "Once there are no running jobs we\u2019ll begin archiving the directory and transfer it to a test host.", "\nAfter the transfer is complete we will bring Jenkins out of shudown preparation and close the maintenance window.", "Updates will be posted to ", " and I\u2019ll post back here once the whole process is complete.", "Maintenance has been completed and the buildfarm is back online.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/scheduled-maintenance-for-build-ros-org-thursday-24-august-13-00-15-30-pacific-utc-7/2498"}
,{"title": "Setting up buildfarm", "thread_contents": ["Im trying to setup a build and trying to follow the tutorial on this page.", "I cloned this repo and entered the directory.", "git clone ", "but im unable to locate the ", " file to build the image.", "Hi ", ", that documentation is out of date from our old docker in docker experiments. I\u2019ve removed it. Please follow the main instructions in the ", " to set things up.", "I\u2019ve opened a PR to update the docs ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/setting-up-buildfarm/2330"}
,{"title": "New release of the ros_buildfarm package (version 1.4.1)", "thread_contents": ["I have just released version 1.4.1 of the ", " package. There are only a few changes this time. The one addressing the Debian mirrors from the ", " is likely the most helpful one if you target Debian:", "Happy Building!", "PS: This release will likely be the last one targeting Trusty-based machines. If you are using the ", " branch in your custom buildfarm you should carefully read the upcoming announcement since the next release will require Xenial-based machines running Java 8.", "One note regarding targetting the Debian mirror fix:", "\nIt proved to work well for us when deploying the buildfarm on AWS machines. Some people experienced issues with this CDN when using ros_buildfarm on travis (example ", ") so you may want to target a different mirror (by replacing this ", ") if you are facing the same issue", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["use cloudfront mirror for all Debian sources"], "url": "https://discourse.ros.org/t/new-release-of-the-ros-buildfarm-package-version-1-4-1/2537"}
,{"title": "Initial setup", "thread_contents": ["Im trying to setup a buildfarm and need some clarification.", "Question:", "Thanks in advance,", "I cloned this repo - ", "The doc in the repo says I need to model as per the config repo # ", "Question:", "The file inside the buildfarm_deployment repo does not look like the config files in the buildfarm_deployment_config. Each directory(master,repo and slave) has only manifests and repo_files directory. Where should I drop these config files?", "You don\u2019t need to fork the buildfarm_deployment repo, but the buildfarm_deployment_config repo. See the instructions ", " about how to \u201cfork\u201d privately.", "The system is separated such that you can consider the buildfarm_deployment repo to be used as a tool or library without modifications. You would only need to fork it if you want to change the behavior, and then you would modify your config to refer to your own forked version.", "Is there a dockerfile that I can use to spin off 3 servers in my local env.", "No there is not. We originally started developing and testing doing that. However because we use Docker for isolation of the build steps we had to drop running the 3 host types in Docker too. This is because Docker-In-Docker is possible, but still has many hiccups that caused many more problems than we wanted to deal with. There\u2019s a hope in the future to support running all three server configs on the same host. But that will take a bit of refactoring and is not currently a development priority. We recommend 3 VMs for testing/deployment.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["I cloned this repo - ", "\n", "The doc in the repo says I need to model as per the config repo # ", "\n", "The file inside the buildfarm_deployment repo does not look like the config files in the buildfarm_deployment_config. Each directory(master,repo and slave) has only manifests and repo_files directory. Where should I drop these config files?", "Is there a dockerfile that I can use to spin off 3 servers in my local env."], "url": "https://discourse.ros.org/t/initial-setup/2331"}
,{"title": "Breaking changes coming: buildfarm_deployment moving to Ubuntu 16.04", "thread_contents": ["This post announces some breaking changes for build farms based on ", " and ", ".", "The canonical ROS buildfarm at ", " has recently been migrated to Ubuntu Xenial ", "Over the next couple of weeks I\u2019ll be preparing a guide with specific changes and suggestions for implementing the migration based our experience migrating the canonical farm. There will also be instructions for keeping your instances targeting the current Trusty-based farm once the master branch receives the Xenial updates.", "If you\u2019re interested in reading ahead you can check out the following pull requests on GitHub", "I don\u2019t have an exact hard deadline for when the master branch will move to xenial only as it depends somewhat on the stability of the new build farm and the amount of time I can allocate to writing the migration guide but expect at least two weeks\u2019 notice and I don\u2019t expect to have it done before ROSCon.", "On that note, I\u2019ll be at ROSCon and it\u2019ll be my first time so if you want to talk about the buildfarm or other ROS infrastructure there hit me up!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/breaking-changes-coming-buildfarm-deployment-moving-to-ubuntu-16-04/2634"}
,{"title": "Build failing: mongdb_store", "thread_contents": ["Hi, apologies if this is the wrong topic to put this in (if so, please move/advise), but I have a package that is failing to build on the buildfarm and I can\u2019t immediately see why.", "The package is ", " for 15.04 (jessie).", "An instance of the job is here: ", "It appears to be failing due to a missing rosdep key for ", " but this is listed in the rosdep: ", "We have this building successfully on 14.04 (", ") and 16.04 (", "), so I\u2019m not sure what the issue us with 15.04. Anyone got any ideas?", "thanks,", "Nick", "The key error is in the debian pipeline after rosdep has already been resolved by bloom.", "Your problem is that mongodb does not have a armv8 version for Jessie. It has i386, amd64, and armhf: ", "So you\u2019ll want to add this package to the jessie armv8 blacklist: ", " And then the buildfarm will stop trying to build the package.", "Thanks! PR created: ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/build-failing-mongdb-store/2685"}
,{"title": "Jenkins pw utility", "thread_contents": ["Perhaps useful to others: ", ". This is a simple script that generates a Jenkins compatible password hash using ", ".", "Starting up a Jenkins instance to get hold of such a hash for your new Jenkins deployment seemed a bit convoluted ", "Thanks ", " That looks super useful. This would be great to leverage in the deployment so we could avoid storing the intermediate values in the config and having to keep a parallel record of them.", "You mean the admin password ", " the hash? Yes, I was thinking about that as well.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/jenkins-pw-utility/3779"}
,{"title": "New release of the ros_buildfarm package (version 2.0.0)", "thread_contents": ["I have just released version 2.0.0 of the ", " package.", "The most important reason for the major version bump is that it requires the provisioned machines to use Xenial as well as Java 8. So ", " for your current buildfarm. In order to switch from a previous release (1.4.x) you must update your provisioned machines according to the current ", " instructions. The advantage of the newer host system and versions of various dependencies are plenty of fixes and improvements.", "Also this version targets Jenkins (up to) version 2.89.x. The latest LTS release of Jenkins 2.107.x brings additional changes which ", " hasn\u2019t been updated for. There will be a follow up release addressing this in the near future.", "You will find a complete list of all the changes in the ", ".", "Happy Building!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/new-release-of-the-ros-buildfarm-package-version-2-0-0/4381"}
,{"title": "ARIAC code release updates", "thread_contents": ["The software for competing in ARIAC 2018 has been released.", "See ", " for competition documentation, installation instructions, and tutorials for working with the software.", "New ARIAC software release (excerpt from ", "):", "First qualifier has been released (excerpt from ", "):", " Submissions for the first qualifier will be uploaded via secure online workspaces. All registered teams must contact ", " to have their workspace prepared in advance of when they intend to submit. If you are planning a submission for the first qualifier and do not yet have a secure workspace, you must contact ", " immediately or you risk missing the submission deadline.", "After the first qualification task closes the ", " topic will become classified as a cheat.", " The IIWA14 will be used in all future trials; the UR10 will no longer be used. The IIWA14 presents the same ROS interface but ", ". This was announced as an upcoming change on 17 February 2018.", " The workcell environment, particularly the shipping container, shelving and the conveyor belt, has been updated to accommodate the working area of the IIWA14. ", " The dimensions of the shipping boxes, storage bins, and products have not been modified.", "The controller has been updated to avoid an issue with joint 7 getting stuck, and to relax tolerances on the trajectory controller (", ").", "To test out the proposed changes, add the ARIAC pre-release repository with:", "and then run ", ". Your ARIAC version will be updated to 2.1.5, which will become the standard version if no regressions are reported. Please report regressions on the issue linked above.", "When you are finished testing we suggest you remove the ", " added in the above command.", "The software for competing in ARIAC 2019 (", ") has been released!", "Please see ", " for instructions as they have changed, especially if you have installed a prerelease. This version is feature complete. Follow this thread to get notified of future bug fix releases.", "Other links", "The software for competing in ARIAC 2019 (", ") has been released!", "\nPlease see the ", " and ", " for more information.", "This release contains the trial config files for the Qualifier.", "\nPlease see the ", " to learn how qualification works and the ", " to learn how to practice on the Part A trial configs.", "\nQualifier submissions will be accepted until ", ".", "Other links", "The end date of the 14th conflicts with those on the ", " site (", "):", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", " See ", " for how to launch the trials. Summary of new trial config files (more details in the files themselves):\n", "\n", ": high priority order interruption at a \u201cconvenient\u201d time.", "\n", ": high priority order interruption at an \u201cinconvenient\u201d time.", "\n", ": order requiring products to be flipped (", ").", "\n", ": order requiring more products than available for use.", "\n", "\n", " See ", " for details.", "\n", " The arm can no longer pass through the support frame around the storage bins. This was advised as an upcoming change on 17 February.", "\n", " In response to the additional workcell collisions, the logical camera range has been reduced.", "\n", " This would happen if the ", " service was called before the simulation had finished loading.", "\n", " See ", " for details.", "\n", " See ", " for how to enable/playback simulation state logging for debug purposes.", "\n", " ", " now covers rules/scoring metrics in addition to software changes.", "\n", " Fixes for the simulation state logging (low RTF during recording, no arm inserted during playback) will be resolved in the next Gazebo release.", "\n", " The ", " product\u2019s yaw is not distinguishable with perception sensors, but its yaw is evaluated by the scoring algorithm. This will be corrected for, either by making the yaw perceivable or by having the scoring algorithm ignore the yaw.", "\n", " In particular, info on the storage bins, quality control sensors, potential products, and potential order count. See ", " for the added details.", "\n", " ", "/competition specifications have been updated to clarify that sensors can only be placed in static locations around the environment, they cannot be attached to the arm.", "\n", " Docker images used for the ", " are currently using gazebo7.7 to avoid state log recording issues, but will be swapped to the next gazebo version when it is released (within the next week).", "\n", " A fix for the simulation state log playback freezing with gazebo8.3 will be resolved in the next Gazebo release. This impacts teams looking to playback state logs from the automated evaluation setup. See ", " for how to install gazebo8.2 as a temporary fix.", "\n", " After the first qualification task closes the ", " service will become classified as a cheat. Teams will need to use sensors to infer the products available in storage bins.", "\n", " In ariac2.0.4, models in the environment of a particular type have sequential IDs. The naming system will be modified so that model IDs are randomized. As a result, logical cameras/quality control sensors will not publish TF frames, which include model IDs, correlated to the number of models in the environment.", "\n", " In ariac2.0.4, the conveyor can be controlled before the competition has been started. This functionality will be removed and must not be exploited by teams.", "\n", " For all future trial config files released (including qual1b), products in the storage bins will no longer have sequential IDs.", "\n", " Fixed misalignment of the vertical bars in the support frame around the storage bins.", "\n", " It is now asymmetric on top and bottom. Pulleys (and all other products) will always start un-flipped in the storage bins.", "\n", " By default the UR10 has joint limits of ", "; there is now an option to use joint limits of ", ", which provides better controller performance ", ". It can be enabled by adding ", " to your team\u2019s config file ", ". Participants that do not wish to enable this option do not need to make any changes to their system. The use of this option is permitted in submissions for the first qualifier.", "\n", " The ", " Docker image used in ", " has been updated to use gazebo8.4 now that the logging issues have been resolved.", "\n", " Teams must have had a secure workspace created by competition controllers before they can upload their submissions for ", ".", "\n", " See ", ". Note that these may change between rounds of the competition.", "\n", " Clarified that only automated evaluation metrics will be used for ", " and that any participants found violating submission guidelines (e.g. by starting the conveyor belt before starting the competition) will not be permitted to qualify for the Finals.", "\n", " ", ", ", ", ", ", ", ", ", " topics/services documentation added/updated in ", ".\n", "Clarified that requesting that the drone deliver any unknown shipment type will cause the drone to remove the box without scoring it.", "\n", "\n", "\n", "\n", "\n", " Re-runs for ", " will be permitted only in the event of simulation bugs such as reported issues ", " and ", ", at the discretion of the competition controllers. Any issues caused by competitors\u2019 code does not warrant a re-run.", "\n", " ", " has been updated to clarify that simulation state logging will be enabled in the first qualifier trials via the ", " setting in the the trial config file. If the config file that you are testing with in the automated evaluation setup does not have logging explicitly enabled ", ", please add that line to the config file to enable logging.", "\n", "\n", "\n", "\n", "\n", " Tutorials involving control of the robot arm have been updated for the switch to the IIWA14.", "\n", " Read/use ", " for practice.", "\n", " Read/use ", " for practice.", "\n", " The config file that was used for evaluating Part B of the first qualifier is in ", ". Congratulations to the teams that qualified for the Finals.", "\n", "\n", "The ", " service and the ", " topic have been re-classified as cheats.", "The quality control sensors now publish anonymized model names instead of the types of the faulty products that are detected. As a side effect, the model numbering scheme has been updated; any randomized faulty product IDs in custom-defined trial configs will need to be updated.", "\n", "\n", " Use of the devel space is now supported for users building from source (contributed by ", ").", "\n", " The ", " now highlights that sample config files are available for practicing with.", "\n", " Read/use ", " for practice. Note that re-connecting to some sensors during development will cause them to resume publishing data, but this functionality is blocked in the automated evaluation setup.", "\n", " This is the break beam positioned at the end of the conveyor belt by default.", "\n", " Service calls to set the conveyor belt power before the competition has been started will fail.", "\n", " The ", " now detail that sensors can be placed in any free space in the workcell, they do ", " need to be mounted such that they are touching the conveyor belt/support frame of the storage bin. Sensors must be used in a realistic manner and must not exploit any simulation technicalities such as the logical camera seeing through obstructions.", "\n", " See ", " for details. Teams that did not participate in the first qualification task, and teams that participated but did not qualify, are still eligible to participate in the second qualification round.", "\n", " ", ", which would occur occasionally for some participants, should now be resolved.", "\n", " The external walls of shipping boxes have been widened to make ", ", where boxes would fall into the conveyor belt, less likely to occur. The internal dimensions of the boxes are unchanged.", "\n", " The ", " have been updated to highlight that Gazebo 8.4 is required to avoid issues with state logging recording/playback. ", "\n", "\n", " ", " has been added, which summarizes the released agility challenges, including additional details on the \u201csensor blackout\u201d challenge.", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", " The arm simulation model/controller has been updated to avoid an issue with joint 7 getting stuck/causing instability, and to relax tolerances on the trajectory controller (", "). ", "\n", "\n", " The ", " page now clarifies that products must be placed onto the base of the shipping box to be counted for scoring, not on top of other products.", "\n", " Two \u201cpre-release\u201d versions of 2.1.5 were released to users for testing prior to yesterday\u2019s ariac2.1.5 release to improve IIWA14 controller performance: 2.1.5~pre1 and 2.1.5~pre2. The version released yesterday was 2.1.5~pre2; ariac2.1.6 rolls back to 2.1.5~pre1 based on feedback from participants that it provides better arm performance.", "\n", " As mentioned in ", ", 500 sim seconds will be used for qual2b. The ", " now clarify that this information is not broadcast by the ARIAC server. For the Finals, as with the Qualifiers, the time limit will be set as a fixed value for all trials, which teams will know in advance. There are no time limits for individual orders.", "\n", " The config file that was used for evaluating Part B of the second qualifier is in ", ".", "\n", " The simulation model of the conveyor belt has been updated to  make ", ", where boxes fall into the conveyor belt, less likely to occur. There should be no other observable impact to users.", "\n", " The ", " has been released, including details on what to expect in the Finals, dry-run testing on the competition machines, and the schedule for the process.", "\n", " Structure of the ", " directory output by the automated evaluation setup is now described ", ".", "\n", " The config files used for the Finals of the competition are in the ", " directory. ", ". ", "\n", "\n", " (This change was included in the version of ARIAC used for evaluating the Finals).", "\n", " Closing/collection of shipping boxes during log playback now works correctly during state log playback.", "Registration: ", "\n", "Main NIST ARIAC Website (General information): ", "\n", "Competition rules: ", "\n", "Software documentation: ", "\n", "Support Email: ", "\n", "Forum for discussion: ", "\n", "Register to compete: ", "\n", "Main NIST ARIAC Website (General information): ", "\n", "Competition rules: ", "\n", "Software documentation: ", "\n", "Support Email: ", "\n", "Forum for discussion: ", "\n"], "url": "https://discourse.ros.org/t/ariac-code-release-updates/4009"}
,{"title": "New to buildfarm!", "thread_contents": ["I\u2019m new to build farm. Can someone explain or send me the link of any tutorial that explains how to setup a buildfarm. I\u2019m having a hard time understanding the documentation here. ", "The README of the repository you linked to point to the following wiki page: ", "That should be you with the overview of two parts \u201cmachine provisioning\u201d as well as \u201cjob generation\u201d. For each part the corresponding repository contains instructions how to proceed.", "I tried to follow the instructions in ", ". I mirrored the repo to my git account. But the next step includes making some changes in the common.yaml file which I couldn\u2019t find. I\u2019m missing something. I just don\u2019t know what it is. It will be great if you could provide me with some step by step guide on how to use these links.", "Thanks !", "The file ", " is part of the configuration repository: ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/new-to-buildfarm/4364"}
,{"title": "Status of Xenial migration", "thread_contents": [": can you comment on the current status of the recently merged Xenial upgrades to ", " and related repositories?", "I\u2019m starting to deploy a new buildfarm instance and would like to do a Xenial based one, but seeing the recent PRs against ", " and some of the tickets make me hesitant.", "There\u2019s also still a ", " branch. Is that a remnant, or is that also going to be merged at some point?", " I\u2019m very glad you asked! Making a status post has been on my list of things to do and has been consistently pre-empted so I appreciate that you prompted one.", "In one sentence: It works, there are some issues inherited from the Trusty buildfarm as well as some new ones and more changes are coming.", "\nThis is causing a significant bottleneck for low level packages in the very large rosdistros, kinetic and indigo. Unless a farm is rebuilding the entire rosdistro this may not be too much of a problem. We\u2019re managing it on the canonical buildfarm until we have time to pick up the investigation by throttling the number of concurrent jobs when low-level packages are rebuilding.", "\nThe early days of the new buildfarm gave the Jenkins java process too much of the total system memory and during high load periods spikes would trigger the oom-killer. Worse still, the buildfarm would not come back on its own. I\u2019m pretty sure the issue here is that the init script created by the jenkins puppet module is not properly configured to be managed via xenial\u2019s systemd/init compatibility and I plan to resolve this by writing an explicit systemd service for Jenkins rather than using the one built into the puppet module.", "\nThis is a seeming regression that has yet to be investigated and primarily effects buildfarm instances with elastically provisioned workers.", "I would like to work with the community to settle on a branching/versioning model that will satisfy our need to keep ", " operating smoothly and with live changes conducted properly through configuration management and the community need to have configuration management that doesn\u2019t change drastically week over week. I\u2019m very open to suggestions from the community here. I\u2019d be fine adopting ", " outright, adopting basic versioning, or maintaining, with the help of a community team, ", " and ", " branches of the buildfarm deployment repositories.", "The buildfarm_deployment repository has seen a lot activity recently, primarily because improving and maintaining it is one of my core responsibilities. In order to facilitate the move to xenial I paid down quite a bit of technical debt in the form of duplication. I also made some refinements which had implications beyond my understanding at the time and which required further changes down the line. With outstanding issues on the Trusty buildfarm becoming increasingly pronounced, I also dropped some features from the initial \u201crelease\u201d of the xenial branch in order to perform the migration.", "The largest of the postponed features is currently in progress as ", " and will enable deploying a ROS buildfarm on a single host, rather than the three needed to run the complete buildfarm today.", "The deployment scripts had overlapping configuration values for the different roles and in order to realize a single-host buildfarm the configuration \u201cAPI\u201d/structure will need to change as well. So the current configuration values will require later changes to keep up with master when that pull request merges. I\u2019m happy to open a discussion on discourse, or in a GitHub issue, to go into further detail on the branching model discussion. Where do folks prefer?", "There\u2019s also still a xenial branch. Is that a remnant, or is that also going to be merged at some point?", "The xenial branches are remnants and will be removed at a future date. The buildfarm_deployment xenial branch was merged by ", " and has not been deleted yet to accommodate hosts that autoreconfigure based on the xenial branch. I think my ROS 2 farm is the primary culprit here and per ", " I was waiting to delete branches to give folks testing them time to move off and onto ", " which is the branch that currently sees all new development.", "The ", " branch in the ", " repo was just a left over. I just removed the branch to avoid confusion.", "Hi all,", "I\u2019ve been trying to get ros_buildfarm instance up and running using the latest updates and, I\u2019ve faced two major issues; I still haven\u2019t been able to solve one of them.", "The first one might sound really silly. I used to get jenkins installed from ", ", that at the time it had a newer version of it (2.73.3, though 2.89.1 is now the most recent version). However, yhe default configuration of ", " uses ", ".", "I filled the configuration files with the data from the servers I was going to use and I proceeded to install and reconfigure the ros_buildfarm. Once it was over, apparently with no errors, I wasn\u2019t able to get into jenkins by using its web interface. I then checked apache and the opened ports: Apache was installed, and port 80 was open, though only to IPv6.", "Finally, after finding the pupper log file by chance (I\u2019ve never used before puppet and I didn\u2019t know it had a log file), it had an error on a non-existant jenkins version. Once the configuration file was changed to ", ", the whole process worked properly. It would had been nice to get an error message regarding an unavailable jenkins version or maybe some hints about the existing log file or the possible errors.", "The second problem is related to job generation. After cloning the ", " and ", ", and filling in the data, I\u2019ve not been able to generate jobs due to a python ", " (although this might not be the place, just in case, i\u2019ve uploaded ", ". This has me currently blocked, and I don\u2019t know how to solve it, so some hints or documentation would also be nice.", "Thank you for your hard work,", "Best regards,", "The second problem is related to job generation. After cloning the ", " and ", ", and filling in the data, I\u2019ve not been able to generate jobs due to a python ", " (although this might not be the place, just in case, i\u2019ve uploaded ", ". This has me currently blocked, and I don\u2019t know how to solve it, so some hints or documentation would also be nice.", "Looking through the log you linked:", "Don\u2019t the ", " scripts require Python 3.x (see also ", ")?", "I had opted to use python2 because the scripts need the ", " package. Only the python2 version of the package is present in the ", ".", "I have proceeded to remove those and install their python3 versions by using ", ", and now the error is gone, thanks!.", "I had opted to use python2 because the scripts need the ", " package. Only the python2 version of the package is present in the ", ".", "I think that is why the instructions install that package using ", ".", " glad you\u2019re using the ROS buildfarm scripts and thanks for sharing your experience and issues doing so. If you could please open an issue on ", " for the jenkins LTS version that would be awesome. Feel free to open issues on that repository if anything else doesn\u2019t work as documented during the deployment process.", "Additionally, per our ", " please ask questions on ", ". Adding the ", " tag to your question is usually enough to notify folks who can help.", "Thanks,", "\nSteven!", ": trying to deploy an instance of the Xenial based farm. Running into some issues and have some questions.", "Actual issues I\u2019m posting on the appropriate tracker, but for questions I should probably start a new thread in the ", " category here on Discourse?", " Thanks for opening issues. I\u2019ll be aure to look at them when I get to the office.", "Questions about running the buildfarm_deployment projects are best asked on ", ". I\u2019m watching several labels related to the buildfarm including, I think, \u201cbuildfarm\u201d.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/status-of-xenial-migration/3330"}
,{"title": "ROS Buildfarm October 2017 Guide to new changes", "thread_contents": ["Open Robotics hosts the primary ROS buildfarm at ", " which has recently migrated to new hosts running Ubuntu Xenial. In the process of doing so we substantially overhauled the configuration management and made some desirable terminology changes which require intervention when updating the ros_buildfarm python module and scripts.", "If you or your organization run a Jenkins instance or cluster that uses the python libraries and scripts found in the python package ros-buildfarm (also at ", ") the upcoming changes affect you.", "Additionally if your buildfarm machines were originally provisioned with the configuration management tools in ", " and ", " there are significant changes that are of particular importance if you kept the default autoreconfigure settings. Action is required to ensure successful operation even if you are not ready to update at this time.", "Xenial support will not be merged into master branches earlier than 19 October. Between now and then, I hope you\u2019ll determine which path you\u2019ll take, review the migration guide, and raise any questions or concerns you have before that date.", "The ros_buildfarm release needed to perform either upgrade method is still pending. The ", " of ", " contains the bulk of the likely changes. As soon as is feasible we will create the release and update this guide.", "Do not attempt to re-run ", " from buildfarm_deployment on the master host. It will clobber many Jenkins configuration details.", "Running the xenial branches for buildfarm_deployment and buildfarm_deployment_config on a trusty-based host has never been tried and is not supported. Some modules assume systemd is the service supervision provider and definitely will not work.", "It\u2019s possible to update your running hosts with limited configuration changes that will allow them to benefit from changes to subsequent releases.  ", "Change the path to the jenkins slave jar in /etc/defaults/jenkins-slave to use the new home directory.", "Check the crontab for entries with hard-coded paths to the old home directory.", "Apply the label ", " to all executor nodes with the previous label ", ". To ensure this change will persist between restarts usually requires changes to /etc/default/jenkins-slave.", "\nRename the ", " job to ", " via the Jenkins web UI.", "Update the ros_buildfarm tools on your buildfarm", "With some changes to your buildfarm\u2019s configuration you can continue to use the current (Trusty) configuration management infrastructure and buildfarm scripts until you are ready to perform the upgrade. Potentially you could continue to use the Trusty configuration indefinitely but you will be unable to use newer versions of the ros_buildfarm tools.", "We\u2019ve done no testing to support upgrading buildfarm hosts to Ubuntu Xenial in place. The migration to Xenial for Open Robotics was performed by provisioning new hosts running Ubuntu Xenial, running the updated configuration management and migrating the Jenkins and repository data to the new hosts. While all buildfarm deployments would benefit from the improvements in the updated buildfarm stack, particularly large instances, it is ", " in order to use newer versions of the ros_buildfarm scripts. You can instead follow the section marked ", ". Our migration followed the basic procedure below:", "Provision new Xenial hosts: master, repo, and agent.", "Run the Xenial configuration management scripts from ", " on the new hosts.", "Put Jenkins into Shutdown mode and stop any remaining builds (or let them finish)", "Use rsync to copy packages from the existing repo host to the new xenial repo host.", "Stop trusty jenkins master, and jenkins agents on all trusty machines.", "\narchive /var/lib/jenkins  Expect 10-40MB/s depending on compressibility and IO availability on an AWS machine.", "Stop ", " and ", " on Xenial hosts if they were running.", "Transfer archive to new master ~10 minutes AWS internal", "Move existing /var/lib/jenkins into /tmp (it should not contain anything worth preserving)", "Extract Jenkins archive into /var/lib on the Xenial host", "Bring new jenkins master online with migrated config", "Run ", " using version TBD of ros_buildfarm", "\nStart jenkins agents on xenial hosts", "The \u201cTBD\u201d version of ros_buildfarm needed for the xenial-based hosts mentioned above is 2.0.0. The release announcement is here: ", "I either am having a moment with discourse or cannot edit the post directly to update the guide.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "Ubuntu 16.04 LTS", "Jenkins LTS 2.60.3", "Docker CE 17.05", "Java 8", "Puppet 3.8", "Update Jenkins terminology in job names, scripts, system directories, and docs.", "Add config generation for upload jobs (only for ", ")", "Refactor of puppet modules", "Modules attempt to follow the \u201cRoles and Profiles\u201d pattern and are factored into reusable components.", "Although this is untested, it is more possible than before to incorporate profile modules into a separate puppet infrastructure.", "Updated and pinned to current puppetforge releases for upstream puppet modules.", "Switched to the puppet future parser (puppet 4.x compatible parser)", "Retire vendored upstart module in favor of systemd service provider on Xenial.", "Add script to build reprepro 5.1.1 from backported sourcedeb.", "Add script to fetch Jenkins plugin versions from ", " and generate a puppet module installing those plugin versions.", "Unified installed puppet modules across roles.", "Refactored hiera config to share common data and provide role-specific configuration separately.", "Install_prequisites.bash now uses system packages for puppet and librarian", "Reconfigure.bash stores the configured role to prevent accidents when reconfiguring.", "Update user account and hiera key names for current Jenkins terminology where possible.", "Rename the local user account from ", " to ", ".", "This is a somewhat system dependent operation. On a Trusty system. The procedure below should cover most installs.", "Gracefully stop services running as the jenkins-slave user.", "Check for running processes ", "\n", "If there are remaining non-critical processes stop them with ", " otherwise wait for them to shut down gracefully.", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "Using the ros_buildfarm scripts version TDB or greater run ", "\n", "Review the diff output for potential issues.", "Commit the changes with ", "\n", "Update the auto-reconfiguring host configuration.", "If your configuration is set up to use the ros-infrastructure/buildfarm_deployment repository directly, you will need to make sure that any hosts with the ", " setting have their autoreconfigure_command updated to use the ", " branch rather than ", ".", "Set ros_buildfarm to use the last release before the xenial-related changes.", "In order to preserve the current behavior until you\u2019re ready to upgrade make sure you\u2019re using version 1.4.1 or earlier.", "\n", " is designed to track the master branch of the ros_buildfarm scripts. Using the master branch or subsequent ros_buildfarm releases will use updated terminology that may cause errors or unexpected behavior if not handled by following the section: \u201cUpdating ros_buildfarm on existing (Trusty) hosts\u201d.", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n"], "url": "https://discourse.ros.org/t/ros-buildfarm-october-2017-guide-to-new-changes/2840"}
,{"title": "ROS Industrial CI for package maintainers and users", "thread_contents": ["I have registered 40 new packages and updated 48 existing packages in this Sync (for Kinetic 2018-04-04). Most packages are the robot-related software by ", " such as TurtleBot3(mobile), OpenManipulator(manipulator), ROBOTIS OP3(humanoid), THORMANG3(humanoid), MANIPULATOR-H(manipulator) and RH_P12_RN(gripper) that can be used with ROS.", "To be honest, I was worried  \u2018What kind of error occurred?\u2019, \u2018What email will Tully send me?\u2019 every time when I registered a new package. But from this sync, I used ", ". I think it is an essential tool for package maintainer.", "Easy continuous integration repository for ROS repositories - ros-industrial/industrial_ci", "Many people are already using ROS Industrial CI, but I still think there are users who don\u2019t know what this is and how to use it. I strongly recommend using this tool if you are not using it. It does not matter whether you are a package maintainer or not. If you use ROS Industrial CI, This makes it very easy to manage dependencies for your ROS package. In addition, various tests can be run in various development environments, so you can find what problems are involved.", "Thank you to all the maintainers and I am grateful to ", ", ", ", ", " for their hard work.", "\n", " Thank you for your kind advice. ", "Thanks for the feedback ", "!", "For fairness, there are at least a few CI options in ROS you can find in ", ". You\u2019re welcomed to update a ", ".", "May the CI be with your development.", "I have added my solution, ", " on the wiki page, I did not know this page existed.", "\nI should try again ROS Industrial CI ", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/ros-industrial-ci-for-package-maintainers-and-users/4390"}
,{"title": "Help with Buildfarm setup", "thread_contents": ["This is with reference to my previous question (", "). I\u2019m trying to be as exhaustive as possible. I have no previous experience in setting up a ros buildfarm before and I have very little knowledge about it. I tried to follow the documentation here (", "). I got to the second step after mirroring this (", ") repository and tried to change the parameters inside the common.yaml file. I changed the master ip, repo ip, jenkins uname and password. But the other things listed in the documentation is not available in the common.yaml file.", "I\u2019m making my machine as the master and a raspberry pi as the repo and another raspberry pi as agent. The master IP is my machine\u2019s IP and the repo and the agent IPs are the two raspi\u2019s IP. In common.yaml file, I edited these stuffs and changed the jenkins::slave::ui_user and ui_pass to my github username and password which is authorized in my jenkins account. Then, autoreconfigure is setup to be false in the common.yaml file but it is listed as branch in the documentation. Should I go about changing this ?", "Coming to ssh keys, the key specified is the public key I generated using the ssh keygen command in my master machine ?", "Anybody who has setup a buildfarm before, it will be great if you could provide me with an example and if possible explain why we are performing each step along the way.", "P.S: This is not my homework. This is something I\u2019m really willing to learn. Thanks !", "This question was posted to ", " as ", " and I\u2019ve done my best to answer it there.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/help-with-buildfarm-setup/4512"}
,{"title": "New patch release of the ros_buildfarm package (version 2.0.1)", "thread_contents": ["I have just released version 2.0.1 of the ", " package.", "Compared to the recent 2.0.0 it only contains a few minor changes (see the ", " for details).", "If you are coming from a 1.x release please make sure to read the ", " before trying to upgrade.", "Happy Building!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/new-patch-release-of-the-ros-buildfarm-package-version-2-0-1/4648"}
,{"title": "Planned downtime for ros_bootstrap repository", "thread_contents": ["2018-09-11 at around 5AM pacific time the ros_bootstrap repository will be offline for 48 hours as we prepare to migrate the underlying host.", ": We are about to perform the DNS changeover to migrate to the new bootstrap repository. The new repository is keeping everything at the same paths so there should be no interruption when your local DNS starts resolving to the new location.", "User facing:", "InRelease files are not currently being generated. We are investigating the issue but as it does not prevent use of the repository we are proceeding with the migration as the existing host has a retirement deadline.", "Packages with ", " now appear in all binary architectures. The underlying repository software now includes packages with ", " in\u2026 all architectures regardless of which ones were specified manually. This has resulted in a few auxiliary packages being included in architectures they were not previously listed in but should not affect the operations otherwise.", "Empty repositories  for ", ", ", ", and ", " have been dropped completely.", "Behind the scenes", "This thread may also be used later in the week for additional migration related downtime. In which case both this top post will be edited and a follow up message will be sent.", "During this time the import_upstream job on ros_buildfarm instances will be unable to reach the default bootstrap repository host causing a temporary failure to import packages. import_upstream jobs targeting other repositories such as the primary ROS repositories will not be affected.", "I\u2019ll send an update when things are back up.", "The bootstrap repository is back online. Thanks everyone.", "We are hoping that the migration itself will be seamless and take place within the next 24-48 hours. I\u2019m doing my best to keep everything in the same place from an apt perspective so that no configuration changes are needed.", "We are about to perform the DNS changeover to migrate to the new bootstrap repository. The new repository is keeping everything at the same paths so there should be no interruption when your local DNS starts resolving to the new location.", "User facing:", "InRelease files are not currently being generated. We are investigating the issue but as it does not prevent use of the repository we are proceeding with the migration as the existing host has a retirement deadline.", "Empty repositories  for ", ", ", ", and ", " have been dropped completely.", "Behind the scenes", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "The new repository is generated by ", " rather than reprepro and hosted via AWS S3.", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "The new repository is generated by ", " rather than reprepro and hosted via AWS S3.", "\n"], "url": "https://discourse.ros.org/t/planned-downtime-for-ros-bootstrap-repository/6018"}
,{"title": "Ros-ourdistro-... style add-on rosdistro", "thread_contents": ["Hi there,", "We\u2019ve successfully deployed the buildfarm in three virtual machines, and we have created an add-on rosdistro for kinetic with a simple package that only depends on roscpp. Now we can build and generate debian packages using the infrastructure.", "Next step for us is to properly handle our forked ros packages. Let\u2019s assume a package called ros-kinetic-foo (from official repositories), but we don\u2019t want to use it because we want to use our forked version. Our idea is to make a clear separation between the official and forked version,  creating a package called ", ".", "Basically we\u2019d want to use ros-kinetic-* packages together with our ros-ourdistro-* packages.", "We\u2019ve tried creating a new entry in our forked rosdistro. The ourdistro/distribution.yaml is a copy of the kinetic/distribution.yaml file, and ourdistro/addon_distribution.yaml only contains the package that depends on roscpp", "When executing devel job, the package tries to find ", ", and not ros-kinetic-roscpp", "Not sure how this problem should be addressed. What\u2019s the best way to handle it?", "You\u2019re going to run into several issues:", "So at the very least, you should expect to have only one \u2018ROS distribution\u2019 active at a time.", "Hello,", "I haven\u2019t had the chance to set up an addon rosdistro myself yet but from reviewing the ", "I don\u2019t think your custom rosdistro should include the distribution.yaml from kinetic as ", " as this will tell rosdep will expect to  resolve dependencies using ros-ourdistro-roscpp rather than ros-kinetic-roscpp. When you remove that distribution file you\u2019ll need a way to resolve dependencies in your addon distro to their kinetic counterparts. Currently the tool for doing so is ", ". It will take an upstream rosdistro and generate a static rosdep definitions file for it. Adding that definitions file to your local rosdep sources will let you use rosdep and bloom to resolve dependencies for your addon packages to the upstream versions instead.", "I do have a prototype branch ", " that allows for the inclusion of additional rosdistros in rosdep sources directly but I can\u2019t fully recommend it as it may change while in review to be included in upstream rosdep.", "there\u2019s no way to get two base workspaces in ", " to overlay via catkin", "This limitation I don\u2019t have any suggestions to get around.", "On the robots from PAL Robotics (e.g., the Tiago), they do something similar to what you\u2019re trying to achieve. They use a stable version of e.g. ROS Indigo, which is just a snapshot of the official packages and which is installed to ", ". In addition, they have their own \u201cdistro\u201d which they call \u201cPAL Dubnium\u201d that contains their own addon packages and which is installed to ", ", and which overlays the Indigo workspace. I\u2019ve found ", " on Google, but sadly it doesn\u2019t contain many details. Perhaps you should contact the author (Luca Marchionni) directly.", " may have slightly more time to answer from PAL Robotics.", "Overlaying works pretty well.", "Hi like ", " and ", " have said we do use our on custom distribution on top of ROS.", "We started doing this before the new buildfarm was created and the documentation linked by ", " was created, so what we\u2019ve done may differ with the steps detailed there.", "We freeze make a snapshot of a ROS distribution\u2019s repositories (let\u2019s say Kinetic), and then we release our custom ROS packages or our own software. Our package naming scheme is pal-erbium-my-pkg-name.", "We install them on /opt/pal/ and ROS keeps installed in /opt/ros. Instead of sourcing /opt/ros/kinetic/setup.bash, you source /opt/pal/erbium/setup.bash, and this file already sources kinetic and makes the overlays behave as expected.", "As long as you source the original ROS workspace (say Kinetic) before building your custom distro, I believe the overlays work flawlessly.", "We usually have 3 levels /opt/ros/kinetic, /opt/pal/erbium and working workspace.", "As long as you source the original ROS workspace (say Kinetic) before building your custom distro, I believe the overlays work flawlessly.", "I believe what ", " means to say is that you cannot have two install spaces active if they were not built as overlays. Your setup works, as ", " was active while ", " was built. But if that was not the case, there is no link between the two and ", "ing one will deactive the other.", "The setup described by the OP was like that.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["there\u2019s no way to get two base workspaces in ", " to overlay via catkin", "rosdep doesn\u2019t know how to resolve inter-distro dependencies.", "there\u2019s no way to get two base workspaces in ", " to overlay via catkin"], "url": "https://discourse.ros.org/t/ros-ourdistro-style-add-on-rosdistro/5205"}
,{"title": "Irel_blocked-releases-page job on local build farm keeps failing", "thread_contents": ["I\u2019ve got a local build farm that is otherwise working fine; we\u2019re releasing and building packages for Indigo, Kinetic, and Melodic without any problems.", "The one except is that several days ago, the Irel_blocked-releases-page job started failing, and I can\u2019t figure out why.  Here\u2019s the last section of the build log for it:", "The cause seems obvious \u2013 some kind of failure parsing \u201c\\n\u201d, ar_sys: !!python/str\" near the end \u2013 but I have grepped through every file on all of our build farm servers and every file in our build farm repositories and cannot find that string.  I\u2019m guessing it\u2019s being automatically generated by something, but I don\u2019t know what or where to start looking.  For reference, the Krel and Mrel versions of that job are just fine.", "Does anybody have an idea what might be causing that or where I should start looking?", "Thanks in advance!", "Does anybody have an idea what might be causing that or where I should start looking?", "This looks related to the safe_load change from ", ". Did you check the gzipped rosdistro caches? The stacktrace has the rosdistro function get_distribution_caches. It may be that the cache generation is not dumping safe_load-able YAML.", "As a nitpick request, questions like this are probably best asked on ", ".", "The same job is failing on the official farm since Jan 24th: ", "It appears that the hydro rosdistro cache has non safe_load-able YAML entries.", "My inclination would just be to disable the job since we\u2019re not going to modify the hydro distribution cache and at least on the official farm Indigo is approaching its end of support.", "cc ", " for their thoughts.", "Yeah, disabling that job I think makes sense. Indigo is already far ahead of hydro in package count and tracking new releases into it at this point is not a priority. Most of the packages listed by the job have been specifically chosen not to be ported.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/irel-blocked-releases-page-job-on-local-build-farm-keeps-failing/7853"}
,{"title": "DNS change for build.ros2.org", "thread_contents": ["The IP address of our Jenkins host for ", " has changed due to configuration changes within our hosting provider. The authoritative DNS records have already been updated but ", " may be unavailable for you while DNS propagates.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/dns-change-for-build-ros2-org/9202"}
,{"title": "How to configure buildfarm after setting up jenkins?", "thread_contents": ["I have already asked this question in ros answers. To be on the right group, I\u2019m creating the question here too. This is a continuation of the question that I asked ", " previously. Step 1 was to basically make jenkins run on master. I was able to achieve that. Now the next step I believe is to configure jobs for the packages that I have built. I understood that I have to edit the configuration files here in this ", " but for some reasons the documentation is not so clear on what are the files that should be edited.", "So here it goes. This is what I have done so far. I went into this ", " and forked the ros_buildfarm_config repo to my account according to the instructions ", ".", "Please don\u2019t double post questions in multiple forums. You have already asked this ", " in the right forum ", " and have people trying to help you there. It\u2019s poor etiquette to ask questions multiple times.", "Please review our support guidelines at ", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["As I earlier mentioned, let us assume that I\u2019m using kinetic distribution and in the Disable notification of maintainers/committers section, I was asked to set false to all committers which by default was already set to false in all the files. When I say all files, I changed or verified whether they are false in index.yaml, doc-build.yaml, doc-released-build.yaml, release-armhf-build.yaml, release-build.yaml, source-build.yaml inside kinetic folder.", "Next up was to update administrator notification. I changed the email on all files as said in the previous point.", "\nI want to know whether whatever I did in these two points are correct. If yes, I request you to update the documentation, its totally out of sync and not intuitive.", "I figured out that the jenkins_url takes the ip address of the master machine and the repo_hostname.example.com simply gets replaced by the repository ip address on all the yaml files mentioned earlier. Is that right ? Also I want to know whether the PGP key used here is the same as the ones used in the buildfarm_deployment_config ?", "After that I understood that inorder to run jobs on my custom ros package(s) in the buildfarm, I was given two options. One to perform full fork and the another one being add-on fork. As I understood that clearly, I decided to go with option 2 which is Add-on fork so that I don\u2019t have to worry about other ROS packages from ", ". Interesting thing here is that I saw that we have to add a tag to custom distribution files. I understand that we have to add those but to what files is not so clear. Also mentioning custom distribution file is not very clear to me.", "Is there a better way (may be a structural way) to actually tell me, what I should be doing in ", " ? Like could you be more specific on where should I place the import_distro.yaml file ? May be an example would be great. And also I have no idea how to invoke import_upstream job. Could you please be clear here ?"], "url": "https://discourse.ros.org/t/how-to-configure-buildfarm-after-setting-up-jenkins/4830"}
,{"title": "Buildfarm Emails", "thread_contents": ["Just found a bunch of emails from the build farm in my spam folder, and am posting this so that other people are aware that they might end up there.", "I noticed that these emails were not signed by ", ", so its plausible that something in the email config needs to be updated to reflect the ", ".", "Thanks for reporting this ", ". We need to make some additional configuration changes so that emails from the new build farm deployment conform to current email origin standards. I\u2019ll try to get them deployed today.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/buildfarm-emails/9372"}
,{"title": "Jenkin login needed for buildfarm", "thread_contents": ["Did something change on the ROS buildfarm? It now redirects to a Jenkins login when I try accessing the jobs. I think we were previously able to see all jobs without any login, so I\u2019m guessing the maintainers added the login layer for added security. But any way for ROS devs to access the buildfarm now?", "Appreciate any guidance!", " is offline at the moment. Please watch ", " for further updates.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/jenkin-login-needed-for-buildfarm/9306"}
,{"title": "New release of the ros_buildfarm package (version 3.0.0)", "thread_contents": ["I have just released version 3.0.0 of the ", " package.", "The most important reason for the major version bump is that it requires the provisioned machines to use a post-", " version of Jenkins. So ", " for your current buildfarm. In order to switch from a previous release (2.x) you must update your provisioned machines according to these ", " instructions.", "You will find a complete list of all the changes in the ", ". I want to highlight a couple items here:", "Happy Building!", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["Support for the build tool ", " using a configuration option. While the devel / PR jobs on ", " use ", " the same jobs on ", " use ", " instead. This feature has been in use since ROS 2 Crystal.", "Add CI jobs for building and testing workspaces defines by a ", " file. In contrast to devel / PR jobs which operate on a single repository this new job category allows us to provide larger integration builds historically hosted on ", " on ", ". At the moment we use nightly builds for a set of ROS 2 repositories with different configuration to cover different use cases: e.g. only a single RMW impl., all tier 1 RMW impl., debug and release builds, etc."], "url": "https://discourse.ros.org/t/new-release-of-the-ros-buildfarm-package-version-3-0-0/9456"}
,{"title": "[build.ros.org] Planned downtime for Thursday", "thread_contents": ["Cross-posting from the ROS status site: ", "We\u2019re changing the volume type of the build farm repository host which requires the host to be offline for a disk snapshot and copy. We\u2019ll use the downtime to perform updates and reboot ", " as well since the build farm can\u2019t run while the rosdistro caches are unavailable.", "The primary ROS repositories at ", " will remain available.", "This will begin after the Kinetic sync.", "As a head\u2019s up to folks who saw it. I did the timezone calculation incorrectly so you may have seen a notification that the maintenance window was starting today. That was incorrect.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/build-ros-org-planned-downtime-for-thursday/9827"}
,{"title": "Agents unavailable on build.ros.org", "thread_contents": ["I am waiting for some release jobs to run to test a new driver version from ", "\n", "\n", "But the jobs are all pending:", "The build queue seems to be about 300 jobs long.", "I\u2019ve pinged ", " and ", " about this.", "\n", "Thanks for the head\u2019s up. I\u2019ve restarted the agent that was misbehaving and blocking the auto-scaling behavior and added a few more to work through the backlog.", "As a minor bikeshed I think reports like this are best kept in the Buildfarm category rather than release management.", "As a minor bikeshed I think reports like this are best kept in the Buildfarm category rather than release management.", "That\u2019s my fault, bad advice from me ", ".", "I moved it to that category. ", "As a minor bikeshed I think reports like this are best kept in the Buildfarm category rather than release management.", "Thanks! and thanks ", " for moving this to the right category", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/agents-unavailable-on-build-ros-org/10458"}
,{"title": "Changes to buildfarm_deployment for Jenkins JEP-200", "thread_contents": ["For the past several months, the example ", " has included a pinned Jenkins version to prevent using versions that comply with ", " from being used due to issues with the ros_buildfarm scripts and the plugin versions they use. (First reported by ", " in ", ")", "I\u2019ve been working on upgrading the buildfarm deployment and ros_buildfarm scripts to work on post-JEP-200 deployments and am happy to report that we\u2019re now using the latest Jenkins LTS on both ", " and ", ".", "That work is being prepared for merging across three pull requests:", "To allow time for community members using the master branch of buildfarm_deployment to make the transition we won\u2019t be merging these changes right away. The important dates are here:", "For those who aren\u2019t able to schedule the upgrade before 2018-12-17, the ", " branch is a snapshot of the current master which won\u2019t be receiving further updates and moving your existing deployments to this branch will keep you in the current state as long as you need.", "Additionally, I\u2019ve written the guide below based on my experiences updated ", " and ", " with review and testing from some intrepid community members. I\u2019ve done my best to communicate everything I encountered during the upgrade process but I can\u2019t make any guarantees that the guide below will cover every contingency. If you do run into trouble feel free to ", " or ask a question with the ", " tag on ", "The last LTS version prior to JEP-200 was 2.89.4 which has been the pinned version for new deployments since ", ".", "\nThe current Jenkins LTS as of this writing is 2.138.3.", "Due to the way the buildfarm_deployment is put together, it is not recommended to re-run puppet or the reconfigure.bash script on the Jenkins master after initial configuration (see ", ").", "\nBuildfarm deployments wishing to update existing deployments will need to take manual steps on their jenkins hosts to migrate successfully to the latest version of ros_buildfarm (forthcoming).", "Aside from some minor changes to the Jenkins sign in page and other visual updates, most users of ROS Buildfarm deployments will not notice any significant differences.", "\nThe minor issue ", " has been resolved with updates to the GitHub API and GitHub Pull Request Builder plugins.", "\nUsers with Jenkins API tokens may need to recreate them after coordinating operators.", " mandated that a large number of plugins used by the buildfarm be updated,", "\nso I took the opportunity to update all of them and test comprehensively rather than trying to work out only those updates that are necessary.", "Jenkins upstream recommendeds revoking existing \u201cLegacy\u201d API tokens and replacing them with the new token system.", "\nLegacy tokens are not revoked on upgrade and there\u2019s a dedicated UI for reviewing and revoking tokens as you have the opportunity to reprovision them. See ", " for details.", "\nROS Buildfarm aspects which can make use of API tokens:", " ", " ", "Unless you\u2019ve made a reliable backup before you start I cannot recommend proceeding with this guide.", "\nBackups aren\u2019t real until you\u2019ve validated the restore procedure.", "\nThis guide was written after upgrading ", " revised after upgrading ", " and should be used as a starting point.", "\nThere may be other necessary actions for your setup that this guide does not capture.", " These upgrades are only recommended if you\u2019re running a relatively recent Ubuntu 16.04 based buildfarm that was set up after the buildfarm_deployment migration to xenial or has undergone the procedure described in ", "Your buildfarm deployment config is likely a duplicate of the ", " branch from ", ". This repository, like ", ", has a master branch which roughly tracks the production deployments ", " and ", " and updates to the buildfarm_deployment puppet logic may not be compatible with your existing configuration.", "\nSome changes to deployment behavior are also implemented directly via configuration directive.", "\nTo review your buildfarm_deployment_config against the changes made since, I\u2019d suggest creating a local clone and using git-diff to compare the state of your config against the upstream one.", "Before merge of ", "Put jenkins into shutdown mode and let any outstanding jobs complete.", "Take jenkins offline with ", ". If there are many jobs queued, Jenkins may take a while to shut down. Waiting until the jenkins java process stops is recommended.", "Stop jenkins agent on master with ", "(Optional) Run ", ". Review the list of upgraded packages", "Remove any holds placed on jenkins and run ", ".", "If prompted to update the ", " file, you may either reject the changes (what I did) or review them to be integrated with your setup.", "Install updated plugins. I\u2019v prepared ", " which will use bash and curl to install plugins by dropping them in the correct location. You could also modify this script to use the jenkins-cli.jar, or just use it as a list of plugin updates to perform with an online jenkins instance although I experienced filesystem permissions issues when doing so and the resulting state left my Jenkins un-bootable. However, if you check filesystem permissions beforehand to make sure all plugins are owned by ", " rather than ", " it may work for you.", "Remove any .pinned files from your jenkins plugin directory ", ". You may save the list of pinned files if you wish to restore them later.", "Start jenkins, watch the logs for any issues failing to initialize plugins", "From the Jenkins UI, review any administrator warnings.", "(Optional, but recommended) Disable JNLPv2 and JNLPv3 on the Jenkins Global Security Configuration screen.", "Sign into Jenkins as the user your agent hosts authenticate as and generate an API token for use as the ", " copy this token into your buildfarm_deployment_config as the ", " value.", "SSH Credentials can no longer be read from a file on disk due to ", ". Credentials using the key from disk get migrated to \u201cDirectly entered\u201d keys without the key being read from disk. Very early or modified deployments of the buildfarm may have been using an ssh key read from a file. This can be fixed with the following steps", "Reconfigure Jenkins using a compatible branch of ros_buildfarm.", "\nAs of 2018-11-16 the Jenkins LTS work for ros_buildfarm is not yet merged into master or released. The pull request ", " has a branch with some workarounds for plugin issues and template updates for plugin versions in configuration structures.", "Update the Script Approval whitelist. If you have a highly customized ROS buildfarm deployment your scriptApproval.xml whitelist of allowed scripts and Groovy signatures might have diverged. To proceed you have three options:", "\nA. Let jobs fail due to sandbox violations and whitelist them as needed.", "\nB. Manually apply ", " to the scriptApproval.xml file in buildfarm_deployment to your deployment\u2019s ", " and restart Jenkins.", "\nC. Copy the ", " file to your instance replacing your existing ", " and restart Jenkins.", "Download the swarm client jar version 3.14 from ", " and place it in ", " on the master host. Make sure it\u2019s owned by the jenkins-agent user.", "Open ", " and make the following changes:", "Remove the old swarm client jar ", "Start the Jenkins agent ", " and verify that it is able to connect to your master host.", "If you follow this guide, please report back your successes or any problems you encounter.", "While I mentioned that these changes would merge 17 December. They remained unmerged until today as I was busy with the release of ROS 2 Crystal and the first Crystal patch release.", "The jenkins-lts-upgrades branches will remain online for the next week before being removed. Anyone currently using them should be able to switch over to the ", " branch.", "The jenkins-lts-upgrades branches will remain online for the next week before being removed. Anyone currently using them should be able to switch over to the ", " branch.", "These branches have now been removed from GitHub.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["2018-12-17 buildfarm_deployment ", " branch will require Jenkins >= 2.138.3 and updated plugins.", "2019-01-17 buildfarm_deployment transitional branch ", " will be removed from ", ".", "Swarm agent client authentication", "\nIf your organization\u2019s clone of the buildfarm_deployment_config repository uses GitHub for authentication, switching to use of Jenkins API tokens from GitHub API tokens will reduce the number of GitHub API calls necessary to manage authentication to your buildfarm deployment.", "\nThe token can be used for ", ".", "~/.buildfarm/jenkins.ini may contain a Jenkins token rather than a password", "\nEspecially if your buildfarm deployment uses GitHub for authentication it\u2019s recommended that operators create and use Jenkins API tokens rather than GitHub API tokens for authenticating to your buildfarm when running ros_buildfarm scripts.", "\nThe GitHub API tokens will require your buildfarm to authenticate the token with GitHub on each request, which can exhaust your Jenkins instance\u2019s API rate limit for large deployments.", "\nUsing a Jenkins API token to avoid a GitHub API request for each authentication is also anecdotally faster, resulting in faster reconfigurations.", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "Copy the text of your ssh key from the buildfarm_deployment_config master.yaml field ", ". Take care to trip the leading whitespace if you copy it from the YAML block text format.", "Open the Credentials UI and select the global credential matching your ssh username (jenkins-agent by default). Select \u201cUpdate\u201d", "Paste the ssh key text into the text area and select \u201cSave\u201d. No other field should need to be changed.", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "\n", "Update the line for ", " to ", "\n", "Update the line for ", " to match the API token used for step 12 when updating the Jenkins master.", "\n", "\n", "\n", "\n", "Pull the latest version of your buildfarm_deployment_config and run ", " from the repository root.", "Verify that both the ", " and ", " nodes have successfully reconnected."], "url": "https://discourse.ros.org/t/changes-to-buildfarm-deployment-for-jenkins-jep-200/7014"}
,{"title": "Buildfarm down", "thread_contents": ["According to ", ", ", " has been down quite a while now (getting ", "s).", "Fans or tubes clogged?", "It looks like despite the fact that it went down over the weekend none of our probes triggered to actually put it in an outage state and so I didn\u2019t get any notifications for it.", "I brought Jenkins back up and it went down again a few minutes later\u2026 Normally I check the dmesg log for out-of-memory issues as the Jenkins JVM lasts 2-3months before it needs a restart. But today I was getting segfaults in aufs. The docker version on the build farm master hadn\u2019t been updated since it\u2019s initial deployment so I brought it up to the latest stable version of docker-ce. We\u2019ll see if that resolves the issues or if we need to bring docker down completely and move to the overlay2 storage driver.", "As a (hopefully) finally follow up: There were no clogged fans or tubes, although the notification endpoint that our uptime probe was sending to was not the one our status page was listening on. Which is why the top of the status page said the Build Farm component was Operational while our uptime had been flatlining for hours. That\u2019s been fixed. I also renamed \u201cJenkins Uptime\u201d below to \u201cBuild Farm Uptime\u201d so it is clearer that the uptime and the component are the same thing.", "Thanks for the update Steve.", "I\u2019ve seen some nice segfaults with docker being updated and running containers; those are nice to diagnose and triage.", "I\u2019m guessing this was all partly also caused by the recent security issues that affected ", ".", ": would you already have an ETA for when the redeployed buildfarm is going on-line / becomes available?", "It seems pull request testing via ros-pull-request-builder is still unavailable - or are there any steps that need to be taken by package maintainers to re-enable it?", "Thanks for reporting. There\u2019s some configuration missing to get the pull request builder\u2019s credentials updated. I\u2019ve put it in the queue of follow up work and will hopefully have it updated by the end of the week. I\u2019ll post back here when it should be working again.", "It took a couple of tries to get the updated credential to stick and I forgot to close the loop here. Pull Request jobs should be back online. Please let me know if a repository of yours is not getting PR jobs queued.", "Thanks to ", " for reminding me to post here.", " Awesome, thanks for fixing it!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/buildfarm-down/9125"}
,{"title": "Buildfarm PR testing with non-shallow clone", "thread_contents": ["Currently the PR testing makes a shallow clone of the repository (", "). We work with a set of packages that uses ", " to extract the most recent version tag to set some CMake parameters on configuration (rather than hard-coding the version). With a shallow clone, these tags are missing and thus the CMake configuration fails.", "\nIs there a way to indicate non-shallow clones or work around this?", "Unfortunately there is no way to configure non-shallow clones on the buildfarm. We don\u2019t have such an option since that would result in significant larger bandwidth needs.", "I would like to point out that you approach also doesn\u2019t work if you e.g. share the sources through an archive. I would suggest to come up with a fallback behavior if there is no git tag information available.", "Thank you very much - this is what I expected. We are upstreaming changes to fail gracefully but wondered if there is another option.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/buildfarm-pr-testing-with-non-shallow-clone/11294"}
,{"title": "Migration of Buildfarm SIG to Discourse", "thread_contents": ["Hi everyone,", "We have migrated the buildfarm SIG onto a discourse category. ", "Messages to this category, such as this one, will be automatically sent to the old mailing list for backwards compatibility. If you have not already please create an account on ", " with an account you should be able to start a thread by emailing: ", " .", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/migration-of-buildfarm-sig-to-discourse/401"}
,{"title": "Big workspace management", "thread_contents": ["Hey, I have a question about how to manage the workspace of a large collection of packages (~50/100). My main question is how to setup this workspace. We have a large number of unreleased packages and a few forked versions of official packages.", "Can I use ", " to recursively check out the source repositories of my custom packages? I tried a forked rosdistro but apparently ", " does not check out dependencies of unreleased packages. Is there an other way?", "Hey Rayman,", "In our ", " we put all source code dependencies for repository in the file ", ". During the build system will pull all those repositories from Git into local workspace and if those repositories have repository.rosinstall it will do it for them as well for several levels. It is using wstool feature ", ".", "So you may reuse this approach or even give a try to the whole \u201cShadow\u2019s Build Tools\u201d solution which is really easy to setup.", "Hi Rayman,", "the information about the dependencies of a package comes from its", "\nmanifest. If your packages refer to names which are not part of the", "\nrosdistro the tool can\u2019t resolve the source repository for them. And for", "\nrepositories which are not released no packages and therefore no manifests", "\nand recursive dependencies are known.", "I would suggest to put all your custom repos (including the forks) in a", "\n", " file (optionally with the distributed approach Andriy", "\nmentioned) and fill the dependencies using ", " from binary packages.", "Thanks for the quick response. I\u2019ll give the distributed solution of ", " a try.", "Just a quick question, the manifests ", " needs are cached in the in the ", " file generated by ", "? I\u2019m trying to figure out how the whole system works.", "Correct, a Jenkins job regenerates the cache every 5 minutes. It makes all", "\nmanifests of released packages available without having to fetch them from", "\neach release repo. This is the data the ", " as well as", "\nthe build farm mainly operate on.", "The cache only contains the manifests of released packages since only for", "\nthem it is clear when they have changed. Basically when the version number", "\nof the release changed. For source repositories it would require to", "\nconstantly check the repository content since it can change without any", "\nchange to the rosdistro files.", "Hi Rayman,", "Presently rosinstall_generator only works for released packages, but there are pending PRs on rosdistro which enable it to work with source repos as well, please check it out if interested: ", "Clearpath is primarily deploying our ROS software now using rosinstall_generator-based bundles; you can see a small prototype of this idea here if it\u2019s of interest: ", "Nice, that patch would really help my use case! I could probably do the following", "I hope I can find time next week to try out your patch.", "Powered by ", ", best viewed with JavaScript enabled"], "thread_details": ["define a custom ros distro with our source repositories", "use ", " to resolve dependencies and use wstool to check out all these source repos", "finally use rosdep to resolve the standard ros depdendencies"], "url": "https://discourse.ros.org/t/big-workspace-management/437"}
,{"title": "How to completely remove a package from a build farm's status page?", "thread_contents": ["I\u2019ve set up a private build farm that we\u2019re using to build our packages, and so far everything\u2019s working well.  It\u2019s configured to point at and load packages from an internal, private GitLab server that we use, and I\u2019ve been able to bloom >130 of our packages that it has successfully built and pushed to our apt repository.", "We\u2019ve got an internal clone of rosdistro, where we\u2019ve modified the index.yaml file to add a seconds distribution.yaml file to the indigo and kinetic distributions (the only ones we support), and those distribution files have a \u201cswri\u201d tag in them; then, in all of the build.yaml files in our ros_buildfarm_config repository, we have a tag_whitelist that contains \u201cswri\u201d.  So far, so good; our build farm only builds packages that we add to our custom distribution.yaml file and not ones that get merged in to the main distribution.yaml file when we update from the main rosdistro repo.", "There\u2019s one problem: When I first set up the build farm, there was a brief period where I had not added the tag_whitelist yet, and there was an update to the \u201ctornado\u201d package and our build farm decided to build it.  It\u2019s not building any more now that the whitelist is in place, and I\u2019ve manually gone through the filesystem on the master, slave, and repo computers and removed every file I can find referencing \u201ctornado\u201d, but somehow when the indigo_default.html page gets generated on the repo server, and it says that ros-indigo-tornado 4.2.1-1 exists in the \u201cbuilding\u201d repository for Tsource.", "Why is that entry still being added, and how can I remove it?", "Thanks in advance!", "\u2013", "\nP. J. Reed, Senior Research Analyst", "\n(210) 522-6948", "\nIntelligent Vehicle Systems (", ")", "\nApplied Sensing Department (", ")", "\nSouthwest Research Institute (", ")", "The status page shows the content of your apt repository. While obsolete binary packages are being removed in a sync that is not the case for source debs. You will have to remove the source deb from the apt repo manually.", "That\u2019s what I had thought, but as far as I can tell I do not have any reference to it in my repo at all:", "Is there some location where it\u2019s still referenced outside of the repository?", "Can you attach a screenshot of the status page (e.g. with a search string \u201ctornado\u201d to hide your package names). That should show where the package is being found.", "Sure:", "\n", "In addition, running ", " on the repo, slave, and master machines all return no relevant results.  (aside from a Jenkins jar file on the master with 4.2.1 in it)", "You should find a ", " entry in the index of source packages then (in your apt repo under ", "). The entry will then reference the directory of the ", ", ", ", and ", " files.", "If that is not the case I can only speculate that the job is using an outdated apt cache. Maybe the log of the status page job contains something useful.", "I\u2019m surprised that you\u2019re not finding the package with locate.", "To find the packages in the repo", "You can use a query the repo directly like this:", "When doing things on the repo make sure to su to jenkins-slave to not override file permissions.", "As ", " user on your repository the following command should clear the packages after listing all matches on the default repo locations.", "I tried manually editing the contents of the Sources.gz file, but it must be automatically generated by something else, because it just reappeared after the next build.", "Using the remove_packages.py script did the trick, though.  Thanks!", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/how-to-completely-remove-a-package-from-a-build-farms-status-page/911"}
,{"title": "Error during running the devel job locally: Unable to connect to 54.183.65.232", "thread_contents": ["Guys, I am trying to make a local build to verify some of my changes using the following instruction:", "However the generated script ", " can\u2019t connect to ", " and I see the following error:", "Is the server temporarily unavailable?", "Manually changing this generated IP to what ROS jenkins uses ", " helped to proceed with the task, but still not clear yet for me how this IP was generated when I followed the instruction.", "The examples were using the default branch of the buildfarm config repo. This branch does no longer work since it references a test farm which is not available anymore. I just updated the examples to point to the production branch instead which is used by the official buildfarm and will continue to be available: ", "The README in ", " mentions the different branches but the information is bit \u201chidden\u201d in the text and not easy to discover.", "Thank you. Now it works.", "Powered by ", ", best viewed with JavaScript enabled"], "url": "https://discourse.ros.org/t/error-during-running-the-devel-job-locally-unable-to-connect-to-54-183-65-232/1425"}
,]