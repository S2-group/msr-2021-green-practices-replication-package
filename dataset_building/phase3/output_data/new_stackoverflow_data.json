[{"title": "Environment setup of ROS melodic", "time": "2019-10-07 11:47:53Z", "post_content": ["i wanan to setup the enviroment of ROS Melodic, but when i use ", " and ", ", the system finds just \"modelic\" instead \"medolic\", is my path wrong?", "thanks everyone:)"], "answer": [], "question_code": ["echo \"source /opt/ros/melodic/setup.bash\" >> ~/.bashrc", "source ~/.bashrc", ".bashrc", ".bashrc"], "url": "https://stackoverflow.com/questions/58268961/environment-setup-of-ros-melodic"}
,{"title": "ROS Melodic: Invoking \u201cmake -j12 -l12\u201d failed (catkin_make Error)", "time": "2019-08-08 19:51:48Z", "post_content": ["I have a problem with building my workspace with catkin_make. I am using ROS melodic within a ", ".", "I have 2 packages in my ", " folder. One is called ", " and ", ". These 2 are adding a few features to control my PlutoX nano drone. When I installed the ", " everything worked fine... but when I try to install the ", " I get the following error:", "If you need any more information (Makefiles, folder structure etc.) just ask.", "Many thanks in advance!"], "answer": [], "question_code": ["/workspace/src", "root@064f7b7f1c56:/workspace# catkin_make\nBase path: /workspace\nSource space: /workspace/src\nBuild space: /workspace/build\nDevel space: /workspace/devel\nInstall space: /workspace/install\n####\n#### Running command: \"make cmake_check_build_system\" in \"/workspace/build\"\n####\n####\n#### Running command: \"make -j12 -l12\" in \"/workspace/build\"\n####\n[  0%] Built target geometry_msgs_generate_messages_nodejs\n[  0%] Built target std_msgs_generate_messages_lisp\n[  0%] Built target std_msgs_generate_messages_eus\n[  0%] Built target std_msgs_generate_messages_nodejs\n[  0%] Built target std_msgs_generate_messages_cpp\n[  0%] Built target std_msgs_generate_messages_py\n[  0%] Built target rosgraph_msgs_generate_messages_nodejs\n[  1%] Built target plutoserver_generate_messages\n[  1%] Built target _plutodrone_generate_messages_check_deps_PlutoMsgAP\n[  1%] Built target _plutodrone_generate_messages_check_deps_PlutoMsg\n[  3%] Built target plutodrone\n[  3%] Built target _plutodrone_generate_messages_check_deps_PlutoPilot\n[  3%] Built target roscpp_generate_messages_eus\n[  3%] Built target rosgraph_msgs_generate_messages_lisp\n[  3%] Built target rosgraph_msgs_generate_messages_py\n[  3%] Built target roscpp_generate_messages_cpp\n[  3%] Built target roscpp_generate_messages_py\n[  3%] Built target rosgraph_msgs_generate_messages_cpp\n[  3%] Built target roscpp_generate_messages_lisp\n[  3%] Built target rosgraph_msgs_generate_messages_eus\n[  3%] Built target sensor_msgs_generate_messages_py\n[  3%] Built target roscpp_generate_messages_nodejs\n[  3%] Built target geometry_msgs_generate_messages_cpp\n[  3%] Built target sensor_msgs_generate_messages_cpp\n[  3%] Built target sensor_msgs_generate_messages_eus\n[  3%] Built target geometry_msgs_generate_messages_eus\n[  3%] Built target geometry_msgs_generate_messages_lisp\n[  3%] Built target sensor_msgs_generate_messages_nodejs\n[  3%] Built target geometry_msgs_generate_messages_py\n[  7%] Built target plutodrone_generate_messages_lisp\n[  7%] Built target sensor_msgs_generate_messages_lisp\n[ 10%] Built target gtest\n[ 14%] Built target plutodrone_generate_messages_cpp\n[ 15%] Built target pluto_camera_sense\n[ 18%] Built target pluto_image_sub\n[ 23%] Built target plutodrone_generate_messages_eus\n[ 34%] Built target plutodrone_generate_messages_nodejs\n[ 34%] Built target plutodrone_generate_messages_py\n[ 36%] Built target plutoswarm\n[ 39%] Built target plutojoystick\n[ 47%] Built target camera_calibration_parsers\n[ 47%] Built target plutoserver\n[ 50%] Built target plutonode\n[ 50%] Built target _polled_camera_generate_messages_check_deps_GetPolledImage\n[ 60%] Built target image_transport\n[ 60%] Built target plutodrone_generate_messages\n[ 61%] Built target polled_camera_generate_messages_cpp\n[ 64%] Built target polled_camera_generate_messages_py\n[ 65%] Built target polled_camera_generate_messages_lisp\n[ 68%] Built target polled_camera_generate_messages_eus\n[ 69%] Built target polled_camera_generate_messages_nodejs\n[ 72%] Built target convert\n[ 75%] Built target camera_calibration_parsers_wrapper\n[ 77%] Built target republish\n[ 80%] Built target camera_info_manager\n[ 84%] Built target image_transport_plugins\n[ 86%] Built target list_transports\n[ 86%] Built target polled_camera_generate_messages\n[ 89%] Built target imagepronode\n[ 92%] Built target polled_camera\n[ 93%] Building CXX object pluto_camera_ros_packages/pluto_camera_sense/CMakeFiles/plutocamera.dir/src/plutocamera.cpp.o\n[ 96%] Built target unit_test\n[ 98%] Built target poller\n/workspace/src/pluto_camera_ros_packages/pluto_camera_sense/src/plutocamera.cpp: In function \u2018void read_buffer(void*, lewei_video_frame*)\u2019:\n/workspace/src/pluto_camera_ros_packages/pluto_camera_sense/src/plutocamera.cpp:87:73: warning: \u2018int avcodec_decode_video2(AVCodecContext*, AVFrame*, int*, const AVPacket*)\u2019 is deprecated [-Wdeprecated-declarations]\n  ret = avcodec_decode_video2(pCodecCtxc, pVideoFrame, &got_picture, &pkt);\n                                                                         ^\nIn file included from /workspace/src/pluto_camera_ros_packages/pluto_camera_sense/src/plutocamera.cpp:20:0:\n/usr/include/x86_64-linux-gnu/libavcodec/avcodec.h:4993:5: note: declared here\n int avcodec_decode_video2(AVCodecContext *avctx, AVFrame *picture,\n     ^~~~~~~~~~~~~~~~~~~~~\n/workspace/src/pluto_camera_ros_packages/pluto_camera_sense/src/plutocamera.cpp:116:112: error: \u2018PIX_FMT_BGR24\u2019 was not declared in this scope\n     SwsContext* conversion = sws_getContext(width, height, (AVPixelFormat) pVideoFrame->format, width, height, PIX_FMT_BGR24, SWS_FAST_BILINEAR, NULL, NULL, NULL);\n                                                                                                                ^~~~~~~~~~~~~\n/workspace/src/pluto_camera_ros_packages/pluto_camera_sense/src/plutocamera.cpp:116:112: note: suggested alternative: \u2018AV_PIX_FMT_BGR24\u2019\n     SwsContext* conversion = sws_getContext(width, height, (AVPixelFormat) pVideoFrame->format, width, height, PIX_FMT_BGR24, SWS_FAST_BILINEAR, NULL, NULL, NULL);\n                                                                                                                ^~~~~~~~~~~~~\n                                                                                                                AV_PIX_FMT_BGR24\npluto_camera_ros_packages/pluto_camera_sense/CMakeFiles/plutocamera.dir/build.make:62: recipe for target 'pluto_camera_ros_packages/pluto_camera_sense/CMakeFiles/plutocamera.dir/src/plutocamera.cpp.o' failed\nmake[2]: *** [pluto_camera_ros_packages/pluto_camera_sense/CMakeFiles/plutocamera.dir/src/plutocamera.cpp.o] Error 1\nCMakeFiles/Makefile2:3018: recipe for target 'pluto_camera_ros_packages/pluto_camera_sense/CMakeFiles/plutocamera.dir/all' failed\nmake[1]: *** [pluto_camera_ros_packages/pluto_camera_sense/CMakeFiles/plutocamera.dir/all] Error 2\nMakefile:140: recipe for target 'all' failed\nmake: *** [all] Error 2\nInvoking \"make -j12 -l12\" failed\n"], "url": "https://stackoverflow.com/questions/57419713/ros-melodic-invoking-make-j12-l12-failed-catkin-make-error"}
,{"title": "Error when using SURF detector in opencv inside ROS", "time": "2015-06-06 04:15:49Z", "post_content": ["I was trying to migrate a code that uses SURF from \"Pure\" OpenCV in c++ to a ROS cpp code. The problem is that when I include the line of the surf Detector, the compiler shows me an error after Linkin the executable that I haven't seen before.\nThis is my code:", "The line that breakes everything is this:", "The error that the compiler shows me is:", "Thanks for your advice!"], "answer": [], "question_code": ["#include <ros/ros.h>\n#include <image_transport/image_transport.h>\n#include <cv_bridge/cv_bridge.h>\n#include <sensor_msgs/image_encodings.h>\n#include <opencv2/imgproc/imgproc.hpp>\n#include <opencv2/highgui/highgui.hpp>\n#include <stdio.h>\n#include <iostream>\n#include \"opencv2/core/core.hpp\"\n#include \"opencv2/features2d/features2d.hpp\"\n#include \"opencv2/nonfree/features2d.hpp\"\n#include \"opencv2/nonfree/nonfree.hpp\"\n\nusing namespace cv;\nusing namespace std;\nstatic const std::string OPENCV_WINDOW = \"Image window\";\nclass ImageConverter\n{\n  ros::NodeHandle nh_;\n  image_transport::ImageTransport it_;\n  image_transport::Subscriber image_sub_;\n  image_transport::Publisher image_pub_;\n\npublic:\n  ImageConverter()\n    : it_(nh_)\n  {\n    // Subscribe to input video feed and publish output video feed\n    image_sub_ = it_.subscribe(\"/ardrone/front/image_raw\", 1, \n      &ImageConverter::imageCb, this);\n    image_pub_ = it_.advertise(\"/image_converter/output_video\", 1);\n\n    namedWindow(OPENCV_WINDOW);\n  }\n\n  ~ImageConverter()\n  {\n    destroyWindow(OPENCV_WINDOW);\n  }\n\n  void imageCb(const sensor_msgs::ImageConstPtr& msg)\n  {\n    cv_bridge::CvImagePtr cv_ptr;\n    try\n    {\n      cv_ptr = cv_bridge::toCvCopy(msg, sensor_msgs::image_encodings::BGR8);\n    }\n    catch (cv_bridge::Exception& e)\n    {\n      ROS_ERROR(\"cv_bridge exception: %s\", e.what());\n      return;\n    }\n\n    // Draw an example circle on the video stream\n\n    Mat img_hsv;\n    //cv::Mat img_gauss;\n    //cv::Mat img_thr;\n    //cv::GaussianBlur(cv_ptr->image, img_gauss, cv::Size(9,9), 1.5, 1.5);\n    cvtColor(cv_ptr->image,img_hsv,CV_BGR2GRAY);\n    //cv::inRange(img_hsv, cv::Scalar(60, 30, 20), cv::Scalar(140, 170, 128), img_hsv);\n    // Update GUI Window\n    //cv::imshow(OPENCV_WINDOW, cv_ptr->image);\n    //cv::imshow(OPENCV_WINDOW, img_hsv);\n    cv::imshow(OPENCV_WINDOW, img_hsv);\n    int minHessian = 400;\n    SurfFeatureDetector detector( minHessian );\n        waitKey(3);\n\n    // Output modified video stream\n    image_pub_.publish(cv_ptr->toImageMsg());\n  }\n};\n\nint main(int argc, char** argv)\n{\n  ros::init(argc, argv, \"image_converter\");\n  ImageConverter ic;\n  ros::spin();\n  return 0;\n}\n", "SurfFeatureDetector detector( minHessian );\n", "Linking CXX executable /home/edrone/catkin_ws/devel/lib/stream/stream_node\nCMakeFiles/stream_node.dir/src/stream_node.cpp.o: In function     `ImageConverter::imageCb(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)':\nstream_node.cpp:  (.text._ZN14ImageConverter7imageCbERKN5boost10shared_ptrIKN11sensor_msgs6Image_ISaIvEEEEE[_ZN14ImageConverter7imageCbERKN5boost10shared_ptrIKN11sensor_msgs6Image_ISaIvEEEEE]+0x134): undefined reference to `cv::SURF::SURF(double, int, int, bool, bool)'\nCMakeFiles/stream_node.dir/src/stream_node.cpp.o: In function `cv::SURF::~SURF()':\nstream_node.cpp:(.text._ZN2cv4SURFD1Ev[_ZN2cv4SURFD1Ev]+0xe): undefined reference to `vtable for cv::SURF'\nstream_node.cpp:(.text._ZN2cv4SURFD1Ev[_ZN2cv4SURFD1Ev]+0x26): undefined reference to `vtable for cv::SURF'\nstream_node.cpp:(.text._ZN2cv4SURFD1Ev[_ZN2cv4SURFD1Ev]+0x2e): undefined reference to `vtable for cv::SURF'\nstream_node.cpp:(.text._ZN2cv4SURFD1Ev[_ZN2cv4SURFD1Ev]+0x3b): undefined reference to `VTT for cv::SURF'\ncollect2: error: ld returned 1 exit status\nmake[2]: *** [/home/edrone/catkin_ws/devel/lib/stream/stream_node] Error 1\nmake[1]: *** [stream/CMakeFiles/stream_node.dir/all] Error 2\nmake: *** [all] Error 2\nInvoking \"make -j8 -l8\" failed\n", "apt-get", "CMakeLists.txt"], "url": "https://stackoverflow.com/questions/30678851/error-when-using-surf-detector-in-opencv-inside-ros"}
,{"title": "How to find current date of computer in ROS?", "time": "2014-09-06 19:29:44Z", "post_content": ["I'm trying to calculate difference of dates based on the current computer date, in ROS. Which function can I use to do that? Or atleast get the current date of computer.", "Thanks in advance"], "answer": ["You should try Google next time, but here:", "EDIT:\nTo get a text string, you have to convert it: ", "Once you have it converted to ", ", you can:", "Which will spit it out like: \"2002-Jan-01 10:00:01.123456789\"\nYou can also see what thistime.date(); gives you, it looks like it might be simpler: "], "answer_code": ["ros::Time::now();\nros::Duration difference = ros::Time::now() - previous_time;\n", "boost::posix_time thistime = from_time_t(difference);\n", "std::string to_simple_string(thistime);\n"], "url": "https://stackoverflow.com/questions/25703980/how-to-find-current-date-of-computer-in-ros"}
,{"title": "Integrate Caffe model into ROS", "time": "2014-12-12 07:03:56Z", "post_content": ["I'm looking at integrating a trained Caffe network into ROS and was wondering if anyone had any experience with this?", "Thanks,\nJames"], "answer": ["Visit ", "\nIntegrate Caffe into ROS indigo."], "url": "https://stackoverflow.com/questions/27438528/integrate-caffe-model-into-ros"}
,{"title": "Put some poses in the list in ROS", "time": "2014-08-21 22:43:49Z", "post_content": ["I tried to use the class 'geometry_msgs.msg._Pose.Pose' and put a continuously poses in a list by python. Here is what I do:", "So I hope the poses in list are a continuous poses corresponding to the value of z from 1 to 5. However the result is that the pose are the same in list......", "I am new in both python and ros..... so could anyone please help me ..... Thank you!"], "answer": ["Check out this ", " post:", "The reason this is happening is because you only have one \"Pose,\" and all elements in the list point to it (python pretends to not have pointers, but it really does).  To fix this, you need to generate new poses for each element of the list.", "Something like:", "will work for you."], "question_code": ["from geometry_msgs.msg import Pose\npose = Pose()\nlist = []\nfor i in range(5):\n    pose.position.z = pose.position.z + 1\n    list.append(pose)\n"], "answer_code": ["from geometry_msgs.msg import Pose\nlist = []\nfor i in range(5):\n    pose = Pose()\n    if i > 0:\n        pose.position.z = list[i - 1].position.z + 1\n    list.append(pose)\n\nfor item in list:\n    print item.position.z\n"], "url": "https://stackoverflow.com/questions/25437097/put-some-poses-in-the-list-in-ros"}
,{"title": "ROS Custom message with sensor_msgs/Image Publisher", "time": "2015-04-19 09:53:53Z", "post_content": ["I have a custom .msg file MyImage.msg", "I have configured the custom .msg fle as illustrated in link:", "Further, I am trying to write a simple publisher with this msg.", "This does not seem to compile with catkin_make. The error messages are -", "I can understand that ", " isn't correct. Please help me fix this."], "answer": ["You are trying to assign a ", " (a ", ") to a ", " field. Simply you can't. Just look at the fifth line of your error log: ", "To solve this simple issue, just add the dereference operator (*) to that pointer:", "I assume that there are no other errors in the code."], "question_code": ["sensor_msgs/Image im\nfloat32 age\nstring name\n", "#include <ros/ros.h>\n\n#include <custom_msg/MyImage.h>\n#include <image_transport/image_transport.h>\n\n\n#include <opencv2/highgui/highgui.hpp>\n#include <opencv2/opencv.hpp>\n#include <cv_bridge/cv_bridge.h>\n\n\n\nint main( int argc, char ** argv )\n{\n    ros::init(argc, argv, \"publish_custom\");\n    ros::NodeHandle nh;\n\n    ros::Publisher pub2 = nh.advertise<custom_msg::MyImage>(\"custom_image\", 2 );\n\n    cv::Mat image = cv::imread( \"Lenna.png\", CV_LOAD_IMAGE_COLOR );\n    sensor_msgs::ImagePtr im_msg = cv_bridge::CvImage(std_msgs::Header(), \"bgr8\", image).toImageMsg();\n\n    ros::Rate rate( 2 );\n\n    while( ros::ok() )\n    {\n        ROS_INFO_STREAM_ONCE( \"IN main loop\");\n\n\n        custom_msg::MyImage msg2;\n        msg2.age=54.3;\n        msg2.im = im_msg;\n        msg2.name=\"Gena\";\n\n        pub2.publish(msg2);\n\n        rate.sleep();\n    }\n}\n", "/home/eeuser/ros_workspaces/HeloRosProject/src/custom_msg/publish.cpp: In function \u2018int main(int, char**)\u2019:\n/home/eeuser/ros_workspaces/HeloRosProject/src/custom_msg/publish.cpp:40:19: error: no match for \u2018operator=\u2019 in \u2018msg2.custom_msg::MyImage_<std::allocator<void> >::im = im_msg\u2019\n/home/eeuser/ros_workspaces/HeloRosProject/src/custom_msg/publish.cpp:40:19: note: candidate is:\n/opt/ros/hydro/include/sensor_msgs/Image.h:56:8: note: sensor_msgs::Image_<std::allocator<void> >& sensor_msgs::Image_<std::allocator<void> >::operator=(const sensor_msgs::Image_<std::allocator<void> >&)\n/opt/ros/hydro/include/sensor_msgs/Image.h:56:8: note:   no known conversion for argument 1 from \u2018sensor_msgs::ImagePtr {aka boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > >}\u2019 to \u2018const sensor_msgs::Image_<std::allocator<void> >&\u2019\nmake[2]: *** [custom_msg/CMakeFiles/publish.dir/publish.cpp.o] Error 1\nmake[1]: *** [custom_msg/CMakeFiles/publish.dir/all] Error 2\nmake: *** [all] Error 2\nInvoking \"make\" failed\n", "msg2.im = im_msg;"], "answer_code": ["sensor_msgs::ImagePtr", "sensor_msgs::Image", "no known conversion for argument 1 from \u2018sensor_msgs::ImagePtr {aka boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > >}\u2019 to \u2018const sensor_msgs::Image_<std::allocator<void> >&\u2019\n", "msg2.im = *im_msg;\n"], "url": "https://stackoverflow.com/questions/29588180/ros-custom-message-with-sensor-msgs-image-publisher"}
,{"title": "Building an Android app for ROS", "time": "2015-04-16 20:22:48Z", "post_content": ["I am following ", " to build and android app for ROS", "After I import this in Android studio having following problem, I am using Android studio in windows 7."], "answer": [], "question_code": ["Error:(66, 0) Gradle DSL method not found: 'android()'\nPossible causes:The project 'android_apps' may be using a version of Gradle that does not contain the method.\nOpen Gradle wrapper fileThe build file may be missing a Gradle plugin.\nApply Gradle plugin\n"], "url": "https://stackoverflow.com/questions/29615931/building-an-android-app-for-ros"}
,{"title": "strange Error from my opencv2 library while I'm using it in ROS", "time": "2019-08-10 09:25:06Z", "post_content": ["While I'm making my catkin workspace, a very strange and long error comes up with the opencv2 library telling:", "This error actually repeats for many functions in the persistence.hpp header file. Anybody has Idea what shall I do ? Actually this message comes up when the compiler reaches the very line at which the #include  is placed. ", "This is my cmake file:", "and This is the Package.xml File:"], "answer": [], "question_code": ["usr/local/include/opencv4/opencv2/core/persistence.hpp:1122:32: error: expected primary-expression before \u2018>\u2019 token\n     value = saturate_cast<uchar>(temp);\n                                ^\n/usr/local/include/opencv4/opencv2/core/persistence.hpp: At global scope:\n/usr/local/include/opencv4/opencv2/core/persistence.hpp:1126:17: error: \u2018FileNode\u2019 does not name a type; did you mean \u2018timezone\u2019?\n void read(const FileNode& node, schar& value, schar default_value)\n                 ^~~~~~~~\n                 timezone\n", "cmake_minimum_required(VERSION 2.8.3)\nproject(PROJECT_NAME)\n\nfind_package(catkin_simple 0.1.0 REQUIRED )\nfind_package(PCL REQUIRED)\nfind_package(Eigen3 REQUIRED)\nfind_package(OpenCV REQUIRED)\n\n\ncatkin_simple(ALL_DEPS_REQUIRED)\n\nadd_definitions(-std=c++11 -g)\nadd_definitions(${OpenCV_DEFINITIONS})\nadd_definitions(${PCL_DEFINITIONS})\n\ninclude_directories(${PCL_INCLUDE_DIRS})\ninclude_directories(${Eigen_INCLUDE_DIRS})\ninclude_directories(${OpenCV_INCLUDE_DIRS})\ninclude_directories(${catkin_INCLUDE_DIRS})\n\n\nlink_directories(${OpenCV_LIBRARY_DIRS})\nlink_directories(${PCL_LIBRARY_DIRS})\n\ncs_add_library(${PROJECT_NAME}  src/PROJECT_NAME)\ntarget_link_Libraries ( ${PROJECT_NAME} ${OpenCV_LIBRARIES})\n", "<?xml version=\"1.0\"?>\n<package format=\"2\">\n  <name>project_name</name>\n  <version>0.0.1</version>\n  <description> Whatever </description>\n\n\n  <maintainer ji3k3</maintainer>\n\n\n  <license>TODO</license>\n\n  <buildtool_depend>catkin</buildtool_depend>\n  <buildtool_depend>catkin_simple</buildtool_depend>\n  <buildtool_depend>roscpp</buildtool_depend>\n  <buildtool_depend>OpenCV</buildtool_depend>\n\n\n<depend>OpenCV</depend>\n<depend>rosbag</depend>\n<depend>roscpp</depend>\n<depend>tf</depend>\n<depend>pcl_ros</depend>\n\n</package>\n\n"], "url": "https://stackoverflow.com/questions/57440785/strange-error-from-my-opencv2-library-while-im-using-it-in-ros"}
,{"title": "trying to make a program to detect lasers with a camera", "time": "2019-08-12 14:26:04Z", "post_content": ["I have this program that worked before when I was using a video 0 camera but now does not work now that I have changed it to a ", " camera. I am not sure why. ", "The program is supposed to detect laser dots. Could anyone offer any suggestions as to why this program is now not working? ", "The program appears to be working fine as in there are no errors but it is not picking up on the laser dots like it did before. I am using a different camera now but when I zoom in on the pixels there are several of the 255 pixels still next to each other in the camera plane so I am not sure what it is that is going wrong any suggestions as to what might be going wrong would be greatly appreciated "], "answer": [], "question_code": ["# import the necessary packages\nfrom __future__ import print_function\nfrom imutils import contours\nfrom skimage import measure,morphology\nimport numpy as np\nimport argparse\nimport imutils\nimport cv2\nimport message_filters\nfrom sensor_msgs.msg import Image, CameraInfo\nfrom std_msgs.msg import Int32, Float32MultiArray\nimport rospy\nfrom cv_bridge import CvBridge, CvBridgeError\nimport roslib\n#roslib.load_manifest('my_package')\nimport sys\nfrom sensor_msgs.msg import Image\nfrom cv_bridge import CvBridge, CvBridgeError\n\n'''\ndef getPoint(cameraTip,dotXY,normalPoint):\n    slope= (cameraTip[2]-dotXY[2])/(cameraTip[1]-dotXY[1])\n    b=cameraTip[2]-(slope*cameraTip[1])\n    z=slope*normalPoint[1]+b\n    return [normalPoint[0],normalPoint[1],z]\n'''\n# Image Processing functions\ndef convert_image(image): # Image of kind bgr8\n    gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)\n    blurred = cv2.GaussianBlur(gray, (11, 11), 0)\n        #threshold the image to reveal light regions in the\n        # blurred image\n    thresh = cv2.threshold(blurred, 200, 255, cv2.THRESH_BINARY)[1]\n        # perform a series of erosions and dilations to remove\n        # any small blobs of noise from the thresholded image\n    thresh = cv2.erode(thresh, None, iterations=2)\n    thresh = cv2.dilate(thresh, None, iterations=4)\n        # perform a connected component analysis on the thresholded\n        # image, then initialize a mask to store only the \"large\"\n        # components\n    labels = morphology.label(thresh, neighbors=8, background=0)\n    mask = np.zeros(thresh.shape, dtype=\"uint8\")\n\n        # loop over the unique components\n    for label in np.unique(labels):\n            # if this is the background label, ignore it\n        if label == 0:\n            continue\n\n            # otherwise, construct the label mask and count the\n                # number of pixels\n        labelMask = np.zeros(thresh.shape, dtype=\"uint8\")\n        labelMask[labels == label] = 255\n        numPixels = cv2.countNonZero(labelMask)\n\n                # if the number of pixels in the component is sufficiently\n                # large, then add it to our mask of \"large blobs\"\n        if numPixels > 20:\n            mask = cv2.add(mask, labelMask)\n    # find the contours in the mask, then sort them from left to\n    # right\n    cnts = cv2.findContours(mask.copy(), cv2.RETR_EXTERNAL,\n        cv2.CHAIN_APPROX_SIMPLE)\n    cnts = imutils.grab_contours(cnts)\n    cnts = contours.sort_contours(cnts)[0]\n\n        # loop over the contours\n    for (i, c) in enumerate(cnts):\n            # draw the bright spot on the image\n        (x, y, w, h) = cv2.boundingRect(c)\n        ((cX, cY), radius) = cv2.minEnclosingCircle(c)\n        #x and y center are cX and cY\n        cv2.circle(image, (int(cX), int(cY)), int(radius),\n            (0, 0, 255), 3)\n        cv2.putText(image, \"#{}\".format(i + 1), (x, y - 15),\n            cv2.FONT_HERSHEY_SIMPLEX, 0.45, (0, 0, 255), 2)\n\n        # show the output image\n    cv2.imshow(\"Image\", image)\n    cv2.waitKey(1)\n        #camera.release()\n    return image\n"], "url": "https://stackoverflow.com/questions/57462841/trying-to-make-a-program-to-detect-lasers-with-a-camera"}
,{"title": "Comparing two strings in c++ in ROS", "time": "2014-08-18 09:59:47Z", "post_content": ["I am trying to compare two strings in the following method on ROS ", "Here even though ", " and ", " have the same string in them ", " part is executed. \nI also tried other method ", "Even this code provides the same result ( ie,. the strings have same value ", " part is executed).\nI don't understand what is the problem. Does it have to do something with ROS? "], "answer": ["Here even though line_eval_str and check have the same string in them else part is executed", "This is the expected behaviour: both ", " and ", " return ", " (and not ", ") if the strings are equal. If you want the ", " body to execute, you need to test the return value against ", ":", "For better readability, you should use the ", " instead of the compare method:"], "quote": ["Here even though line_eval_str and check have the same string in them else part is executed"], "question_code": ["std::string line_eval_str = std::string(line_eval)+\"\";\nstd::string check (\"checking condition\");\n\nwhile(/*some condtion*/)\n{\n     if(check.compare(line_eval_str) == 1)\n    {   \n         ROS_ERROR(\"Breaking the loop!!!!! %s\",line_eval);\n         break;\n    }\n    else\n   {  \n        /*execute this part*/\n   }\n}\n", "line_eval_str", "check", "else", "while(/*some condtion*/)\n{\n    if(strcmp(line_eval_str,check) == 1)\n    {   \n        ROS_ERROR(\"Breaking the loop!!!!! %s\",line_eval);\n        break;\n    }\n    else\n    {  \n     /*execute this part*/\n    }\n}\n", "else"], "answer_code": ["string::compare()", "strcmp()", "0", "1", "if()", "0", "#include <iostream>\n\nint main() {\n  std::string str1 = \"Hello\";\n  std::string str2 = \"Hello\";\n\n  if (str1.compare(str2) == 0) {\n    std::cerr << \"Strings are equal\" << std::endl;\n  } else {\n    std::cerr << \"Strings are NOT equal\" << std::endl;\n  }\n\n  return 0;\n}\n", "$ g++ -o cmp cmp.c\n$ ./cmp\nStrings are equal\n", "if (str1 == str2) { ...\n"], "url": "https://stackoverflow.com/questions/25360649/comparing-two-strings-in-c-in-ros"}
,{"title": "How to assign vals to a Eigen Block of dynamic matrix", "time": "2019-08-16 02:53:28Z", "post_content": ["I'd like to save vals of point cloud of ", " in a ", " of dynamic matrix which I rename its name as View", "Then, in the source code, I declare a View object with the block of another atrix using ", " constructor:", "where ", " is a function returning matrix block.", "But when I try reassigning vals to it, the segment fault occurred:\n", "\nwhere ", " is a ", " number and iterate from 0. ", "I can successfully ", " the vals of ", " which means the accessing of the array is valid. I also found if I use ", " to assign vals to the matrix, it is valid, but if ", " the matrix after assignment, it is invalid. It's so weird!", "As far as I know, if the declaration of a dynamic matrix with known size or other fixed-size matrix, the assignment and accessing of the matrix should be legal. Is this the problem of the version of Eigen?"], "answer": [], "question_code": ["sensor_msgs::PointCloud2", "Eigen::Block", "typedef typename Eigen::Matrix<T, Eigen::Dynamic, Eigen::Dynamic> Matrix;\ntypedef Eigen::Block<Matrix> View;\n", "()", "View view(\n(it->name == \"normal_x\") ? cloud.getDescriptorRowViewByName(\"normals\", 0) : \n((it->name == \"normal_y\") ? cloud.getDescriptorRowViewByName(\"normals\", 1): \n((it->name == \"normal_z\") ? cloud.getDescriptorRowViewByName(\"normals\", 2): \n((isFeature[fieldId]) ? cloud.getFeatureViewByName(it->name) :\ncloud.getDescriptorViewByName(it->name))))\n         );\n", "getFeatureViewByName()", "template<typename T>\ntypename PointMatcher<T>::DataPoints::View PointMatcher<T>::DataPoints::getFeatureViewByName(const std::string& name)\n{\n    return getViewByName(name, featureLabels, features);\n}\n\ntemplate<typename T>\ntypename PointMatcher<T>::DataPoints::View PointMatcher<T>::DataPoints::getDescriptorRowViewByName(const std::string& name, const unsigned row)\n{\n    return getViewByName(name, descriptorLabels, descriptors, int(row));\n}\n\ntemplate<typename T>\ntemplate<typename MatrixType>\ntypename Eigen::Block<MatrixType> PointMatcher<T>::DataPoints::getViewByName(const std::string& name, const Labels& labels, MatrixType& data, const int viewRow) const\n{\n    unsigned row(0);\n    for(BOOST_AUTO(it, labels.begin()); it != labels.end(); ++it)\n    {\n        if (it->text == name)\n        {\n            if (viewRow >= 0)\n            {\n                if (viewRow >= int(it->span))\n                    throw InvalidField(\n                        (boost::format(\"Requesting row %1% of field %2% that only has %3% rows\") % viewRow % name % it->span).str()\n                    );\n                return data.block(row + viewRow, 0, 1, data.cols());\n            }\n            else\n                return data.block(row, 0, it->span, data.cols());\n        }\n        row += it->span;\n    }\n    throw InvalidField(\"Field \" + name + \" not found\");\n}\n", "view(0, ptId) = T(*reinterpret_cast<const uint16_t*>(fPtr));", "ptId", "int", "cout", "*reinterpret_cast<const float*>(fPtr)", "cloud.getFeatureViewByName(it->name).setConstant(1);", "cout", "getDescriptorRowViewByName", "getFeatureViewByName", "View", "View", "Eigen::Ref<Matrix>", "Block", "fPtr", "view(0,ptId) = T(0);"], "url": "https://stackoverflow.com/questions/57507268/how-to-assign-vals-to-a-eigen-block-of-dynamic-matrix"}
,{"title": "ROS Python msg, send list of ints", "time": "2014-11-25 16:22:28Z", "post_content": ["I have a list with ints:", "and I want to send this to another ROS node. I have the following .msg file:", "My publisher code:", "My listener code:", "The type in the listener code says: (type 'str'), even when I remove str() in str(perc) from the publisher code. However if I remove str(), the output is gibberish.", "From the ROS wiki (", ") I got that 'string' is the right format for this.", "So now I got a string in my listener node, but how do I convert this back to an list with ints? Is converting my list to a string really the right way?", "gives error: invalid literal for int() with base 10: '['", "map() also doesn't work"], "answer": ["Only uint8 is seen as a string, so my problem would be solved with uint16[]:", "It looks like you're using python 2.x, where the ", " type is an array of 8-bit unsigned integers. In python 2.x the ", " data type is used to transfer raw byte arrays, this is why you are getting a ", " back from the message. To convert a ", " to a list of ints you can do:", " tells the array that the data is in a format of 8-bit unsigned integers. The returned result from ", " is a list-like data type. The major difference being an array constrains what types of data can be set to it or added to it. For the most part an array will suffice, you can simply use ", ".", "When you do", "you are creating a string like this", "you need to remove the brackets(first and last character) and then split it with the \",\" as delimiter like this:", "Output:"], "question_code": ["perc = [0, 70, 85, 13, 54, 60, 67, 26]\n", "#File name: emotion_percentage.msg\nHeader header\nuint8 percentage\n", "obj = emotion_percentage()\nobj.percentage = str(perc)\nself.emo_pub.publish(obj)\n", "def callback(self, emo_perc):\n    print(emo_perc.percentage)\n    print(type(emo_perc.percentage))\n", "perc = [int(i) for i in emo_perc.percentage]\n"], "answer_code": ["Header header\nuint16[] percentage\n", "str", "str", "str", "str", "lst = list(array.array(\"B\", data))\n", "\"B\"", "array", "arr = array.array(\"B\", data)", "str(perc)\n", "'[0, 70, 85, 13, 54, 60, 67, 26]'\n", "perc = [int(i) for i in emo_perc.percentage[1:-1].split(\",\")]\n", "[0, 70, 85, 13, 54, 60, 67, 26]\n", "In [20]: print([0, 70, 85, 13, 54, 60, 67, 26]) # => the result is [0, 70, 85, 13, 54, 60, 67, 26]"], "url": "https://stackoverflow.com/questions/27131740/ros-python-msg-send-list-of-ints"}
,{"title": "ros: how to track changes in agents movement", "time": "2015-04-14 13:13:11Z", "post_content": ["I'm a noob in this matter so this question might be a bit dumb but I'm trying to launch a multi agent world file where each agent need to know wHo is closest to it.", "What I have by now: multi agent system where each agent has a laser sensor and they all move randomly and change direction when they are close to an obstacle which can be another agent or a wall defined in the world file", "I'm trying to find a way not just to realize when I hit an obstacle but also to know if it is a moving one and if so where is it moving and how fast.", "Thanks guys for any suggestion"], "answer": [], "url": "https://stackoverflow.com/questions/29628302/ros-how-to-track-changes-in-agents-movement"}
,{"title": "Ros publisher not working with V-Rep after saving", "time": "2014-08-11 22:48:27Z", "post_content": ["I've started using V-Rep to simulate some robots (Pioneers and quadrotors, initially), but I've been having problems when I try to connect it with ROS. I tried to replicate the example from RosTopicPublisherAndSubscriber.ttt and it only works the first time, after I close it and load it again, it doesn't work anymore, my code is practically identical to the example, except that I use getPose and it's a Pioneer (the one that comes with V-Rep), here's my code:", "Any idea is welcome! Thanks in advance!\nPS: Also, if anyone with 1500 reputation points could create the v-rep tag, that would be great!"], "answer": ["Ok, the people at V-REP helped me solve it. So basically I should used the argument as -1 instead of 0.", "So basically, a should have done this", "instead of"], "question_code": ["if (simGetScriptExecutionCount()==0) then\n\n    -- Check if the required plugin is there (libv_repExtRos.so or libv_repExtRos.dylib):\n    local moduleName=0\n    local moduleVersion=0\n    local index=0\n    local pluginNotFound=true\n    while moduleName do\n        moduleName,moduleVersion=simGetModuleName(index)\n        if (moduleName=='Ros') then\n            pluginNotFound=false\n        end\n        index=index+1\n    end\n\n    if (pluginNotFound) then\n\n        simDisplayDialog('Error','ROS plugin was not found.&&nSimulation will not run properly',sim_dlgstyle_ok,false,nil,{0.8,0,0,0,0,0},{0.5,0,0,1,1,1})\n    else\n\n        -- Retrive the handle of the vision sensor we wish to stream:\n        lHandle=simGetObjectHandle('Pioneer_p3dx')\n\n        -- Now enable topic publishing and streaming of the vision sensor's data:\n        topicName=simExtROS_enablePublisher('p3dx',1,simros_strmcmd_get_object_pose,lHandle,0,'')\n        if (topicName == nil) then\n            simDisplayDialog('Error','Nil',sim_dlgstyle_ok,false,nil,{0.8,0,0,0,0,0},{0.5,0,0,1,1,1})\n        else\n            simDisplayDialog('Error','Not Nil',sim_dlgstyle_ok,false,nil,{0.8,0,0,0,0,0},{0.5,0,0,1,1,1})\n        end\n        -- Retrive the handle of the passive vision sensor. We will use the passive vision sensor\n\n    end\nend\n"], "answer_code": ["topicName=simExtROS_enablePublisher('p3dx',1,simros_strmcmd_get_object_pose,lHandle,-1,'')\n", "topicName=simExtROS_enablePublisher('p3dx',1,simros_strmcmd_get_object_pose,lHandle,0,'')\n"], "url": "https://stackoverflow.com/questions/25253645/ros-publisher-not-working-with-v-rep-after-saving"}
,{"title": "Git warning \u201ctemplates not found\u201d while building ROS snap from rosinstall file", "time": "2020-01-06 09:01:53Z", "post_content": ["I'm building a ROS snap with the snapcraft catkin/catkin-tools plugin on Ubuntu 18.04. This plugin has the option to define rosinstall files to fetch package dependencies. However, the build process fails with a \"Permission denied (publickey)\" error:", "In my snap.rosinstall file I have only the public catkin_simple plugin:", "The \"parts\" part of my snapcraft.yaml looks as follows:", "I already tried different approaches:", "The only thing I can imagine is that something is missing in this VM, which snapcraft is starting at the beginning. However, again, using git as a source in snapcraft.yaml (without rosinstall) works fine, which is counterintuitive.", "Hope that someone can add clarity here."], "answer": ["I will mark the question as solved since it will be fixed in the following pull request:"], "question_code": ["Installing wstool...\nInitializing workspace (if necessary)...\nMerging /root/parts/workspace/src/snap/local/snap.rosinstall\nUpdating workspace...\nThe authenticity of host 'github.com (140.82.118.3)' can't be established.\nRSA key fingerprint is SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.\nAre you sure you want to continue connecting (yes/no)? yes\nError updating workspace: Cloning into '/root/parts/workspace/src/src/catkin_simple'...\nwarning: templates not found /usr/share/git-core/templates\nWarning: Permanently added 'github.com,140.82.118.3' (RSA) to the list of known hosts.\ngit@github.com: Permission denied (publickey).\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\nERROR in config: Error processing 'catkin_simple' : [catkin_simple] Checkout of git@github.com:catkin/catkin_simple.git version None into /root/parts/workspace/src/src/catkin_simple failed.\n", "- git:\n    local-name: catkin_simple\n    uri: git@github.com:catkin/catkin_simple.git\n", "parts: \n  workspace:\n    plugin: catkin-tools\n    source: .\n    rosinstall-files: [snap/local/snap.rosinstall]\n    catkin-packages: [catkin_simple]\n", "warning: templates not found /usr/share/git-core/templates\nfatal: Unable to find remote helper for 'https'", "ssh -T git@github.com", "sudo ssh -T git@github.com", "/usr/share/git-core/templates"], "url": "https://stackoverflow.com/questions/59609149/git-warning-templates-not-found-while-building-ros-snap-from-rosinstall-file"}
,{"title": "Can't subscribe topic within a rqt_plugin", "time": "2014-12-22 02:31:39Z", "post_content": ["I have a GUI as a rqt plugin and I want to subscribe a topic but I can't see my  rqt_plugin node on the rqt_graph.\nThe topic which i want to subscribe is in the same machine, which I want to start my rqt_plugin. I have muliple machines and I start the rqt_graph at the another machine. At the another machine I see all the other topics and I see also the topic which I want to subscribe with my rqt_plugin.", "Here is the creation of the publisher at machine A:", "Here is the subscribing of the topic /sci/cmd at my rqt_plugin also at machine A:", "If now I published something, my rqt plugin receives nothing. I know that the publisher works correctly  because I subscribed the topic with a normal node and I receive the messages. ", "I hope someone can help me :)"], "answer": ["Ok I got the problem.", "I created a local subscriber, which always was deleted if the program leaved the method.\nSo simple but so fatal.", "Now I create a object variable and it works."], "question_code": [" pubCmd = n.advertise<std_msgs::String>(\"/sci/cmd\", 10);\n", "ros::Subscriber sub = getNodeHandle().subscribe(\"/sci/cmd\", 10, &ccgui::receiveSC, this);\n"], "url": "https://stackoverflow.com/questions/27572681/cant-subscribe-topic-within-a-rqt-plugin"}
,{"title": "How to integrate tesseract-ocr library in a CMakeLists.txt?", "time": "2014-07-29 18:12:19Z", "post_content": ["I have no idea of how to integrate the tesseract-ocr library to my ros project, I use qt creator to code and the library is correctly installed since Qtcreator autocompletes the lines where i use the library but this code fails to compile", "with this compilation error", "text_detector.cpp:-1: error: undefined reference to ", "tesseract::TessBaseAPI::~TessBaseAPI()'", "How can i add the library to the project in the CMakeLists.txt?\nThanks!"], "answer": ["Looks like you are not linking the library. Your ", " should contain", "Depending on your CMake file  might just be "], "quote": ["text_detector.cpp:-1: error: undefined reference to ", "tesseract::TessBaseAPI::~TessBaseAPI()'"], "question_code": ["#include \"text_detector.h\"\n#include <ros/ros.h>\n#include <image_transport/image_transport.h>\n#include <cv_bridge/cv_bridge.h>\n#include <sensor_msgs/image_encodings.h>\n#include <opencv2/highgui/highgui.hpp>\n#include <opencv2/imgproc/imgproc.hpp>\n#include <tesseract/baseapi.h>\n\nimage_transport::Subscriber sub;\nimage_transport::Publisher imPub;\nros::Publisher textPub;\ntesseract::TessBaseAPI tess;\n\nvoid onImageReceived(const sensor_msgs::ImageConstPtr& msg){\n\n}\n\nint main (int argc, char* argv[]){\n    ros::init(argc,argv,\"text_detector\");\n    ros::NodeHandle nh;\n    ROS_INFO_STREAM(\"Starting text detection\");\n    image_transport::ImageTransport it(nh);\n    imPub = it.advertise(\"camera_hsv\",1);\n    tess.Init(NULL,\"eng\",tesseract::OEM_DEFAULT);\n    sub = it.subscribe(\"camera_raw\",1,&onImageReceived);\n   // textPub=nh.advertise<>(\"text\",1000);\n    ros::spin();\n}\n", "tesseract::TessBaseAPI::TessBaseAPI()'\n  text_detector.cpp:-1: error: undefined reference to"], "answer_code": ["CMakeLists.txt", "target_link_libraries (<YOUR-EXECUTABLE-NAME>  tesseract)\n", "${PROJECT_NAME}"], "url": "https://stackoverflow.com/questions/25022183/how-to-integrate-tesseract-ocr-library-in-a-cmakelists-txt"}
,{"title": "openni_tracker on ubuntu 14.04 and ros indigo", "time": "2014-09-02 12:39:35Z", "post_content": ["I am running on Ubuntu 14.04 and I want to use the ", " node of robot operating system (ROS). ", "My current ros-version is indigo. Unfortunately the node is only available for ROS hydro distribution. "], "answer": ["You have to build from source. Just download source code from this ", ", put the code in catkin workspace and run 'catkin_make' it will run on Indigo without problems."], "question_code": ["openni_tracker"], "url": "https://stackoverflow.com/questions/25623457/openni-tracker-on-ubuntu-14-04-and-ros-indigo"}
,{"title": "Qt binary linked to both Qt 5 and (wrongly) to Qt 4 causing segmentation fault when linked to Qwt", "time": "2015-12-21 23:33:51Z", "post_content": ["I have a Qt / ROS / Qwt application. Everything was going fine until I tried to link to Qwt. Note that I'm using Qwt 6.1.2 which should run on Qt 5.5. Indeed, the examples run fine.", "When I run my binary, it crashes even if I'm not using Qwt. I just need to link the my code to Qwt for that to happen. And -here is the issue I think-, gdb gives the following error:", "Which is wrong since the binary should  be using Qt 5.5. To make things more weird, ldd gives:", "How can I be linked to both Qt5 and Qt4? Qwt seems to be linked to only Qt 5.5:", "My CMakeList.txt file is:", "I don't think this is ROS related, nevertheless, is important to say that the source code is compiled via catkin_make etc.", "Last but not least, qmake refers to version 5.5:", "EDIT: Just to be clear: I want (need) everything compiled and linked to the same Qt versi\u00f3n. But somehow,  is not happening. "], "answer": ["You need to link with ", ".", " is the Qt4 version of QWT, which uses ", " etc., which you can see in your ", " output above. Linking with ", " only requires Qt5 ", " files.", "I switched everything back to Qt4. Got tired of wasting time on an issue that should not happen. Still have no idea how the binary ended linked to two different versions of Qt, only when linked to Qwt, where Qwt was linked only to Qt5 and the binary without the linkage to Qwt was also only linked to Qt5. "], "question_code": ["ram received signal SIGSEGV, Segmentation fault.\n0x00007ffff25eadfc in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4\n", ">> ldd dls_gui | grep 'Qt'\n    libQt5Widgets.so.5 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libQt5Widgets.so.5 (0x00007f684cadc000)\n    libQt5Gui.so.5 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libQt5Gui.so.5 (0x00007f684afad000)\n    libQt5Core.so.5 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libQt5Core.so.5 (0x00007f684a867000)\n    libQtSvg.so.4 => /usr/lib/x86_64-linux-gnu/libQtSvg.so.4 (0x00007f684862c000)\n    libQtGui.so.4 => /usr/lib/x86_64-linux-gnu/libQtGui.so.4 (0x00007f6847979000)\n    libQtCore.so.4 => /usr/lib/x86_64-linux-gnu/libQtCore.so.4 (0x00007f6847493000)\n    libicui18n.so.54 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libicui18n.so.54 (0x00007f6844e33000)\n    libicuuc.so.54 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libicuuc.so.54 (0x00007f6844a85000)\n    libicudata.so.54 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libicudata.so.54 (0x00007f684305b000)\n", ">> ldd /usr/local/qwt-6.1.2/lib/libqwt.so | grep 'Qt'\n    libQt5PrintSupport.so.5 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libQt5PrintSupport.so.5 (0x00007fbcee13a000)\n    libQt5Svg.so.5 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libQt5Svg.so.5 (0x00007fbcedee5000)\n    libQt5OpenGL.so.5 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libQt5OpenGL.so.5 (0x00007fbcedc8e000)\n    libQt5Widgets.so.5 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libQt5Widgets.so.5 (0x00007fbced410000)\n    libQt5Gui.so.5 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libQt5Gui.so.5 (0x00007fbcecbfc000)\n    libQt5Core.so.5 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libQt5Core.so.5 (0x00007fbcec4b7000)\n    libicui18n.so.54 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libicui18n.so.54 (0x00007fbcea032000)\n    libicuuc.so.54 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libicuuc.so.54 (0x00007fbce9c84000)\n    libicudata.so.54 => /home/jcolmenares/Qt/5.5/gcc_64/lib/libicudata.so.54 (0x00007fbce825a000)\n", "cmake_minimum_required(VERSION 2.8.11)\nproject(dls_gui)\n\n# Find the QtWidgets library\nfind_package(Qt5Widgets)\n# Find includes in corresponding build directories\nset(CMAKE_INCLUDE_CURRENT_DIR ON)\n\n# Qwt related\n# list(APPEND CMAKE_MODULE_PATH \"${CMAKE_CURRENT_LIST_DIR}/cmake_packages\")\n# find_package(Qwt REQUIRED)\nfind_path(QWT_INCLUDE_DIR qwt.h HINTS /usr/local/qwt-6.1.2/include)\nfind_library(QWT_LIBRARY qwt /usr/local/qwt-6.1.2/lib/)\ninclude_directories(${QWT_INCLUDE_DIR})\n\n\n# catkin related\ncatkin_package()\nfind_package(catkin REQUIRED COMPONENTS roscpp sensor_msgs urdf)\ninclude_directories( ${catkin_INCLUDE_DIRS} include)\n\n# source, header and resources files list\nset(CPP_SOURCES src/main.cpp src/mainwindow.cpp src/basewidget.cpp src/rosQtNode.cpp \n    src/joints_sliders.cpp src/superslider.cpp src/support_polygon.cpp)\n\nset(CPP_HDRS include/mainwindow.h include/basewidget.h include/rosQtNode.hpp \n    include/joints_sliders.hpp include/superslider.hpp include/support_polygon.hpp)\n\nset(QRC_RESOURCES ${CMAKE_CURRENT_SOURCE_DIR}/dls_gui.qrc)\n\n# Add the include directories for the Qt 5 Widgets module to# the compile lines.\ninclude_directories(${Qt5Widgets_INCLUDE_DIRS} )\n\n# Use the compile definitions defined in the Qt 5 Widgets module\nadd_definitions(${Qt5Widgets_DEFINITIONS})\n\n# Generate headers from ui files\nqt5_wrap_ui(UIS_HDRS src/mainwindow.ui)\n\n# Generate moc files from cpp\nqt5_wrap_cpp(MOC_SOURCES ${CPP_SOURCES} ${CPP_HDRS})\n\n# Generate resources \nqt5_add_resources(RESOURCES_RCC ${RESOURCE})\n\n# Add compiler flags for building executables (-fPIE)\nset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} ${Qt5Widgets_EXECUTABLE_COMPILE_FLAGS} -std=c++11\")\n\n## Ros include dirs\ninclude_directories(include ${catkin_INCLUDE_DIRS})\n\n# Tell CMake to create the helloworld executable\nadd_executable(dls_gui ${CPP_SOURCES}  ${UIS_HDRS} ${MOC_SOURCES} ${QRC_RESOURCES})\nadd_executable(testRos src/testRos.cpp)\nqt5_use_modules(dls_gui Widgets)\n\n#Link the helloworld executable to the Qt 5 widgets library.\ntarget_link_libraries(dls_gui ${QWT_LIBRARY} Qt5::Widgets ${catkin_LIBRARIES} )\n\ntarget_link_libraries(testRos ${catkin_LIBRARIES})\n", ">> qmake --version\nQMake version 3.0\nUsing Qt version 5.5.0 in /home/jcolmenares/Qt/5.5/gcc_64/lib\n", "I don't think this is ROS related...", "I just need to link the my code to Qwt for crash to happen"], "answer_code": ["qwt-qt5", "qwt", "libQtGui.so.4", "ldd", "qwt-qt5", "so"], "url": "https://stackoverflow.com/questions/34400868/qt-binary-linked-to-both-qt-5-and-wrongly-to-qt-4-causing-segmentation-fault-w"}
,{"title": "OpenCV compiling error with nonfree/feature2d.hpp", "time": "2015-04-19 10:05:22Z", "post_content": ["I am trying to compile a C++ code in ROS indigo using catkin_make under Ubuntu 14.04. I am getting the following error:", "Does anyone has a clue, what the issue might be? Note that this error is occurring in the feature2d.hpp from OpenCV (so its not a file I made). I already tried to reinstall OpenCV and also ROS, but that did not fix the error.", "I would be very thankful if anyone has any idea how to solve that.", "Thanks,", "snow", "Edit: Here is the CMakeLists.txt:"], "answer": ["I kinda fixed it, but I guess its not the proper way of doing it:", "ROS is already coming with an OpenCV Version. On my computer I also installed a separate newer OpenCV Version. I fixed it by changing the names of the two folder ", " and ", " in the directory ", ". Now, the complier is not using ROS' OpenCV anymore, but the one I installed and that is fixing my issue.", "Again, I think thats not how it should be done, so if somebody has any better idea, please let me know!", "Try to write just before including opencv2 :"], "question_code": ["/usr/local/include/opencv2/nonfree/features2d.hpp:73:21: error: \u2018vector\u2019 has not been declared\n                     vector<KeyPoint>& keypoints) const;\n                     ^\n/usr/local/include/opencv2/nonfree/features2d.hpp:73:27: error: expected \u2018,\u2019 or \u2018...\u2019 before \u2018<\u2019 token\n                     vector<KeyPoint>& keypoints) const;\n                           ^\n/usr/local/include/opencv2/nonfree/features2d.hpp:77:21: error: \u2018vector\u2019 has not been declared\n                     vector<KeyPoint>& keypoints,\n                     ^\n/usr/local/include/opencv2/nonfree/features2d.hpp:77:27: error: expected \u2018,\u2019 or \u2018...\u2019 before \u2018<\u2019 token\n                     vector<KeyPoint>& keypoints,\n", "cmake_minimum_required (VERSION 2.8.3)\nproject (test)\nset (test_VERSION \"1.0.0\")\n\nfind_package( OpenCV REQUIRED )         \n\nif ( NOT OpenCV_FOUND )\n  message(FATAL_ERROR \"Package OpenCV required, but not found!\")\nendif( NOT OpenCV_FOUND )\n\nfind_package( Eigen3 REQUIRED )         \n\ninclude_directories(\n  ${EIGEN3_INCLUDE_DIR}             \n  ${CMAKE_CURRENT_SOURCE_DIR}/include\n  ${OpenCV_INCLUDE_DIRS}\n)\n\nset (SOURCE\n  src/test.cpp)\n\nadd_library (test ${SOURCE})\nset_target_properties (test PROPERTIES\n  COMPILE_FLAGS \"-std=c++11\")\n\ntarget_link_libraries( test ${OpenCV_LIBS} ${EIGEN3_LIBRARY_DIRS})\n", "CMakeLists.txt", "CMakeLists.txt", "CMakeLists.txt"], "answer_code": ["opencv", "opencv2", "/opt/ros/indigo/include", "#include <vector>\nusing namespace std;\n"], "url": "https://stackoverflow.com/questions/29657658/opencv-compiling-error-with-nonfree-feature2d-hpp"}
,{"title": "What are the contents of PointCloud2?", "time": "2019-08-15 09:52:17Z", "post_content": ["What does the contents of PointCloud2 means in ROS?", "Here is a published PointCloud2 message by Velodyne LiDAR:", "Why height in Velodyne-HDL64e LiDAR is equal to one? I expected it to be 64.", "Finally, for example, what is 171 value in ", "? is ", " or is a range (for which one of the beams)?"], "answer": ["Maybe I'm a bit late, but for anybody having the same Problem:", "For question 1.-3. see ", ". Also what you need to have in mind, is that the data is stored as uint8, but your points should be in float32, if I see it correctly. Therefore each value (x,y,z,intensity, etc.) or \"field\" is stored as multiple uint8 bytes. So you need 4 data entries to represent the x value of one point. The total length of one point in bytes is stored as \"point_step\", answering your fourth question.", "The Field Offset is the number of bytes from the start of the point to the byte, in which this field begins to be stored. So every point has the first 4 bytes for x, then with an offset of 4 start the bytes for y etc.", "and 3.: fields.datatype and fields.count: See ", "point.step is number of bytes or data entries for one point", "row_step: See your own link, so it is \"number of points per row * point_step\"", "Probably your scanner publishes line after line? I'm actually not sure of this one.", "No, the first 4 entries represent the x value, so 235, 171, 190, 53 equals:\n11101011 10101011 10111110 00110101 and this represents a float32 value. The 171 has no direct information about the x, y or z value of the point."], "question_code": ["fields.offset", "fields.datatype", "fields.count", "point_step", "row_step", "header: \n  seq: 1071\n  stamp: \n    secs: 1521699326\n    nsecs: 676390000\n  frame_id: \"velodyne\"\nheight: 1\nwidth: 66811\nfields: \n  - \n    name: \"x\"\n    offset: 0\n    datatype: 7\n    count: 1\n  - \n    name: \"y\"\n    offset: 4\n    datatype: 7\n    count: 1\n  - \n    name: \"z\"\n    offset: 8\n    datatype: 7\n    count: 1\n  - \n    name: \"intensity\"\n    offset: 16\n    datatype: 7\n    count: 1\n  - \n    name: \"ring\"\n    offset: 20\n    datatype: 4\n    count: 1\nis_bigendian: False\npoint_step: 32\nrow_step: 2137952\ndata: [235, 171, 54, 190, 53, 107, 250, ...\n", "data", "Y"], "url": "https://stackoverflow.com/questions/57507876/what-are-the-contents-of-pointcloud2"}
,{"title": "ROS Time - time_duration is out of dual 32-bit range", "time": "2019-08-18 00:53:04Z", "post_content": ["I am developing an application that saves some data into other formats including ", " format. Therefore, I use ", " to save into this format if desired. ", "When I run this program, I get the following error: ", "Here is the piece of code related to the error: ", " "], "answer": [], "question_code": [".bag", "terminate called after throwing an instance of 'std::runtime_error'\n  what():  time_duration is out of dual 32-bit range\nAborted (core dumped)\n", "ros::Time::init();\nbag->write(\"point\", ros::Time::now(), arr);\n", "catch (...)", "ros::Time::now()", "bag->write()", "write", "write", "cerr", "ros::Time::now()"], "url": "https://stackoverflow.com/questions/57540882/ros-time-time-duration-is-out-of-dual-32-bit-range"}
,{"title": "Add CUDA to ROS Package", "time": "2014-09-09 15:07:58Z", "post_content": ["I would like to use cuda within a ros package. Has anyone a simple example for me?", "I tried to built a static library with the cuda function and add this library to my package, but I get always a linking error: Undefined reference cuda...", "I have built a  executable instead of the library and it works. ", "Please help!"], "answer": ["I found a solution myself:", "CMakeLists.txt:", "main.cpp:", "helloWorld.cu:", "If you are using catkin-simple to make your CMake file, you can use this CMakeLists.txt:", "I use this and find that it works just fine."], "answer_code": ["cmake_minimum_required(VERSION 2.8.3)\nPROJECT (beginner_tutorials)\nFIND_PACKAGE(CUDA REQUIRED)\n\nfind_package(catkin REQUIRED COMPONENTS\n  roscpp\n  rospy\n  std_msgs\n)\n\nSET(CUDA_NVCC_FLAGS \"-arch=sm_13\" CACHE STRING \"nvcc flags\" FORCE)\nSET (CUDA_VERBOSE_BUILD ON CACHE BOOL \"nvcc verbose\" FORCE)\nSET(LIB_TYPE STATIC) \nCUDA_ADD_LIBRARY(TestLib ${LIB_TYPE} src/helloWorld.cu)\n\ncatkin_package(\n)\ninclude_directories(\n  ${catkin_INCLUDE_DIRS}\n)\n\nADD_EXECUTABLE(beginner_tutorials_node src/main.cpp)\nADD_DEPENDENCIES(beginner_tutorials_node TestLib)\nTARGET_LINK_LIBRARIES(beginner_tutorials_node\n   ${catkin_LIBRARIES}\n   ${PCL_LIBRARIES}\n   TestLib\n)\n", "int testmain();\n\nint main()\n{\ntestmain();\nreturn 0;\n}\n", "#include <stdio.h>\n\n#include <cuda.h>\n#include <cuda_runtime.h>\n\nconst int N = 7;\nconst int blocksize = 7;\n\n__global__\nvoid hello(char *a, int *b)\n{\n  a[threadIdx.x] += b[threadIdx.x];\n}\n\nint testmain()\n{\n  char a[N] = \"Hello \";\n  int b[N] = {15, 10, 6, 0, -11, 1, 0};\n\n  char *ad;\n  int *bd;\n  const int csize = N*sizeof(char);\n  const int isize = N*sizeof(int);\n\n  printf(\"%s\", a);\n\n  cudaMalloc( (void**)&ad, csize );\n  cudaMalloc( (void**)&bd, isize );\n  cudaMemcpy( ad, a, csize, cudaMemcpyHostToDevice );\n  cudaMemcpy( bd, b, isize, cudaMemcpyHostToDevice );\n\n  dim3 dimBlock( blocksize, 1 );\n  dim3 dimGrid( 1, 1 );\n  hello<<<dimGrid, dimBlock>>>(ad, bd);\n  cudaMemcpy( a, ad, csize, cudaMemcpyDeviceToHost );\n  cudaFree( ad );\n\n  printf(\"%s\\n\", a);\n  return EXIT_SUCCESS;\n}\n", "cmake_minimum_required(VERSION 2.8.3)\nproject(cuda_test)\nset(CMAKE_CUDA_COMPILER  /usr/local/cuda-9.1/bin/nvcc)\n\nfind_package(catkin_simple REQUIRED)\nfind_package(CUDA REQUIRED)\n\ncatkin_simple()\n\n#Here you can set any ncvv compiler flags, if you so wish\n#SET(CUDA_NVCC_FLAGS \"${CUDA_NVCC_FLAGS} -DMY_DEF=1\")\n\n#Here you can set any gcc/cmake compiler flags, if you so wish\nSET(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -std=c++11 -O3\")\n\n#Add all of your sources here\ncuda_add_executable(\n  cuda_test_cu\n  src/hello.cu\n)\n\n#Link the executable to the necessary libs\ntarget_link_libraries(\n   cuda_test_cu\n   ${catkin_LIBRARIES}\n   ${CUDA_LIBRARIES}\n)\n\n# CMake Indexing\nFILE(GLOB_RECURSE LibFiles \"include/*\")\nadd_custom_target(headers SOURCES ${LibFiles})\n\ncs_install()\n"], "url": "https://stackoverflow.com/questions/25748039/add-cuda-to-ros-package"}
,{"title": "Error blending two images in OpenCV", "time": "2014-08-01 06:29:18Z", "post_content": ["I want to blend two images the rgb and the depth to look for the shift between.\nThis is my program, I make it very easy to understand just using the basic of ros programming", "And this is the error that I get (sub_node is my executable):", "the error comes from the pointer cv_ptr_rgb  that I use in imageCallbackdepth because even when I try to ", "before doing any blending I get the same error.", "How to solve this ?"], "answer": [], "question_code": ["    #include <ros/ros.h>\n    #include <image_transport/image_transport.h>\n    #include <opencv/cv.h>\n    #include <opencv/highgui.h>\n    #include <cv_bridge/cv_bridge.h>\n    #include <sensor_msgs/image_encodings.h>\n\n    using namespace cv;\n\n    cv_bridge::CvImagePtr cv_ptr_rgb;\n\n    void imageCallbackrgb(const sensor_msgs::ImageConstPtr& msg)\n    {\n\n        //cv_bridge::CvImagePtr cv_ptr_rgb;\n\n        try\n        {\n            cv_ptr_rgb = cv_bridge::toCvCopy(msg, sensor_msgs::image_encodings::MONO8);\n        }\n\n        catch (cv_bridge::Exception& e)\n        {\n            ROS_ERROR(\"cv_bridge exception: %s\", e.what());\n            return;\n        }\n\n\n        //cv::imshow(\"OpenCV viewer Kinect RGB\", cv_ptr_rgb->image);\n\n        cvWaitKey(3);\n\n    }\n\n\n    void imageCallbackdepth(const sensor_msgs::ImageConstPtr& msg)\n    {   \n        // convert message from ROS to openCV\n        cv_bridge::CvImagePtr cv_ptr_depth;\n\n        try\n        {\n            cv_ptr_depth = cv_bridge::toCvCopy(msg, sensor_msgs::image_encodings::TYPE_16UC1);\n\n        }\n\n        catch (cv_bridge::Exception& e)\n        {\n            ROS_ERROR(\"cv_bridge exception: %s\", e.what());\n            return;\n        }\n\n\n        //conversion 16UC to 8UC\n/*\nConversion Sutffs\n*/\n    /*\n    //*******************************blending two images*************************************\n        double alpha = 0.5; double beta; \n        beta = ( 1.0 - alpha );\n        Mat dst;\n        addWeighted( cv_ptr_rgb->image, alpha, image_8CU, 0.5, 0.5, dst);\n        cv::imshow( \"Linear Blend\", dst );\n    //**************************************************************************************\n    */\n\n        cv::imshow(\"OpenCV viewer Kinect RGB\", cv_ptr_rgb->image);\n        //cv::imshow(\"OpenCV viewer Kinect depth\", image8U);\n        cvWaitKey(3);\n\n    }\n\n    int main(int argc, char **argv)\n\n    {\n        ros::init(argc, argv, \"listenerKinectuEye\");\n        ros::NodeHandle nh;\n\n        image_transport::ImageTransport it(nh);\n\n        image_transport::Subscriber subkirgb = it.subscribe(\"/camera/rgb/image_color\", 1, imageCallbackrgb);\n        image_transport::Subscriber subkidepth = it.subscribe(\"/camera/depth_registered/image_raw\", 1, imageCallbackdepth);\n\n        ROS_INFO(\"subscribed to Kinect and uEye topics\");\n\n        ros::spin();\n    }\n", "sub_node: /usr/include/boost/smart_ptr/shared_ptr.hpp:418: \nT* boost::shared_ptr<T>::operator->() const [with T = cv_bridge::CvImage]: Assertion `px != 0' failed.\nAborted (core dumped)\n", "cv::imshow(\"OpenCV viewer Kinect RGB\", cv_ptr_rgb->image);\n"], "url": "https://stackoverflow.com/questions/25068285/error-blending-two-images-in-opencv"}
,{"title": "Instructions after return statement in a C++ function", "time": "2014-12-16 16:31:57Z", "post_content": ["I've seen this C++ function in a ROS kobuki node (", "). I wonder if the while is dead code ? Or if it can be called for a misterious reason sometimes ?", "Thanks for your helps,"], "answer": ["In C++, nothing after ", " is executed.", "But, you should always respect the code you see in front of you:", "If the preprocessor ", "s ", " to something else for a particularly odd build configuration then the code ", " run.", "Someone might be porting the code blindly to Java. In Java, code within a ", " block ", " run after a ", ".", "It's possible the developer retained the line to test the syntactic validity of ", "All unlikely scenarios (I have seen the first one in production by the way) but worth checking if you're going to undertake a large refactoring effort.", "Everything after a ", " statement is never going to be executed.", "It is equivalent to this:", "Effectively, the programmer wanted to leave some code there, perhaps as a reminder.  It is never executed.", "No one can call code after the return... Well maybe only Chuck Norris can...", "Nothing can be executed after the ", " statement until its within a condition. Put the code above the ", " statement."], "question_code": ["void AutoDockingROS::spin()\n{\n    return;\n\n    while(!shutdown_requested_){;}\n}\n", "return;", "spin"], "answer_code": ["return", "#define", "return", "finally", "return", "!shutdown_requested_", "return", "void AutoDockingROS::spin()\n{\n    return;\n\n    // while(!shutdown_requested_){;}\n}\n", "return", "return"], "url": "https://stackoverflow.com/questions/27509404/instructions-after-return-statement-in-a-c-function"}
,{"title": "using rosserial_arduino on Gumstix overo", "time": "2014-12-05 08:57:56Z", "post_content": ["I am new to Gumstix and ROS.\nAnd I would like to connect the Gumstix to Arduino (ATMega2560) using rosserial.\nI have two paths between Gumstix and Arduino.\nOne(/dev/ttyO0 in Gumstix) is a connection in circuit board and the other(/dev/ttyACM3 in Gumstix) is a connection using a USB A to B cable.", "As a test, I tried to run this example: ", "In the case of /dev/ttyACM3, I can ran following command successfully:", "but in the circuit link of /dev/ttyO0, I cannot:", "What is ttyO device? Is it different ttyUSB or ttyACM?\nWhy I cannot run rosserial_python on the port of /dev/ttyO0?", "I also checked that the port of /dev/ttyO0 is working well using echo test between Gumstix and Arduino.", "Regards,", "Kim", "This is a configuration of both serial ports after running rosserial_python.\nThey are same."], "answer": ["In addition to the correct versions, you need to have ", " at the top of the code, ", " declared as a global, ", " and ", " within ", ", and ", " within ", ".", "Self answer.", "My /dev/ttyO0 port is connected to the Serial1 port on Arduino.\nSo I have to change Serial to Serial1 on ros_lib/ArduinoHardware.h."], "question_code": ["root@overo:~$ rosrun rosserial_python serial_node.py _port:=/dev/ttyACM3\n[INFO] [WallTime: 946697855.203704] ROS Serial Python Node\n[INFO] [WallTime: 946697855.330657] Connecting to /dev/ttyACM3 at 57600 baud\n[INFO] [WallTime: 946697864.251922] Note: publish buffer size is 512 bytes\n[INFO] [WallTime: 946697864.260375] Setup publisher on chatter [std_msgs/String] \n", "root@overo:~$ rosrun rosserial_python serial_node.py _port:=/dev/ttyO0 \n[INFO] [WallTime: 946697911.536193] ROS Serial Python Node\n[INFO] [WallTime: 946697911.662841] Connecting to /dev/ttyO0 at 57600 baud\n[ERROR] [WallTime: 946697928.814331] Unable to sync with device; possible link problem or link software version mismatch such as hydro rosserial_python with groovy Arduino\n", "root@overo:~$ stty -F /dev/ttyACM3\nspeed 57600 baud; line = 0;\nmin = 0; time = 0;\n-brkint -icrnl -imaxbel\n-opost\n-isig -icanon -iexten -echo -echoe -echok -echoctl -echoke\nroot@overo:~$ stty -F /dev/ttyO0\nspeed 57600 baud; line = 0;\nmin = 0; time = 0;\n-brkint -icrnl -imaxbel\n-opost\n-isig -icanon -iexten -echo -echoe -echok -echoctl -echoke\n"], "answer_code": ["#include <ros.h>", "ros::NodeHandle nh;", "nh.initNode();", "Serial.begin(115200);", "void setup()", "nh.spinOnce();", "void loop()", "class ArduinoHardware {\n  public:\n    ArduinoHardware(SERIAL_CLASS* io , long baud= 57600){\n      iostream = io;\n      baud_ = baud;\n    }\n    ArduinoHardware()\n    {\n#if defined(USBCON) and !(defined(USE_USBCON))\n      /* Leonardo support */\n      iostream = &Serial1;\n#else\n      iostream = &Serial1; // <=========== HERE\n#endif\n      baud_ = 57600;\n    }\n"], "url": "https://stackoverflow.com/questions/27312137/using-rosserial-arduino-on-gumstix-overo"}
,{"title": "Issue with zero and negative goal values", "time": "2016-01-06 23:16:11Z", "post_content": ["I\u2019m following the example of ", " with navigation stack. If I set the goal position with positive values the turtle moves as expected, but If it's set to zero or negative values the turtle rotates in the same place, and It returns the message:", "Does navigation only accepts positives values for the position MoveBaseGoal component?"], "answer": ["A reason might be that your map only has positive coordinates. So the robot obviously cant find a route as the goal is not on the map.", "Maybe have a look at your map using rviz.", "Turtlesim will always return positive values at the position because it has the (0,0) located at the bottom left corner, and by moving up and to the right it increases the coordinates values.\nTo allow navigation stack to handle the Turtlesim in a negative position (and relatively easy to do tests) I suggest modify the file turtleOdometry.cpp", "It generates tf for odometry and some other stuff. What we have to do there is to change the callback function: poseCallback (..): msg-> msg- x> x by msg-> x - OFFSET_X and msg-> and -OFFSET_Y throughout the hole file. with OFSSET in positive calues, I put 5 to the offset and the turtle in the rviz appears almost in the world frame 1.1\nWith you will be able to test the navigation stack.", "Then it is important to set the size and origin of global_costmap!\nYou need to modify the File: move_base.launch", "The default values \u200b\u200bthat are 10, 10, 0, 0 in that order.\nFor more info, read ", "\nRegards,"], "question_code": [" \u201c[ERROR] [1433622909.572352221]: Aborting because a valid plan could not be found. \nEven after executing all recovery behaviors.\u201d\n"], "answer_code": ["<rosparam file = \"$ (find <blah>) / global_costmap_params.yaml\" command = \"load\" />\n\n<Param name = \"global_costmap / width\" value = \"20.0\" />\n<Param name = \"global_costmap / height\" value = \"20.0\" />\n<Param name = \"global_costmap / origin_x\" value = \"- 10.0\" />\n<Param name = \"global_costmap / origin_y\" value = \"- 10.0\" />\n"], "url": "https://stackoverflow.com/questions/30687558/issue-with-zero-and-negative-goal-values"}
,{"title": "Publishing Prerecorded Lidar-PCAP file and IMU-Measurments as ros-bag", "time": "2019-10-18 08:03:54Z", "post_content": ["I have a prerecorded lidar point-clouds as pcap-file and also IMU and GPS records. All sensors were synchronized over gps-time. I would like to publish them as ROS-messages in real-time, which means I should read each point-cloud frame and imu-measurement at their own sample rates (IMU=125HZ, Lidar=10HZ) and publish them as ros-messages.", "I would like to know if it is possible, and what is the best way to achieve this?", "Thanks"], "answer": [], "question_code": ["std_msgs/Header", "rosbag play"], "url": "https://stackoverflow.com/questions/58426530/publishing-prerecorded-lidar-pcap-file-and-imu-measurments-as-ros-bag"}
,{"title": "How to get parameter from ros launch file and use it in Qt?", "time": "2014-07-16 02:32:05Z", "post_content": ["Im using ROS Fuerte and qt_ros so can integrate ROS in Qt GUI. I would like to use ", "some parameters from the ROS launch file in my Qt GUI. in the main.cpp file of the GUI Im \nusing the ROS launch file to start the prcess like this:", "So in my pow.launch ", "when Im using the node pkg=\"analyzer\" type=\"wst_forward10m\"  name=\"wst_forward10m\" I would like to have a tab in QT saying  that Im using that node and when  using node pkg=\"analyzer\" type=\"wst_turn\"  name=\"wst_turn\" would like to have that displayed in QT.", "Any help?"], "answer": ["A way to do that is by adding two parameters to your QT application, say ", " specifying the node type and ", " takes the node name.\nThen you start the ros node via", "and the node within the launch file looks as follows", "finally you use the parameter values of argv[1] and argv[2] in your QT application to create the according tabs.", "As you may have seen in qt_ros, there's a threaded ROS node working in the background. so, it will be cleaner to use that node to store parameters in a parameter server as done in this ", " and all the launched nodes afterwards require their parameters from this server. (It's been a long time since i have done this and i couldn't find the source codes :\\ )"], "question_code": ["int main(int argc, char **argv) {\n    //Roslaunch\n    QProcess process;\n    process.start(\"roslaunch\", QStringList() << \"/home/launch/pow.launch\");\n    //GUI\n    QApplication app(argc, argv);\n    pow_gui::MainWindow w(argc,argv);\n       w.show();\n    app.connect(&app, SIGNAL(lastWindowClosed()), &app, SLOT(quit()));\n    int result = app.exec();\n    std::cout << \"q application finished\" << std::endl;\n    return result;\n}\n", "<launch>\n    <param name=\"/use_sim_time\" value=\"true\"/>\n    <node name=\"hector_mapping\" pkg=\"hector_mapping\" type=\"hector_mapping\" output=\"screen\">\n <param name=\"pub_map_odom_transform\" value=\"false\"/>\n    <remap from=\"scan\" to=\"scan_2\"/>\n <param name=\"map_frame\" value=\"map\"/>\n\n </node>\n\n    <node name=\"foo_throttler\" type=\"throttle\" pkg=\"topic_tools\" args=\"messages /scan 10/scan_throttle\" /> \n    <node name=\"foo_throttler1\" type=\"throttle\" pkg=\"topic_tools\" args=\"messages /raw_imu 10/raw_imu_throttle\" /> \n\n    <node name=\"rosplay\" pkg=\"rosbag\" type=\"play\" args=\"/home/10m_forward5.bag --clock\"/>\n    <node pkg=\"tf\" type=\"static_transform_publisher\" name=\"corner_duhhu\" args=\"-0.17 -0.2 0 0 0 0 base_link laser 20\"/> \n\n    <node pkg=\"tf\" type=\"static_transform_publisher\" name=\"raw_tf\" args=\"0 0 0 0 0 0 /map /raw_frame 10\"/> \n\n    <!--node pkg=\"analyzer\" type=\"parking\"  name=\"parking\" output=\"screen\"/>  -->\n    <node pkg=\"analyzer\" type=\"wst_forward10m\"  name=\"wst_forward10m\" output=\"screen\"/> \n    <!--node pkg=\"analyzer\" type=\"wst_turn\"  name=\"wst_turn\" output=\"screen\"/>  -->\n\n</launch>\n"], "answer_code": ["argv[1]", "argv[2]", "std::string node_type(\"node_type:=\");\nstd::string node_name(\"node_name:=\");\nnode_type += argv[1];\nnode_name += argv[2];\nprocess.start(\"roslaunch\", QStringList() << \"/home/launch/pow.launch\" \n                                         << node_type \n                                         << node_name);\n", "...\n<arg name=\"node_type\" default=\"wst_forward10m\" />\n<arg name=\"node_name\" default=\"wst_forward10m\" /> \n<node pkg=\"analyzer\" type=\"$(arg node_type)\" name=\"$(arg node_type)\" output=\"screen\"/> \n...\n"], "url": "https://stackoverflow.com/questions/24771293/how-to-get-parameter-from-ros-launch-file-and-use-it-in-qt"}
,{"title": "What is the solution for this error? bash: syntax error near unexpected token `newline'", "time": "2015-04-15 21:54:42Z", "post_content": ["When I run this to update description tag:", "The error shows:", "I am beginner on linux."], "answer": ["You will need to open ", " up in a text editor and then make that change. You can't just type:", "And expect the computer has any idea what you want to do.", "On the command line you can use ", ", ", ", ", ", or whatever text editor is available in your system to open the file up and make the changes. ", "If ", " is available probably best to use that if your a new to the whole command line thing. It works like you would expect it to. You can use:", "To open the file, the commands to work the file editor in ", " are listed at the bottom of the screen.", "Lastly that ", " is just part of that websites line numbering for the code. Chances are your ", " tag is on line 5 of the ", " file. Don't put ", " in the file itself otherwise your xml will be corrupted and nothing that uses that file will work."], "question_code": ["5  <description>The beginner_tutorials package</description>\n", "bash: syntax error near unexpected token `newline'\n"], "answer_code": ["package.xml", "5   <description>The beginner_tutorials package</description>\n", "vi", "vim", "nano", "nano", "nano package.xml \n", "nano", "5", "<description>", "package.xml", "5"], "url": "https://stackoverflow.com/questions/29654717/what-is-the-solution-for-this-error-bash-syntax-error-near-unexpected-token-n"}
,{"title": "Error: No match for call to 'boost::\u2026'", "time": "2019-08-22 13:56:21Z", "post_content": ["I am trying to modify another code. Just wanted to add another subscriber to it. This is the skeleton of the code:", "And here is the header file:", "Now I want to add another subscriber to it. Do not need to bind it with previous subscriber. I am doing it by adding this line after previous subscribers. ", "And added a callback function after ", ":", "And this to header file under ", ":", "This is the error that i am getting :", "I understand this has something to do with ", " usage in previous subscribers. But I don't want to change them. Just need to add another subscriber whose callback function will update a global variable that will in return be used by previous callback function."], "answer": ["So after loosing precious 6 hours. This is how it is solved. Subscriber was added like this:", "Callback function was written like this:", "Header file was added with this under "], "question_code": ["namespace my_server\n{\n    a_server::a_server(ros::NodeHandle n)\n    : nh()\n    {\n        ros::NodeHandle n(n_);\n        sub1 = new message_filters::Subscriber<sensor_msgs::PointCloud2> (nh(), \"/x\", 5);\n        sub2 = new tf::MessageFilter<sensor_msgs::PointCloud2> (*sub1, sub3, xyz, 5);\n        sub2->registerCallback(boost::bind(&a_server::callback, this, _1));\n    }\n    a_server::~a_server()\n    {\n    .....\n    }\n\n    void a_server::callback(const sensor_msgs::PointCloud2::ConstPtr& cl)\n    {\n    ....\n    }\n}\n", "namespace my_server\n{\n    class a_server\n    {\n        public:\n        a_server(ros::NodeHandle n_ = ros::NodeHandle(\"~\"));\n        virtual ~a_server();\n\n        virtual void callback(const sensor_msgs::PointCloud2::ConstPtr& cl);\n        protected:\n            ros::NodeHandle n;\n            message_filters::Subscriber<sensor_msgs::PointCloud2>* sub1;\n            tf::MessageFilter<sensor_msgs::PointCloud2>* sub2;\n            tf::TransformListener sub3;\n    }\n}\n", "ros::Subscriber  sub4 = m_nh.subscribe<geometry_msgs::Point>(\"/y\", 1, &a_server::callback2);\n", "void a_server::callback", "void a_server::callback2(geometry_msgs::Point &a)\n{\n    ....\n}\n", "protected", "void callback2(geometry_msgs::Point &a);\n", "Error: \nno match for call to \u2018(boost::_mfi::mf1<void, my_server::a_server, geometry_msgs::Point_<std::allocator<void> >&>) (const boost::shared_ptr<const geometry_msgs::Point_<std::allocator<void> > >&)\u2019\nBOOST_FUNCTION_RETURN(boost::mem_fn(*f)(BOOST_FUNCTION_ARGS));\n", "boost::bind"], "answer_code": ["ros::Subscriber sub4 = nh.subscribe<geometry_msgs::Point>(\"/y\", 1, boost::bind(&a_server::callback2, this, _1));\n", "void a_server::callback2(const geometry_msgs::Point::ConstPtr& a)\n{\n    ....\n}\n", "Public:", "void callback2(const geometry_msgs::Point::ConstPtr& a);\n"], "url": "https://stackoverflow.com/questions/57610570/error-no-match-for-call-to-boost"}
,{"title": "How to pass variable to method properly? (python)", "time": "2019-09-19 02:07:06Z", "post_content": ["I am trying to clean up my code but I am new to python so I'm pretty sure my syntax is wrong. I wrote a simple controller to have a variable ", " approach the value of a set point ", ". I am using ", " so the script is being looped by that. As it is, it works fine, the value of ", " approaches the value of the setPoint. Below is the code I made for that:", "I have to do this for ", " different variables, so my code start to get bloated; I have to make 6 methods in total to control all 6 variables. I want to make it so that I only make one ", " method, I pass the variable to be controlled and the variable to be the set point and it executes from there. I am thinking something like this:", "I am hoping that the result of this will be that rather than having one ", " ", " for each variable to be controlled, I will only have ", " approachSetPoint def, and all I have to do is call it in main with the proper variables and it'll do the thing.", "I tried this and I got no errors or anything, however, the values were NOT being updated(?). I'm assuming I'm just not properly linking the variable I'm passing as an argument to the one that is modified in the method. Any idea how to approach a behavior like I describes? Thanks in advance!"], "answer": ["You need to store the results outside the function between runs:"], "question_code": ["message_lx_setPoint", "message_lx_setPoint", "message_lx_current", "#defs\nincrement = 0.1\n\n#setPoint values\nmessage_lx_setPoint = 5.0 #value set by some controller(?)\nmessage_ly_setPoint = 5.0\n\n#current values\nmessage_lx_current = 0.0 #value set by some sensor(?)\nmessage_ly_current = 0.0\n\ndef approach_lx_setPoint():\n    global message_lx_current, message_lx_setPoint, increment\n\n    if message_lx_current < message_lx_setPoint:\n        print(\"current is less than set point\")\n        message_lx_current += increment\n\n    elif message_lx_current == message_lx_setPoint:\n        print(\"current is equal to set point\")\n        message_lx_current = 0.0\n\n    elif message_lx_current > message_lx_setPoint:\n        print(\"current is greater than set point\")\n        message_lx_current -= increment\n\n    return message_lx_current\n\ndef approach_ly_setPoint():\n    global message_ly_current, message_ly_setPoint, increment\n\n    if message_ly_current < message_ly_setPoint:\n        print(\"current is less than set point\")\n        message_ly_current += increment\n\n    elif message_ly_current == message_ly_setPoint:\n        print(\"current is equal to set point\")\n        message_ly_current = 0.0\n\n    elif message_ly_current > message_ly_setPoint:\n        print(\"current is greater than set point\")\n        message_ly_current -= increment\n\n    return message_ly_current\n\ndef main():\n    approach_lx_setPoint()\n    approach_ly_setPoint()\n    print(message_lx_current)\n    print(message_ly_current)\n\n", "#same variables as before\n\ndef approachSetPoint(current, target):\n    global increment\n\n    if current < target:\n        print(\"current is less than set point\")\n        current += increment\n\n    elif current == target:\n        print(\"current is equal to set point\")\n        current = 0.0\n\n    elif current > target:\n        print(\"current is greater than set point\")\n        current -= increment\n\n    return current\n\ndef main():\n    approachSetPoint(message_lx_current, message_lx_setPoint)\n    approachSetPoint(message_ly_current, message_ly_setPoint)\n    print(message_lx_current)\n    print(message_ly_current)\n", "approachSetPoint"], "answer_code": ["message_lx_current = y_current = 0.0\nmessage_lx_setpoint = message_ly_setpoint = 5.0\n\ndef approach_setpoint(current, setpoint, increment=0.1):\n    if current < setpoint:\n        print(\"current is less than set point\")\n        current += increment\n    elif current == setpoint:\n        print(\"current is equal to set point\")\n        current = 0.0\n    elif current > setpoint:\n        print(\"current is greater than set point\")\n        current -= increment\n    return current\n\ndef main():\n    message_lx_current = approach_setpoint(message_lx_current, message_lx_setpoint)\n    message_ly_current = approach_setpoint(message_ly_current, message_ly_setpoint)\n    print(message_lx_current)\n    print(message_ly_current)\n", "global <vars>", "main()"], "url": "https://stackoverflow.com/questions/58002694/how-to-pass-variable-to-method-properly-python"}
,{"title": "How to use an launch file in xml document to get the parameters to be used in a cpp file", "time": "2015-04-07 13:56:41Z", "post_content": ["There are parameters needed to be set in a .cpp file in ROS. These parameters are to be obtained from the launch file.How to set those parameters from launch file in a .cpp file using ros"], "answer": ["First of all I reccommend you to follow ", " and read the ", " and ", " documentation. Everything should become very easy.", "A simple ", " example is as following:", "Where you should set your own package name and the other variables. You could find the meanings of all these parameters in the following links: ", " and ", ".", "Than you have to retrieve those parameters from your ", " (have a look ", "):", "Where the ", " should be something like this (4 elements in the example):", "For more details: ", ". You can also find the ", " documentation ", "."], "answer_code": ["<launch>\n  <rosparam command=\"load\" file=\"$(find pkg_name)/path/file_name.yaml\" />\n  <node pkg=\"pkg_name\" type=\"node_type\" name=\"node_name\" />\n</launch>\n", "/* this handle let you access all the parameters of the node (and other stuffs) */\nros::NodeHandle node_handle = new ros::NodeHandle(\"~\");\n\n/* for example if I need to retrieve a list of double written in the YAML file,\n   I could call the getParam() method to store it into my_double_list std::vector */\nstd::vector<double> my_double_list;\nnode_handle.getParam(\"name_of_the_list_in_YAML_file\", my_double_list);\n\n/* print data retrieved */\nstd::copy(my_double_list.begin(), my_double_list.end(), std::ostream_iterator<double>(std::cout, \" \"));\n", "name_of_the_list_in_YAML_file: [123.11, 0.1, 2013.441, 1.23015e+3]\n", "ros::NodeHandle"], "url": "https://stackoverflow.com/questions/29493361/how-to-use-an-launch-file-in-xml-document-to-get-the-parameters-to-be-used-in-a"}
,{"title": "What API should I use to control an ARDrone 2.0?", "time": "2019-11-26 12:42:54Z", "post_content": ["I am working on a project about autonomous flight, and I am using an ARDrone 2.0. I wonder which API is better to send command to the drone. I have seen that I am able to use NodeJS or the ROS platform, but I would like that someone with experience can help me to make a wise decision.", "The most important thing for me is stability about reading data from sensors and receiving data from a laptop. I do not have trouble if I have to learn a programming language or a library."], "answer": ["Given the short timeframe for your project, I would recommend ", ", using Javascript to control the drone:", "I do not know NodeJS, but I am using ", " for some years now, so I can give you some information about it.", "ROS is modularized and has a nice publisher/subscriber system to exchange messages between the individual modules (called ", " in ROS jargon) using callback functions.", "Typically you have a separate node for each task and for each sensor.\nA \"task node\" that needs some data, subscribes to a specific ", " and registers a callback function.\nA \"sensor node\" fetches data from the sensor, wraps the data in a ", " and publishes this message to a topic. \nThe callback functions of all nodes, that have subscribed to this topic are automatically called, every time a new message is published.\nThis way it is easy to exchange data between individual nodes and you can easily exchange parts of your program, e.g. if you want to use an other sensor or if the task changed.", "It is further very easy to subscribe to nodes that are running on a different machine in the network, so you can send data from your laptop to the drone without additional effort (given they are connected to the same network).", "ROS supports both C++ and Python. There are also bindings for Java, JavaScript and LISP, but I do not know how complete and stable they are (never used on of them).", "In addition to the core framework, ROS ships with many useful modules and a nice visualization tool and has a comprehensive ", "."], "url": "https://stackoverflow.com/questions/29493795/what-api-should-i-use-to-control-an-ardrone-2-0"}
,{"title": "Confirming an Image is Published to ROS", "time": "2015-09-23 08:25:02Z", "post_content": ["I've been trying to get an image to post to ROS (using Python/rospy), and while I think I have the method right, I'm having a hard time confirming it. Using", "doesn't seem to show anything. I've also tried rqtbag, but I don't really know how that thing works, other than it doesn't show things published, anyways.", "A few notes before pasting my current code:", "Without further ado, my current code for publishing:", "I'm using a basic listening function to try and see what is going on (this is within a different script I execute in a separate terminal):", "The callback just prints out that the image was received."], "answer": ["To check if a message is really published, you can use the ", " command.\nRun the following in a terminal to print everything that is published on the specified topic.  This is the easiest way to check if there is something published.", "See the ", " for more useful things ", " can do.", "While you are doing it basically right, your images will not be received by any subscriber for a not so obvious but fatal problem in your code: You are using the publisher (", ") immediately after initializing it. Subscribers need some time to register to the new publisher and will not be ready before you publish the image (see also ", ")."], "question_code": ["rosrun image_view image_view image:=(topic)\n", "on_message", "rospy.init_node('BringInAnImage', log_level = rospy.INFO)\n\ndef convert(messagepayload):\n    t = open('newpic.bmp','w')\n    t.write(messagepayload)\n    t.close()\n\ndef on_message(client, userdata, msg):\n    img = base64.b64decode(msg.payload)\n\n    convert(img)\n    time.sleep(5) \n    source = cv2.imread('newpic.bmp')  #this should be a mat file\n\n    # talk to ROS\n    bridge = CvBridge()\n    pub2 = rospy.Publisher('/BringInAnImage', Image, queue_size = 10)\n    pub2.publish(bridge.cv2_to_imgmsg(source, \"bgr8\"))\n    print \"uh..... done??\"\n", "def listener():\n    rospy.init_node('listener', anonymous=True)\n    rospy.Subscriber(\"/BringInAnImage\", Image, callback)\n    rospy.spin()\n\nif __name__ == '__main__':\n    listener()\n"], "answer_code": ["rostopic", "rostopic echo <topic_name>\n", "rostopic", "pub2"], "url": "https://stackoverflow.com/questions/32723743/confirming-an-image-is-published-to-ros"}
,{"title": "Using a ROS custom message type across machines/hosts", "time": "2019-09-17 08:34:35Z", "post_content": ["I am unable to use a custom ROS message type on machine B that I have created on machine A.", "When I do these things locally, means all on machine A, everything works as expected: I am publishing a test message using my custom message type and with ", " I can even successfully subscribe to it with getting all the messages that are sent displayed correctly.", "So, what am I missing in order to use my custom message from machine A also on machine B?", "Please, I really need help on that!"], "answer": ["The solution is to simply have the custom message definition on all machines where you'd want to use it.", "This might be most comfortable if the custom message is realized as a separate ROS package, because then it's easier to distribute it among different machines."], "question_code": ["rostopic pub /test_topic my_custom_msg test_value", "rostopic list", "runmsg list", "rostopic echo"], "url": "https://stackoverflow.com/questions/57970393/using-a-ros-custom-message-type-across-machines-hosts"}
,{"title": "Unexpected response code: 426 with PhanthomJS Websocket client/ROSLIB", "time": "2017-05-23 12:22:29Z", "post_content": ["I'm trying to use PhanthomJS (1.9.7) to setup batch test script to drive our robotics software over our Websocket server (RosBridge which is implemented on top of Tornado).", "We use ROSLIBJS which is a JS library that uses the standard HTML5 WebSocket API to interact with the server. I would have preferred to use NodeJS instead of PhantomJS, but there are dependencies in the ROSLIBJS that requires browser DOM structures to be available. Someone ported ROSLIBJS for NodeJS. I got it running, but there were critical bugs that prevented it from being usable. Hence, I need PhantomJS.", "According to this link, there is some incompatibility with the Websocket protocol.\n", "Is that a known issue. If so, when would PhantomJS be fixed for this to work? Can I patch PhantomJS myself easily?"], "answer": ["Http 426 may mean that you are trying to connect with an unsupported websocket protocol version. Check if the response has the http header \"sec-websocket-version\" with a list of supported versions.", "Which version is your client using?", "Also, if you are connecting through a proxy, the proxy may remove the \"upgrade\" header from the request since it is marked as \"connection\" header. Switch to WSS:// to prevent that.", "Funny enough, I was looking at writing integration tests for roslibjs and ran across this question. I'll try phantomjs-2.0 (", ") and real chrome via chromedriver. I'll most like PR the results against roslibjs.", "An alternative option would be to write another bridge that uses socket.io for client communication to achieve maximum portability. ", "See this PR: ", " . It uses chrome to run tests. Alternatively you can allow rosbridge to accept draft76 websockets by changing ", " to return True;"], "url": "https://stackoverflow.com/questions/23123932/unexpected-response-code-426-with-phanthomjs-websocket-client-roslib"}
,{"title": "ROS with SVO: Camera model not correctly specified", "time": "2014-07-26 10:55:50Z", "post_content": ["I'm trying to get ", " - a project implementing semi-direct visual odometry - running. I can run the sample codes on a dataset, but not on a camera live stream.", "I am using Indigo with the latest pull from the ", ". I hope the error is not because I am using Indigo and not a more stable version of ROS.", "Here is my terminal dump:", "This is my launchfile for usb_cam:", "And the launch file of svo_ros:", "Any idea?"], "answer": ["Thanks for your help! It wasn't the solution, but it gave me the right direction.", "Indeed, there was something wrong with my .yaml calibration files. The thing is that the SVO library requires the calibration file in another format. To generate the calibration file, I used the cameracalibrator of the image_pipeline. Unfortunately, the library requires a calibration file in ATAN format. A tool to calibrate a monocular camera using this ATAN camera model, can be found here:", "I hope, I can help other people who encounter the same problem!"], "question_code": ["SUMMARY\n========\n\nCLEAR PARAMETERS\n * /svo/\n\nPARAMETERS\n * /rosdistro: indigo\n * /rosversion: 1.11.7\n * /svo/cam_topic: /usb_cam/image_raw\n * /svo/camera_matrix/cols: 3\n * /svo/camera_matrix/data: [423.946127, 0, 3...\n * /svo/camera_matrix/rows: 3\n * /svo/camera_name: narrow_stereo\n * /svo/distortion_coefficients/cols: 5\n * /svo/distortion_coefficients/data: [-0.395356, 0.132...\n * /svo/distortion_coefficients/rows: 1\n * /svo/distortion_model: plumb_bob\n * /svo/grid_size: 30\n * /svo/image_height: 480\n * /svo/image_width: 640\n * /svo/loba_num_iter: 0\n * /svo/max_n_kfs: 10\n * /svo/projection_matrix/cols: 4\n * /svo/projection_matrix/data: [312.081909, 0, 2...\n * /svo/projection_matrix/rows: 3\n * /svo/rectification_matrix/cols: 3\n * /svo/rectification_matrix/data: [1, 0, 0, 0, 1, 0...\n * /svo/rectification_matrix/rows: 3\n\nNODES\n  /\n    svo (svo_ros/vo)\n\ncore service [/rosout] found\nprocess[svo-1]: started with pid [14234]\ncreate vo_node\n[ WARN] [1406362716.365539658]: Cannot find value for parameter: svo/publish_img_pyr_level, assigning default: 0\n[ WARN] [1406362716.367242172]: Cannot find value for parameter: svo/publish_every_nth_img, assigning default: 1\n[ WARN] [1406362716.368814410]: Cannot find value for parameter: svo/publish_every_nth_dense_input, assigning default: 1\n[ WARN] [1406362716.372849123]: Cannot find value for parameter: svo/publish_world_in_cam_frame, assigning default: 1\n[ WARN] [1406362716.374322519]: Cannot find value for parameter: svo/publish_map_every_frame, assigning default: 0\n[ WARN] [1406362716.375674323]: Cannot find value for parameter: svo/publish_point_display_time, assigning default: 0\n[ WARN] [1406362716.685035733]: Cannot find value for parameter: svo/publish_markers, assigning default: 1\n[ WARN] [1406362716.685835016]: Cannot find value for parameter: svo/publish_dense_input, assigning default: 0\n[ WARN] [1406362716.686585599]: Cannot find value for parameter: svo/accept_console_user_input, assigning default: 1\n[ERROR] [1406362716.687362055]: Cannot find value for parameter: svo/cam_model\nterminate called after throwing an instance of 'std::runtime_error'\n  what():  Camera model not correctly specified.\n[svo-1] process has died [pid 14234, exit code -6, cmd /home/long/Workspaces/catkin/devel/lib/svo_ros/vo __name:=svo __log:=/home/long/.ros/log/5b375c1a-149d-11e4-8bc0-24f5aa6f5f4f/svo-1.log].\nlog file: /home/long/.ros/log/5b375c1a-149d-11e4-8bc0-24f5aa6f5f4f/svo-1*.log\nall processes on machine have died, roslaunch will exit\nshutting down processing monitor...\n... shutting down processing monitor complete\ndone\n", "<launch>\n    <node name=\"usb_cam\" pkg=\"usb_cam\" type=\"usb_cam_node\" output=\"screen\" >\n        <param name=\"index\" value=\"0\"/>\n        <param name=\"vendor\" value=\"0x046d\"/>\n                <param name=\"product\" value=\"0x080c\"/>\n\n        <param name=\"image_width\" value=\"640\" />\n        <param name=\"image_height\" value=\"480\" />\n        <param name=\"pixel_format\" value=\"mjpeg\" />\n        <param name=\"camera_frame_id\" value=\"webcam\" />\n    </node>\n</launch>\n", "<launch>\n    <node pkg=\"svo_ros\" type=\"vo\" name=\"svo\" clear_params=\"true\" output=\"screen\">\n\n        <!-- Camera topic to subscribe to -->\n        <param name=\"cam_topic\" value=\"/usb_cam/image_raw\" type=\"str\" />\n\n        <!-- Camera calibration file -->\n        <rosparam file=\"$(find svo_ros)/param/cam.yaml\" />\n\n        <!-- Default parameter settings: choose between vo_fast and vo_accurate -->\n        <rosparam file=\"$(find svo_ros)/param/vo_fast.yaml\" />\n\n    </node>\n</launch>\n"], "url": "https://stackoverflow.com/questions/24970275/ros-with-svo-camera-model-not-correctly-specified"}
,{"title": "How to subsribe to a ROS topic for several seperate times?", "time": "2014-08-25 21:37:34Z", "post_content": ["I have a scanlist of 5 positions for the robot to go. And for each position, I hope to subscribe to a topic to get the sensor data and add a marker in the rviz. Here is my code:", "However when I run the code, the problem is the loop will always stay in the first iteration, so the robot will not go to the other positions in the scanlist. I guess it is the problem of rospy.spin(). Could anyone please tell me how to solve this problem...Thanks a lot! "], "answer": ["Using rospy.spin() means that python will not progress past that point, it gets caught (on purpose) in a loop by ROS.", "The easiest short term solution is to move your rospy.spin() out of your for loop,\nlike so:", "In the longer term, think of what you are trying to do. In most cases, using a mix of publishing and subscribing is the best idea. Look at the ROS Python tutorials, especially the publisher example, again."], "question_code": ["def addMarkerCallback(msg):\n    draw_functions = DrawFunctions('visualisation_marker')\n    if msg.data:\n        draw_functions.draw_rviz_sphere(0.02)\n    else:\n        print 'no data'\n\nrospy.init_node(\"sensor_marker\", anonymous = True)\n\nfor item in scanlist:    \n    moveit_cmd.go(item, wait=True)\n    sub1 = rospy.Subscriber('sensor/right', SensorData, addMarkerCallback)   \n    rospy.spin()\n    print 'go finished' \n", "rospy.spin()", "rospy.spinOnce()", "spin()"], "answer_code": ["for item in scanlist:    \n    moveit_cmd.go(item, wait=True)\n    sub1 = rospy.Subscriber('sensor/right', SensorData, addMarkerCallback)   \n\nprint 'go finished'\nrospy.spin() \n"], "url": "https://stackoverflow.com/questions/25494655/how-to-subsribe-to-a-ros-topic-for-several-seperate-times"}
,{"title": "ROS - check if a node is still alive", "time": "2013-09-24 13:03:28Z", "post_content": ["I'm implementing a control node for a device with four wheels. So far I have the following nodes:", "The communication between these two works and my only problem is what to do if either one shuts down in order to prevent uncontrolled movement of the vehicle. ", " call in the LISTENER so it detects when it's about to be killed. ", "However, if the TALKER is shut down the LISTENER keeps moving the vehicle according to the last message received from TALKER. First I tried to use ", " in TALKER as well in order to send a final \"stop\" message to LISTENER, but it seems that once the node is shutting down, no communication is possible.", "Therefore I'm looking for a way to check inside LISTENER if the node TALKER is still alive (or if new messages are still being received). ", "Anyone an idea on how to see if a node (in this case TALKER) is still alive? Or is there an easy method for detecting how long it has been since the last ROS message was received?"], "answer": ["Take a look at the ", " package. I believe it does exactly what you need.", "Found another interesting and already built-in way with including \"ros/network.h\":", "However, I didnt figure out how to use it from within another cpp file..."], "question_code": ["TALKER:\n--Publishes messages for movement of vehicle\n\nLISTENER:\n--Listens to messages for movement of vehicle and controls vehicle directly\n", "ros::isShuttingDown()", "ros::isShuttingDown()"], "answer_code": ["// master.h:\n....\n\n/**\n* \\brief Retreives the currently-known list of nodes from the master\n*/\nROSCPP_DECL bool getNodes(V_string& nodes);\n\n....\n", "ros::master::getNodes(std::vector<std::string>)", "system()", "system((\"rosnode kill \" + node_name_to_kill).c_str());", "system(\"killall -2 rosmaster\")", "required=\"true\"", "respawn=\"true\"", "<node>"], "url": "https://stackoverflow.com/questions/18982406/ros-check-if-a-node-is-still-alive"}
,{"title": "Can Kinect can be installed on VMware ubuntu 12.0.4?", "time": "2014-08-28 02:52:53Z", "post_content": ["My laptop is running with Windows8. I am using ubuntu 12.0.4 via VMWare on windows.", "\nWould Kinect get recognized/Installed via VMware ubuntu?", "Regards\nChidanand Kumar"], "answer": ["This is probably not the answer you are looking for. On my MacBook Pro, Asus XTION works on Windows/Parallels. Kinect does not."], "url": "https://stackoverflow.com/questions/25539888/can-kinect-can-be-installed-on-vmware-ubuntu-12-0-4"}
,{"title": "ROS catkin_make executable is not generated in devel", "time": "2014-12-01 09:11:23Z", "post_content": ["I created a ROS package and added to the CMakeLists.txt the relevant lines to create an executable.", "When I run ", " in the root of the workspace the executable is generated in ", "\ninstead of in", "The problem is now when I run ", " the executable name (exe_name) is not found. Any ideas why this might happen?"], "answer": ["The ", " macro is missing in your CMakeLists.txt. Add this after the find_package section:", "(You can remove the comments of course, I just copied the whole block so that the description is contained)"], "question_code": ["add_executable(exe_name src/file.cpp)\ntarget_link_libraries(exe_name $LIBRARIES)\n", "catkin_make", "WORKSPACE/build/PACKAGE_NAME/", "WORKSPACE/devel/lib/PACKAGE_NAME/\n", "rosrun PACKAGE_NAME exe_name", "cmake_minimum_required(VERSION 2.8.3)\nproject(flea3ros)\n\n\nfind_package(catkin REQUIRED COMPONENTS\n  roscpp\n  rospy\n  std_msgs\n  sensor_msgs\n  cv_bridge\n  image_transport\n)\nfind_package(OpenCV 2)\n\ninclude_directories(\n  ${catkin_INCLUDE_DIRS}\n  ${OpenCV_INCLUDE_DIRS}\n  /usr/include/flycapture\n)\nadd_executable(flea3syncros src/asyncRos.cpp)\nadd_executable(flea3ros src/GigEGrabEx.cpp)\nadd_executable(flea3config src/GigEConfig.cpp)\nadd_executable(saveImages src/save_images.cpp)\ntarget_link_libraries(flea3ros ${catkin_LIBRARIES} ${OpenCV_LIBS} flycapture)\ntarget_link_libraries(flea3syncros ${catkin_LIBRARIES} ${OpenCV_LIBS} flycapture)\ntarget_link_libraries(flea3config ${catkin_LIBRARIES} ${OpenCV_LIBS} flycapture)\ntarget_link_libraries(saveImages  ${catkin_LIBRARIES} ${OpenCV_LIBS})\n", "catkin_make"], "answer_code": ["catkin_package", "###################################\n## catkin specific configuration ##\n###################################\n## The catkin_package macro generates cmake config files for your package\n## Declare things to be passed to dependent projects\n## INCLUDE_DIRS: uncomment this if you package contains header files\n## LIBRARIES: libraries you create in this project that dependent projects also need\n## CATKIN_DEPENDS: catkin_packages dependent projects also need\n## DEPENDS: system dependencies of this project that dependent projects also need\ncatkin_package(\n#  INCLUDE_DIRS include\n#  LIBRARIES compute_cdist\n#  CATKIN_DEPENDS roscpp visualization_msgs robot_model_helper compute_cdist\n#  DEPENDS assimp Eigen mlpack\n)\n"], "url": "https://stackoverflow.com/questions/27146091/ros-catkin-make-executable-is-not-generated-in-devel"}
,{"title": "making a laser detector have an error in my code", "time": "2019-08-08 14:24:26Z", "post_content": ["I am making a program that detects lasers and circles and numbers then with the opencv library. This is my first time using ros indigo and I don't really know what I am doing but I am getting an error that is repeating at a rapid rate when I run my program. this is the error I am getting:", "[ERROR] [WallTime: 1565273888.861720] bad callback: \nTraceback (most recent call last):\n  File \"/opt/ros/indigo/lib/python2.7/dist-packages/rospy/topics.py\", line 720, in _invoke_callback\n    cb(msg)\n  File \"lazer3.py\", line 89, in callback\n    cv_image2 = self.convert_image(cv_image)\nNameError: global name 'self' is not defined", "the error is in the line that says ", " and it is because I use the self if I delete self I get a different error: ", "[ERROR] [WallTime: 1565274017.459066] bad callback: \nTraceback (most recent call last):\n  File \"/opt/ros/indigo/lib/python2.7/dist-packages/rospy/topics.py\", line 720, in _invoke_callback\n    cb(msg)\n  File \"lazer3.py\", line 89, in callback\n    cv_image2 = convert_image(cv_image)\n  File \"lazer3.py\", line 29, in convert_image\n    labels = measure.label(thresh, neighbors=8, background=0)\nAttributeError: 'module' object has no attribute 'label'", "here is my code:", "also I want to make it clear that just because the code is the similar this is not a repeat of my last question because I was getting a different error and I was asking about a completely separate issue"], "answer": ["It is correct to ", " have the ", " in there, as ", " is a regular function. \nThe real error is that ", " has no ", " attribute/function. Except, (depending on the version), ", " exists as you say. ", "Based on other SO solutions to this (no attribute in module) problem, try checking that the version of skimage you're using has measure.label, try deleting any .pyc files, and make sure you have no naming conflicts or modules with the same name as what you're trying to import. ", "Edit: \nskimage v0.9.x has the ", " function under the ", " module: ", ". It was moved to ", " at a later date.", "If the function ", " is a method of a class, then you would normally do", "so ", " should be ", "If you aren't instantiating a class, and just calling a function, then you can just get rid of the ", " - "], "question_code": ["cv_image2 = self.convert_image(cv_image)", "from __future__ import print_function\nimport cv2\nimport numpy as np\nimport imutils\nfrom imutils import contours\nfrom skimage import measure\n\n'''\ndef getPoint(cameraTip,dotXY,normalPoint):\n    slope= (cameraTip[2]-dotXY[2])/(cameraTip[1]-dotXY[1])\n    b=cameraTip[2]-(slope*cameraTip[1])\n    z=slope*normalPoint[1]+b\n    return [normalPoint[0],normalPoint[1],z]\n'''\n# Image Processing functions\ndef convert_image(image): # Image of kind bgr8\n    gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)\n    blurred = cv2.GaussianBlur(gray, (11, 11), 0)\n        #threshold the image to reveal light regions in the\n        # blurred image\n    thresh = cv2.threshold(blurred, 30, 255, cv2.THRESH_BINARY)[1]\n        # perform a series of erosions and dilations to remove\n        # any small blobs of noise from the thresholded image\n    thresh = cv2.erode(thresh, None, iterations=2)\n    thresh = cv2.dilate(thresh, None, iterations=4)\n        # perform a connected component analysis on the thresholded\n        # image, then initialize a mask to store only the \"large\"\n        # components\n    labels = measure.label(thresh, neighbors=8, background=0)\n    mask = np.zeros(thresh.shape, dtype=\"uint8\")\n\n        # loop over the unique components\n    for label in np.unique(labels):\n            # if this is the background label, ignore it\n        if label == 0:\n            continue\n\n            # otherwise, construct the label mask and count the\n                # number of pixels\n        labelMask = np.zeros(thresh.shape, dtype=\"uint8\")\n        labelMask[labels == label] = 255\n        numPixels = cv2.countNonZero(labelMask)\n\n                # if the number of pixels in the component is sufficiently\n                # large, then add it to our mask of \"large blobs\"\n        if numPixels > 300:\n            mask = cv2.add(mask, labelMask)\n    # find the contours in the mask, then sort them from left to\n    # right\n    cnts = cv2.findContours(mask.copy(), cv2.RETR_EXTERNAL,\n        cv2.CHAIN_APPROX_SIMPLE)\n    cnts = imutils.grab_contours(cnts)\n    cnts = contours.sort_contours(cnts)[0]\n\n        # loop over the contours\n    for (i, c) in enumerate(cnts):\n            # draw the bright spot on the image\n        (x, y, w, h) = cv2.boundingRect(c)\n        ((cX, cY), radius) = cv2.minEnclosingCircle(c)\n        #x and y center are cX and cY\n        cv2.circle(image, (int(cX), int(cY)), int(radius),\n            (0, 0, 255), 3)\n        cv2.putText(image, \"#{}\".format(i + 1), (x, y - 15),\n            cv2.FONT_HERSHEY_SIMPLEX, 0.45, (0, 0, 255), 2)\n\n        # show the output image\n    cv2.imshow(\"Image\", image)\n    cv2.waitKey(1)\n        #camera.release()\n    return image\n\n# ROS Interface\nif __name__ == \"__main__\":\n    import rospy\n    from cv_bridge import CvBridge, CvBridgeError\n    from sensor_msgs.msg import Image\n    bridge = CvBridge()\n    def show_img(cv_image):\n        (rows,cols,channels) = cv_image.shape\n        if cols > 60 and rows > 60 :\n            cv2.circle(cv_image, (50,50), 10, 255)\n        cv2.imshow(\"Image window\", cv_image)\n        cv2.waitKey(3)\n    image_pub = rospy.Publisher(\"image_topic_2\", Image)\n    def callback(data):\n        try:\n            cv_image = bridge.imgmsg_to_cv2(data, \"bgr8\")\n            show_img(cv_image)\n            cv_image2 = self.convert_image(cv_image)\n            image_pub.publish(bridge.cv2_to_imgmsg(cv_image2, \"bgr8\"))\n        except CvBridgeError as e:\n            print(e)\n    image_sub = rospy.Subscriber(\"CM_040GE/image_raw\", Image, callback)\n    rospy.init_node('image_converter', anonymous=True)\n    rospy.spin()\n    print(\"image_converter: Shutting down\")\n    cv2.destroyAllWindows()\n"], "answer_code": ["self", "convert_image()", "measure", "label", "skimage.measure.label", "label", "morphology", "skimage.morphology.label", "measure", "convert_image", "# instantiate the class\nmy_obj = my_class()\n\n# call the class' method\nmy_obj.convert_image(paramaters)\n", "cv_image2 = self.convert_image(cv_image)", "cv_image2 = my_obj.convert_image(cv_image)", "self", "cv_image2 = convert_image(cv_image)"], "url": "https://stackoverflow.com/questions/57414858/making-a-laser-detector-have-an-error-in-my-code"}
,{"title": "What is an alternative method for rospy.spin()?", "time": "2019-08-13 10:24:34Z", "post_content": ["I have a custom ros node, that subscribes data from robot-joints. in order to access the joint data, I have a None variable to which the joint positions are being assigned during function callback. Now, the problem is , i can only access that variable when the subscriber is running, once its stopped, the variable is being reset to None. If the ros node keeps running, my program can not skip to the next line unless this loop is stopped. So i am either struck with this loop where I get all this data printed through loginfo or if i remove the line rospy.spin(), in the next lines where I am using that position stored data, its returning None as the node is stopped. Can anyone please suggest me a work around for this ?", "I am using this callback in the subscriber\nI want to access the position values of the robot when I call position, as I have assigned data.position to position. but its returning ", ", I believe its because, since position is ", " type, it only gets the data.position values assigned to it as long as the node is spinning or running, once its stopped it might be getting reset to ", ". but if i let it keep spinning using ", ", my program does not move forward to the next step as it gets stuck in the infinite loop of "], "answer": [], "question_code": ["   def callback(data):\n       Position = data.position\n", "None", "None", "None", "rospy.spin()", "rospy.spin"], "url": "https://stackoverflow.com/questions/57475796/what-is-an-alternative-method-for-rospy-spin"}
,{"title": "fatal error: moveit/move_group_interface/move_group.h: No such file or directory", "time": "2019-08-08 21:28:16Z", "post_content": ["Hello I am following a tutorial from Mastering_ROS_for_Robotics_Programming ", "this is my ", " file", "when I run ", " I get the following error", "This is my ", " file ", "when I run  ", "\n It shows me this error", "I am new to ROS therefore, I would be grateful if someone can explain to me my mistakes in detail"], "answer": ["I think you forgot to download ", " package in the ", " folder of your ROS workspace. ", "You can also create the above package using below command:"], "question_code": ["test_random.cpp", "#include <moveit/move_group_interface/move_group.h>\nint main(int argc, char **argv)\n{\n  ros::init(argc, argv, \"move_group_interface_demo\", ros::init_options::AnonymousName);\n  // start a ROS spinning thread\n  ros::AsyncSpinner spinner(1);\n  spinner.start();\n  // this connecs to a running instance of the move_group node\n  move_group_interface::MoveGroup group(\"arm\");\n  // specify that our target will be a random one\n  group.setRandomTarget();\n  // plan the motion and then move the group to the sampled target \n  group.move();\n  ros::waitForShutdown();\n}\n", "catkin_make", "fatal error: moveit/move_group_interface/move_group.h: No such file or directory\n #include <moveit/move_group_interface/move_group.h>\n          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ncompilation terminated.\n/home/murtaza/catkin_ws/src/seven_dof_arm_test/src/add_collision_objct.cpp:1:10: fatal error: moveit/move_group_interface/move_group.h: No such file or directory\n #include <moveit/move_group_interface/move_group.h>\n          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\ncompilation terminated.\nseven_dof_arm_test/CMakeFiles/add_collision_objct.dir/build.make:62: recipe for target 'seven_dof_arm_test/CMakeFiles/add_collision_objct.dir/src/add_collision_objct.cpp.o' failed\nmake[2]: *** [seven_dof_arm_test/CMakeFiles/add_collision_objct.dir/src/add_collision_objct.cpp.o] Error 1\nCMakeFiles/Makefile2:10094: recipe for target 'seven_dof_arm_test/CMakeFiles/add_collision_objct.dir/all' failed\nmake[1]: *** [seven_dof_arm_test/CMakeFiles/add_collision_objct.dir/all] Error 2\nseven_dof_arm_test/CMakeFiles/remove_collision_objct.dir/build.make:62: recipe for target 'seven_dof_arm_test/CMakeFiles/remove_collision_objct.dir/src/remove_collision_objct.cpp.o' failed\nmake[2]: *** [seven_dof_arm_test/CMakeFiles/remove_collision_objct.dir/src/remove_collision_objct.cpp.o] Error 1\nCMakeFiles/Makefile2:10131: recipe for target 'seven_dof_arm_test/CMakeFiles/remove_collision_objct.dir/all' failed\nmake[1]: *** [seven_dof_arm_test/CMakeFiles/remove_collision_objct.dir/all] Error 2\n[ 23%] Linking CXX executable /home/murtaza/catkin_ws/devel/lib/seven_dof_arm_test/check_collision\n[ 23%] Built target check_collision\nMakefile:140: recipe for target 'all' failed\nmake: *** [all] Error 2\nInvoking \"make -j8 -l8\" failed\n", "CMakeLists.txt", "cmake_minimum_required(VERSION 2.8.3)\nproject(seven_dof_arm_test)\nadd_compile_options(-std=c++11)\n## Find catkin macros and libraries\n## if COMPONENTS list like find_package(catkin REQUIRED COMPONENTS xyz)\n## is used, also find other catkin packages\nfind_package(catkin REQUIRED COMPONENTS\n  cmake_modules\n  interactive_markers\n  moveit_core\n  moveit_ros_perception\n  moveit_ros_planning_interface\n  pluginlib\n  roscpp\n  std_msgs\n)\n\n## System dependencies are found with CMake's conventions\nfind_package(Boost REQUIRED COMPONENTS system)\n\n\n## Uncomment this if the package has a setup.py. This macro ensures\n## modules and global scripts declared therein get installed\n## See http://ros.org/doc/api/catkin/html/user_guide/setup_dot_py.html\n# catkin_python_setup()\n\n###############################################\n## Declare ROS messages, services and actions ##\n################################################\n\n## To declare and build messages, services or actions from within this\n## package, follow these steps:\n## * Let MSG_DEP_SET be the set of packages whose message types you use in\n##   your messages/services/actions (e.g. std_msgs, actionlib_msgs, ...).\n## * In the file package.xml:\n##   * add a build_depend and a run_depend tag for each package in MSG_DEP_SET\n##   * If MSG_DEP_SET isn't empty the following dependencies might have been\n##     pulled in transitively but can be declared for certainty nonetheless:\n##     * add a build_depend tag for \"message_generation\"\n##     * add a run_depend tag for \"message_runtime\"\n## * In this file (CMakeLists.txt):\n##   * add \"message_generation\" and every package in MSG_DEP_SET to\n##     find_package(catkin REQUIRED COMPONENTS ...)\n##   * add \"message_runtime\" and every package in MSG_DEP_SET to\n##     catkin_package(CATKIN_DEPENDS ...)\n##   * uncomment the add_*_files sections below as needed\n##     and list every .msg/.srv/.action file to be processed\n##   * uncomment the generate_messages entry below\n##   * add every package in MSG_DEP_SET to generate_messages(DEPENDENCIES ...)\n\n## Generate messages in the 'msg' folder\n# add_message_files(\n#   FILES\n#   Message1.msg\n#   Message2.msg\n# )\n\n## Generate services in the 'srv' folder\n# add_service_files(\n#   FILES\n#   Service1.srv\n#   Service2.srv\n# )\n\n## Generate actions in the 'action' folder\n# add_action_files(\n#   FILES\n#   Action1.action\n#   Action2.action\n# )\n\n## Generate added messages and services with any dependencies listed here\n# generate_messages(\n#   DEPENDENCIES\n#   std_msgs\n# )\n\n###################################\n## catkin specific configuration ##\n###################################\n## The catkin_package macro generates cmake config files for your package\n## Declare things to be passed to dependent projects\n## INCLUDE_DIRS: uncomment this if you package contains header files\n## LIBRARIES: libraries you create in this project that dependent projects also need\n## CATKIN_DEPENDS: catkin_packages dependent projects also need\n## DEPENDS: system dependencies of this project that dependent projects also need\ncatkin_package(\n#  INCLUDE_DIRS include\n#  LIBRARIES seven_dof_arm_test\n#  CATKIN_DEPENDS cmake_modules interactive_markers moveit_core moveit_ros_perception moveit_ros_planning_interface pluginlib roscpp std_msgs\n#  DEPENDS system_lib\n)\n\n###########\n## Build ##\n###########\n\n## Specify additional locations of header files\n## Your package locations should be listed before other locations\n# include_directories(include)\ninclude_directories(\n  ${catkin_INCLUDE_DIRS}\n)\n\n\n## Declare a cpp executable\nadd_executable(test_random_node src/test_random.cpp)\n\n## Add cmake target dependencies of the executable/library\n## as an example, message headers may need to be generated before nodes\nadd_dependencies(test_random_node seven_dof_arm_test_generate_messages_cpp)\n\n## Specify libraries to link a library or executable target against\ntarget_link_libraries(test_random_node\n   ${catkin_LIBRARIES}\n )\n\n\ninclude_directories(\n  ${catkin_INCLUDE_DIRS}\n)\n\n\n## Declare a cpp executable\nadd_executable(test_custom_node src/test_custom.cpp)\n\n## Add cmake target dependencies of the executable/library\n## as an example, message headers may need to be generated before nodes\nadd_dependencies(test_custom_node seven_dof_arm_test_generate_messages_cpp)\n\n## Specify libraries to link a library or executable target against\ntarget_link_libraries(test_custom_node\n   ${catkin_LIBRARIES}\n )\n\n\n\n\n## Declare a cpp executable\nadd_executable(find_ee_coordinate src/find_ee_coordinate.cpp)\n\n## Add cmake target dependencies of the executable/library\n## as an example, message headers may need to be generated before nodes\nadd_dependencies(find_ee_coordinate seven_dof_arm_test_generate_messages_cpp)\n\n## Specify libraries to link a library or executable target against\ntarget_link_libraries(find_ee_coordinate\n   ${catkin_LIBRARIES}\n )\n\n\n## Declare a cpp executable\nadd_executable(add_collision_objct src/add_collision_objct.cpp)\n\n## Add cmake target dependencies of the executable/library\n## as an example, message headers may need to be generated before nodes\nadd_dependencies(add_collision_objct seven_dof_arm_test_generate_messages_cpp)\n\n## Specify libraries to link a library or executable target against\ntarget_link_libraries(add_collision_objct\n   ${catkin_LIBRARIES}\n )\n\n\n\n## Declare a cpp executable\nadd_executable(remove_collision_objct src/remove_collision_objct.cpp)\n\n## Add cmake target dependencies of the executable/library\n## as an example, message headers may need to be generated before nodes\nadd_dependencies(remove_collision_objct seven_dof_arm_test_generate_messages_cpp)\n\n## Specify libraries to link a library or executable target against\ntarget_link_libraries(remove_collision_objct\n   ${catkin_LIBRARIES}\n )\n\n\n\n\n\n## Declare a cpp executable\nadd_executable(move_group_plan_group_state src/move_group_plan_group_state.cpp)\n\n## Add cmake target dependencies of the executable/library\n## as an example, message headers may need to be generated before nodes\nadd_dependencies(move_group_plan_group_state seven_dof_arm_test_generate_messages_cpp)\n\n## Specify libraries to link a library or executable target against\ntarget_link_libraries(move_group_plan_group_state\n   ${catkin_LIBRARIES}\n )\n\n\n\n\n## Declare a cpp executable\nadd_executable(check_collision src/check_collision.cpp)\n\n## Add cmake target dependencies of the executable/library\n## as an example, message headers may need to be generated before nodes\nadd_dependencies(check_collision seven_dof_arm_test_generate_messages_cpp)\n\n## Specify libraries to link a library or executable target against\ntarget_link_libraries(check_collision\n   ${catkin_LIBRARIES}\n )\n\n\n#############\n## Install ##\n#############\n\n# all install targets should use catkin DESTINATION variables\n# See http://ros.org/doc/api/catkin/html/adv_user_guide/variables.html\n\n## Mark executable scripts (Python etc.) for installation\n## in contrast to setup.py, you can choose the destination\n# install(PROGRAMS\n#   scripts/my_python_script\n#   DESTINATION ${CATKIN_PACKAGE_BIN_DESTINATION}\n# )\n\n## Mark executables and/or libraries for installation\n# install(TARGETS seven_dof_arm_test seven_dof_arm_test_node\n#   ARCHIVE DESTINATION ${CATKIN_PACKAGE_LIB_DESTINATION}\n#   LIBRARY DESTINATION ${CATKIN_PACKAGE_LIB_DESTINATION}\n#   RUNTIME DESTINATION ${CATKIN_PACKAGE_BIN_DESTINATION}\n# )\n\n## Mark cpp header files for installation\n# install(DIRECTORY include/${PROJECT_NAME}/\n#   DESTINATION ${CATKIN_PACKAGE_INCLUDE_DESTINATION}\n#   FILES_MATCHING PATTERN \"*.h\"\n#   PATTERN \".svn\" EXCLUDE\n# )\n\n## Mark other files for installation (e.g. launch and bag files, etc.)\n# install(FILES\n#   # myfile1\n#   # myfile2\n#   DESTINATION ${CATKIN_PACKAGE_SHARE_DESTINATION}\n# )\n\n#############\n## Testing ##\n#############\n\n## Add gtest based cpp test target and link libraries\n# catkin_add_gtest(${PROJECT_NAME}-test test/test_seven_dof_arm_test.cpp)\n# if(TARGET ${PROJECT_NAME}-test)\n#   target_link_libraries(${PROJECT_NAME}-test ${PROJECT_NAME})\n# endif()\n\n## Add folders to be run by python nosetests\n# catkin_add_nosetests(test)\n", "rosrun seven_dof_arm_test test_random_node", "[rospack] Error: package 'seven_dof_arm_test' not found\n"], "answer_code": ["seven_dof_arm_test", "src", "src", "git clone https://github.com/jocacace/seven_dof_arm_test.git", "catkin_make", "catkin_create_pkg seven_dof_arm_test catkin cmake_modules interactive_markers moveit_core moveit_ros_perception moveit_ros_planning_interface pluginlib roscpp std_msgs\n"], "url": "https://stackoverflow.com/questions/57420837/fatal-error-moveit-move-group-interface-move-group-h-no-such-file-or-directory"}
,{"title": "Is there a way to designate certain library version when build with cmake?", "time": "2019-08-12 09:32:31Z", "post_content": ["I'm using ", ", ", " in ROS-based project. (UBUNTU 16.04 LTS)", "as you know, full version of ", " installs 1.7 version of PCL with VTK 6.2 and opencv 3.1.1 into ", " and ", " directory", "I'm using this version in standalone system now, but when integrating whole system, I'll have to use this program in system installed another version of PCL", "So, i built pcl 1.9 with vtk 8.2 and opencv4.0.2 installed in local directory for test\n(", " and ", ")", "and execute catkin_make in my project but project built with following warning", "and following exception is occurred in unknown line as soon as program is executed", "at this time, i removed the catkin related lines from CMakeLists.txt\nsuch as", "then program runs well.", "I think this problem comes cmake links wrong libraries when execute find_package(PCL Required) a part of CMakeLists.txt", "I've tried ", "but it doesn't work..", "In opencv case,", "When I input following line to the CMakeLists.txt", "It throws an error", "But, use ", "Works clearly.", "and this is a part of my CMakeLists.txt", "So, my question is how can i link the certain version of library files when multiple version of libraries are installed in single system?", "I'd like to link ", " and ", " in ", "not ", " and ", " in "], "answer": [], "question_code": ["/usr/bin/ld: warning: libpcl_sample_consensus.so.1.9, needed by /usr/local/lib/libpcl_filters.so, may conflict with libpcl_sample_consensus.so.1.7\n/usr/bin/ld: warning: libpcl_search.so.1.9, needed by /usr/local/lib/libpcl_filters.so, may conflict with libpcl_search.so.1.7\n/usr/bin/ld: warning: libpcl_common.so.1.7, needed by /usr/lib/x86_64-linux-gnu/libpcl_sample_consensus.so, may conflict with libpcl_common.so.1.9\n/usr/bin/ld: warning: libpcl_io.so.1.7, needed by /usr/lib/x86_64-linux-gnu/libpcl_visualization.so, may conflict with libpcl_io.so.1.9\n", "libvtkCommonExecutionModel-6.2.20.6.2!vtkAlgorithm::SetNumberOfInputPorts(int)\n", "include_directories(\n    ${catkin_INCLUDE_DIRS}\n)\n\ntarget_link_libraries(${PROJECT_NAME}\n    ${catkin_LIBRARIES}\n)\n", "find_package(VTK 8.2.0 EXACT REQUIRED)\nfind_package(PCL 1.9.1 EXACT REQUIRED)\n\nlink_directories(\n    /usr/local/lib/\n)\n", "find_package(opencv 4 REQUIRED)\n", "undefined reference to `cv::namedWindow(cv::String const&, int)'\n", "find_package(opencv 3 REQUIRED)\n", "find_package(\n  catkin REQUIRED\n    COMPONENTS\n        packages\n        I\n        use\n        pcl_ros\n)\n\ncatkin_package(\n  INCLUDE_DIRS \n    include\n  CATKIN_DEPENDS \n    cv_bridge\n    **msgs\n    .\n    .\n)\n\nfind_package(PCL REQUIRED)\n\ninclude_directories(\n    include\n    ${catkin_INCLUDE_DIRS}\n    ${PCL_INCLUDE_DIRS}\n)\n\nlink_directories(lib\n    ${PCL_LIBRARY_DIRS}\n    ${OpenCV_LIBRARY_DIRS}\n)\n\nadd_executable(${PROJECT_NAME}\n    src/main.cpp\n)\ntarget_link_libraries(${PROJECT_NAME}\n    ${PCL_LIBRARIES}\n    ${catkin_LIBRARIES}\n)\n"], "url": "https://stackoverflow.com/questions/57458729/is-there-a-way-to-designate-certain-library-version-when-build-with-cmake"}
,{"title": "Controlling orientation using a quaternion", "time": "2014-04-27 21:00:15Z", "post_content": ["To control a robotic arm, I have a controller with 6 dimensions (x, y, z position, and roll, pitch, yaw rotation). I am using a position (x, y, z) and quaternion (x, y, z, w) to represent the desired position and orientation of the robot's gripper. ", "I am using some libraries that people might not be familiar with (namely, geometry_msgs from ROS), so here is what I'm doing in pseudocode:", "I am able to set the x, y, and z of the position part of the pose just fine. Technically, I am also able to set the quaternion just fine as well, but my problem is that controlling the quaternion is extremely non-intuitive, since rotation is not commutative. i.e., if I rotate 180 degrees about the x-axis, then the control of the rotation about the z-axis gets inverted.", "Is there any way that I can control the rotation from a sort of \"global reference frame,\" if that makes any sense? I would like it so that if I twist the joystick clockwise about z, the pose will rotate accordingly, instead of \"sometimes rotating clockwise, sometimes rotating counterclockwise.\""], "answer": ["Isn't this just as simple as exchanging the order of the factors in the quaternion product? ", "A unit quaternion ", " transforms a vector ", " in local coordinates to the rotated vector ", " in global coordinates. A modified quaternion ", " (", " also unit quaternions) transforms ", " as ", "where the b part can be interpreted as rotation in local coordinates and the a part as rotation in global coordinates.", "So to apply a rotation in global coordinates only, set ", ", i.e., leave it out, and put the desired rotation in the ", " factor."], "question_code": ["while(true):\n  new_position = last_position + (joy.x, joy.y, joy.z)\n  new_quaternion = last_quaternion * quaternionFromRPY(joy.roll, joy.pitch, joy.yaw)\n\n  // (Compute inverse kinematics using position and orientation, then send to robot arm)\n\n  last_position = new_position\n  last_quaternion = new_quaternion\n\n  delay(dt)\n"], "answer_code": ["q", "v", "q*v*q'", "a*q*b", "a, b", "v", "a*(q*(b*v*b')*q')*a', \n", "b=1", "a"], "url": "https://stackoverflow.com/questions/23328933/controlling-orientation-using-a-quaternion"}
,{"title": "How can I wrap a system library/dependency in a catkin package, and then use that package to provide the system lib in other packages?", "time": "2014-04-17 15:27:14Z", "post_content": ["I have a system library, such as OpenCV 3.0.0 (for example), installed on my computer in the directory ", ".", "I want to wrap the dependencies on OpenCV in my own package, ", ". This way I can use catkin like this:", "So I went ahead and created the opencv3 package. I'm able to find the system library's external .cmake file and build. Here are the important parts of ", "'s ", " : ", "Now when I include ", ", my custom package, in other packages as a dependency, the other packages cannot find the OpenCV libraries, and thus they cannot link/build! The OpenCV include directories do transfer over to other packages, however. So when I have this in my ", " of other packages which use ", ":", "I get the output:", "Which is correct. I just can't find out how the ", " field of ", "(...) makes the system dependency libraries transfer to new packages. ", " and ", " did not have the OpenCV libraries in them either..."], "answer": ["I ended up following the instructions here: ", "Even though I was finding OpenCV with ", "(), the exported ", " variable did not include full paths to the library files, only the names. This caused the libraries to not show up in other packages which included my ", " package.", "The solution was to create a variable which contained the full path to the OpenCV libraries, and place that variable in the ", " part of ", "(). Only then were packages dependent on ", " able to link and build properly.", "I'm mostly happy with this solution, but it still requires me to create a custom variable which contains the absolute paths to all OpenCV libraries. I would much rather just have ", " in ", "() and be done with it."], "question_code": ["/opt/OpenCV3", "opencv3", "find_package(catkin REQUIRED COMPONENTS\n  opencv3\n)\n", "opencv3", "CMakeLists.txt", "cmake_minimum_required(VERSION 2.8.3)\nset(CMAKE_PREFIX_PATH ${CMAKE_PREFIX_PATH} \"/opt/OpenCV3\")\n...\nfind_package(catkin REQUIRED)\nfind_package(OpenCV 3.0.0 EXACT)\n...\ncatkin_package(\n#  INCLUDE_DIRS include\n#  LIBRARIES opencv3\n#  CATKIN_DEPENDS\n   DEPENDS OpenCV\n)\n", "opencv3", "CMakeLists.txt", "opencv3", "message(STATUS ${opencv3_INCLUDE_DIRS})\n", "/opt/OpenCV3/include\n", "DEPENDS", "catkin_package", "catkin_LIBRARIES", "opencv3_LIBRARIES"], "answer_code": ["find_package", "OpenCV_LIBRARIES", "opencv3", "LIBRARIES", "catkin_package", "opencv3", "DEPENDS OpenCV", "catkin_package"], "url": "https://stackoverflow.com/questions/23137179/how-can-i-wrap-a-system-library-dependency-in-a-catkin-package-and-then-use-tha"}
,{"title": "How to solve the 'undefined reference to libusb' error in ros?", "time": "2014-11-25 08:51:45Z", "post_content": ["I am trying to transfer a camera(non-uvc) stream program to ros platform.", "I've already got the camera driver running", "and Makefile is like this:", "Now I want to do this in a ros node, so I write a node in which the CMakelists is like this:", "And the Makefile line generated into /catkin_ws/build/***/ is like this:", "But it seems that the system cannot find the dynamic libraries of libusb, coz' it reports", "[1]Is there anyone who knows how to solve this problem ?", "[2]How to find the .a and .so of libusb in my computer ? (I am sure I have them, coz' I can pkg-config --cflags/--libs them)", "[3]How could I explicitly link a dynamic library in ros CMakelists ? or just link_libraries(usb) is enough for both static and dynamic libriries ?"], "answer": [" requires that CMake have a corresponding ", "Cmake have a ", ".", "You can use it to write your own FindLibUSB, ", ".", "Or you can use it directly in your CMakeLists.txt :", "You can see in ", " all the variables that are set : ", " for the libraries, etc ...", "Finding libraries in cmake is typically done using ", ".", "In your case it might look like this (taken from ", "):", "You may have to adjust the version number of course (maybe it can simply be removed)."], "question_code": ["include_directories(\n  ${catkin_INCLUDE_DIRS}\n)\ninclude_directories(/usr/local/include)\ninclude_directories(/root/catkin_ws/src/asi_converter_real/include/asi_converter_real)\nlink_directories(/usr/local/lib)\nlink_libraries(pthread)\nlink_libraries(usb)\nlink_libraries(libASICamera.a)\nlink_libraries(libASICamera.so)\nadd_executable(asi_converter_real src/asi_converter_real.cpp)\ntarget_link_libraries(asi_converter_real ${catkin_LIBRARIES})\n", "undefined reference to `libusb_set_configuration'\nundefined reference to `libusb_claim_interface'\n/usr/local/lib/libASICamera.a(ASI174MM.o): In function `WorkingFunc(void*)':\nundefined reference to `libusb_bulk_transfer'\nundefined reference to `libusb_bulk_transfer'\n"], "answer_code": ["find_package", "Find<package>.cmake", "find_package(PkgConfig REQUIRED)\npkg_search_module(LIBUSB1 REQUIRED libusb-1.0)\ninclude_directories(SYSTEM ${LIBUSB1_INCLUDE_DIRS})\n", "LIBUSB1_LIBRARIES", "find_package", "find_package(libusb-1.0 REQUIRED)\ninclude_directories (${LIBUSB_1_INCLUDE_DIRS})\n...\ntarget_link_libraries(asi_converter_real ${catkin_LIBRARIES} ${LIBUSB_1_LIBRARIES})\n", "Find<package>.cmake"], "url": "https://stackoverflow.com/questions/27122068/how-to-solve-the-undefined-reference-to-libusb-error-in-ros"}
,{"title": "Read Image Message from in ROS MATLAB", "time": "2014-09-09 12:51:20Z", "post_content": ["Please, does any one know how to read an image message from ROS into Matlab?\nI already receive the message and get a org.jboss.netty.buffer.SlicedChannelBuffer object after calling message.getData().", "However I have no idea how to extract data and put it inside a uint8 vector.", "Any help will be highly appreciated.\nThanks in advance,", "Pedro "], "answer": ["Found it!\nJust use the .array that comes with the org.jboss.netty.buffer.SlicedChannelBuffer object.\nThat is, for a 640x640 image:", "remember to cat to uint8 because array gives you a int8 data type.", "See ya"], "answer_code": ["a = message.getData();\ndata = a.array;\nI = typecast(data(a.arrayOffset+1:end), 'uint8');\nI = cat(3, reshape(I(3:3:end),[640 640])', ...\n    reshape(I(2:3:end),[640 640])', ...\n    reshape(I(1:3:end),[640 640])'...\n);\n"], "url": "https://stackoverflow.com/questions/25745141/read-image-message-from-in-ros-matlab"}
,{"title": "Running multiple command-line apps from a Qt GUI app in Ubuntu and getting the console output", "time": "2013-10-07 04:01:53Z", "post_content": ["I am developing a robotics application on Ubuntu 12.04 (Precise) and ROS fuerte. I have about 10 different nodes (processes) that need to be run and to switch between the different operation modes of the robot, I would also have to kill and spawn these nodes dynamically. \nThe usual way is, of course, launching them from terminal, however I want to provide an easy-to-use GUI interface.", "Is there any way I can start terminal applications from C++ code in Ubuntu while getting all their output? I want to collect all output from all the running apps and display it in a single view. It should also be possible to spawn and kill these apps on the go.", "Or perhaps there's an ROS-way of doing this that I am not aware of?", "Thanks!"], "answer": ["The ", " class is what you're looking for."], "url": "https://stackoverflow.com/questions/19216848/running-multiple-command-line-apps-from-a-qt-gui-app-in-ubuntu-and-getting-the-c"}
,{"title": "ROS Kinetic and hector_quadrotor controller spawner can't unload controllers", "time": "2019-08-12 01:04:56Z", "post_content": ["I am working on a simple simulation of a quadrotor in ROS Kinetic and Gazebo 7 using the hector_quadrotor package. I am having issues with the controller spawner, which provides an error stating it cannot load controller/velocity since it is already spawned, then it cannot unload any controllers on ^C exit of the launch script. What is the fix?", "Fixes I have tried:\n    rosnode kill\n    ps kill\n    new terminal session\n    restarting the computer\n    manual controller load from service calls", "Here is the launch file XML I am using", "This is the resulting error I am given on exit:", "Often times, the gazebo shutdown process and controller unloading has to be escalated to SIGTERM before finally crashing.", "After experimenting more with the launch file, defining an arg value as shown seems to fix the launch problem.", "However, when spawning under a namespace, the error still persists. Do i need to add the namespace to the controller?", "Edit 2: when adding the  spawn to the launch file (as done in XML at top of page), the controller spawner fails in the same manner. IS there a better way to create the node?"], "answer": [], "question_code": ["<launch>\n\n  <!-- Start Gazebo with empty world running in realtime -->\n  <include file=\"$(find gazebo_ros)/launch/empty_world.launch\"/>\n\n  <group ns=\"drone1\">\n    <!-- Spawn simulated quadrotor uav leader -->\n    <include file=\"$(find hector_quadrotor_gazebo)/launch/spawn_quadrotor.launch\">\n      <arg name=\"name\" value=\"drone1\"/>\n      <arg name=\"tf_prefix\" value=\"drone1\"/>\n    </include>\n  </group>\n\n  <node pkg=\"quad_practice\" type=\"hover.py\" name=\"hover\"/>\n\n</launch>\n", "[INFO] [1565393710.796244, 1.214000]: Controller Spawner: Loaded controllers: controller/position, controller/velocity, controller/attitude\n[ERROR] [1565393710.799943937, 1.218000000]: Controller 'controller/velocity' is already running\n[ERROR] [1565393710.800351, 1.218000]: Failed to start controllers: controller/position, controller/velocity, controller/attitude\n^C[hover-12] killing on exit\n[drone1/takeoff_action-10] killing on exit\n[drone1/landing_action-9] killing on exit\n[drone1/pose_action-8] killing on exit\n[drone1/estop_relay-7] killing on exit\n[drone1/controller_spawner-6] killing on exit\n[gazebo_gui-3] killing on exit\n[drone1/robot_state_publisher-4] killing on exit\n[INFO] [1565393732.639362, 22.352000]: Shutting down spawner. Stopping and unloading controllers...\n[gazebo-2] killing on exit\n[INFO] [1565393732.640895, 22.353000]: Stopping all controllers...\n[drone1/ground_truth_to_tf-5] killing on exit\n[ERROR] [1565393732.663383186, 22.361000000]: Could not stop controller 'controller/position' since it is not running\n[INFO] [1565393732.663862, 22.361000]: Unloading all loaded controllers...\n[INFO] [1565393732.664577, 22.361000]: Trying to unload controller/attitude\n[drone1/controller_spawner-6] escalating to SIGTERM\n[gazebo-2] escalating to SIGTERM\n[WARN] [1565393747.671287, 22.361000]: Controller Spawner error while taking down controllers: transport error completing service call: receive_once[/drone1/controller_manager/unload_controller]: unexpected error [Errno 4] Interrupted system call\n[rosout-1] killing on exit\n[master] killing on exit\nshutting down processing monitor...\n... shutting down processing monitor complete\ndone\n", "<include file=\"$(find hector_quadrotor_gazebo)/launch/spawn_quadrotor.launch\">\n    <arg name=\"controllers\" value=\"\n      controller/attitude\n      controller/velocity\n      controller/position\n      \"/>\n</include>\n", "[namespace]/conroller/attitude\n"], "url": "https://stackoverflow.com/questions/57438279/ros-kinetic-and-hector-quadrotor-controller-spawner-cant-unload-controllers"}
,{"title": "catkin make error, dji sdk launch file error", "time": "2019-10-08 05:07:27Z", "post_content": ["I'm trying to activate my work space to control DJI M210 RTK V2, i get two errors, the first error is when i use (catkin_make) and I've attached the codes that i get, and the second error is when i launch the package (roslaunch dji_sdk sdk.launch) and also its in the attachment as you see."], "answer": ["you need to install the nmea_msgs package.\nJust run the command: \nsudo apt-get install ros-kinetic-nmea-msgs"], "question_code": ["dji@manifold2:~/Desktop/Ibtesam_ws$ source devel/setup.bash\ndji@manifold2:~/Desktop/Ibtesam_ws$ catkin_make\nBase path: /home/dji/Desktop/Ibtesam_ws\nSource space: /home/dji/Desktop/Ibtesam_ws/src\nBuild space: /home/dji/Desktop/Ibtesam_ws/build\nDevel space: /home/dji/Desktop/Ibtesam_ws/devel\nInstall space: /home/dji/Desktop/Ibtesam_ws/install\n####\n#### Running command: \"cmake /home/dji/Desktop/Ibtesam_ws/src -DCATKIN_DEVEL_PREFIX=/home/dji/Desktop/Ibtesam_ws/devel -DCMAKE_INSTALL_PREFIX=/home/dji/Desktop/Ibtesam_ws/install -G Unix Makefiles\" in \"/home/dji/Desktop/Ibtesam_ws/build\"\n####\n-- Using CATKIN_DEVEL_PREFIX: /home/dji/Desktop/Ibtesam_ws/devel\n-- Using CMAKE_PREFIX_PATH: /home/dji/Desktop/Ibtesam_ws/devel;/opt/ros/kinetic\n-- This workspace overlays: /home/dji/Desktop/Ibtesam_ws/devel;/opt/ros/kinetic\n-- Using PYTHON_EXECUTABLE: /usr/bin/python\n-- Using Debian Python package layout\n-- Using empy: /usr/bin/empy\n-- Using CATKIN_ENABLE_TESTING: ON\n-- Call enable_testing()\n-- Using CATKIN_TEST_RESULTS_DIR: /home/dji/Desktop/Ibtesam_ws/build/test_results\n-- Found gmock sources under '/usr/src/gmock': gmock will be built\n-- Found gtest sources under '/usr/src/gmock': gtests will be built\n-- Using Python nosetests: /usr/bin/nosetests-2.7\n-- catkin 0.7.11\n-- BUILD_SHARED_LIBS is on\n-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n-- ~~  traversing 2 packages in topological order:\n-- ~~  - dji_sdk\n-- ~~  - dji_sdk_demo\n-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n-- +++ processing catkin package: 'dji_sdk'\n-- ==> add_subdirectory(Onboard-SDK-ROS/dji_sdk)\n-- Using these message generators: gencpp;geneus;genlisp;gennodejs;genpy\n-- Using Finddjiosdk-core.cmake find djiosdk-core\n-- Found djiosdk-core:\n--  - Includes: /usr/local/include\n--  - Libraries: /usr/local/lib/libdjiosdk-core.a\n-- dji_sdk: 13 messages, 28 services\n-- +++ processing catkin package: 'dji_sdk_demo'\n-- ==> add_subdirectory(Onboard-SDK-ROS/dji_sdk_demo)\n-- Using these message generators: gencpp;geneus;genlisp;gennodejs;genpy\nCMake Error at /home/dji/Desktop/Ibtesam_ws/devel/share/dji_sdk/cmake/dji_sdkConfig.cmake:172 (find_package):\n  Could not find a package configuration file provided by \"nmea_msgs\" with\n  any of the following names:\n\n    nmea_msgsConfig.cmake\n    nmea_msgs-config.cmake\n\n  Add the installation prefix of \"nmea_msgs\" to CMAKE_PREFIX_PATH or set\n  \"nmea_msgs_DIR\" to a directory containing one of the above files.  If\n  \"nmea_msgs\" provides a separate development package or SDK, be sure it has\n  been installed.\nCall Stack (most recent call first):\n  /opt/ros/kinetic/share/catkin/cmake/catkinConfig.cmake:76 (find_package)\n  Onboard-SDK-ROS/dji_sdk_demo/CMakeLists.txt:10 (find_package)\n\n\n-- Configuring incomplete, errors occurred!\nSee also \"/home/dji/Desktop/Ibtesam_ws/build/CMakeFiles/CMakeOutput.log\".\nSee also \"/home/dji/Desktop/Ibtesam_ws/build/CMakeFiles/CMakeError.log\".\nInvoking \"cmake\" failed\n"], "url": "https://stackoverflow.com/questions/58280469/catkin-make-error-dji-sdk-launch-file-error"}
,{"title": "ROS custom message with sensor_msgs/Image issue with subscriber", "time": "2015-04-19 09:53:41Z", "post_content": ["I have a custom message -", "I could successfully write a publisher for this message and it seem to run ok. However, I have an issue with the subscriber.", "When I try to ", " this I get the following error.", "What I can make out is that ", " is of the type ", " aka. ", ". I cannot seem to understand this part.", "How can I retrieve my image correctly from this custom message?"], "answer": ["You have to take a closer look on the signature of ", ". It can be read from the error message, that this function has two overloads:", "and ", "So the function either expects an ", " plus a pointer to some object (first case) or a ", " (second case). You are, however, only passing a ", ", so this matches neither of the two options.", "If I understand the ", " correctly, the second argument in the first case is expected to be a pointer to the message that contains the image. Try the following code:", "Note that I changed the call of ", " as well as the signature of the callback."], "question_code": ["sensor_msgs/Image im\nfloat32 age\nstring name\n", "#include <ros/ros.h>\n\n#include <custom_msg/MyString.h>\n#include <custom_msg/MyImage.h>\n\n#include <image_transport/image_transport.h>\n#include <sensor_msgs/Image.h>\n\n#include <opencv2/highgui/highgui.hpp>\n#include <opencv2/opencv.hpp>\n#include <cv_bridge/cv_bridge.h>\n\n\nvoid custom_image_rcvd( const custom_msg::MyImage& msg )\n{\n    ROS_INFO_STREAM( \"msg::: Name:\"<< msg.name << \" Age:\"<< msg.age );\n\n    cv::Mat im =  cv_bridge::toCvShare(  msg.im, \"bgr8\" )->image ;\n    cv::imshow(\"viewz\", im );\n    cv::waitKey(30);\n}\n\nint main( int argc, char ** argv )\n{\n    ros::init(argc, argv, \"custom_subscriber\");\n    ros::NodeHandle nh;\n\n    ros::Subscriber sub2 = nh.subscribe( \"custom_image\", 2, custom_image_rcvd );\n\n    ros::spin();\n}\n", "catkin_make", "/home/eeuser/ros_workspaces/HeloRosProject/src/custom_msg/subsc.cpp: In function \u2018void custom_image_rcvd(const MyImage&)\u2019:\n/home/eeuser/ros_workspaces/HeloRosProject/src/custom_msg/subsc.cpp:22:57: error: no matching function for call to \u2018toCvShare(const _im_type&, const char [5])\u2019\n/home/eeuser/ros_workspaces/HeloRosProject/src/custom_msg/subsc.cpp:22:57: note: candidates are:\n/opt/ros/hydro/include/cv_bridge/cv_bridge.h:198:17: note: cv_bridge::CvImageConstPtr cv_bridge::toCvShare(const Image&, const boost::shared_ptr<const void>&, const string&)\n/opt/ros/hydro/include/cv_bridge/cv_bridge.h:198:17: note:   no known conversion for argument 2 from \u2018const char [5]\u2019 to \u2018const boost::shared_ptr<const void>&\u2019\n/opt/ros/hydro/include/cv_bridge/cv_bridge.h:171:17: note: cv_bridge::CvImageConstPtr cv_bridge::toCvShare(const ImageConstPtr&, const string&)\n/opt/ros/hydro/include/cv_bridge/cv_bridge.h:171:17: note:   no known conversion for argument 1 from \u2018const _im_type {aka const sensor_msgs::Image_<std::allocator<void> >}\u2019 to \u2018const ImageConstPtr& {aka const boost::shared_ptr<const sensor_msgs::Image_<std::allocator<void> > >&}\u2019\nmake[2]: *** [custom_msg/CMakeFiles/subscribe.dir/subsc.cpp.o] Error 1\nmake[1]: *** [custom_msg/CMakeFiles/subscribe.dir/all] Error 2\nmake: *** [all] Error 2\nInvoking \"make\" failed\n", "msg.im", "_im_type", "sensor_msgs::Image_<ContainerAllocator>"], "answer_code": ["toCvShare", "cv_bridge::CvImageConstPtr cv_bridge::toCvShare(const Image&, const boost::shared_ptr<const void>&, const string&)\n", "cv_bridge::CvImageConstPtr cv_bridge::toCvShare(const ImageConstPtr&, const string&)\n", "Image", "ImageConstPtr", "Image", "void custom_image_rcvd(const custom_msg::MyImageConstPtr& msg)\n{\n    ROS_INFO_STREAM(\"msg::: Name:\" << msg->name << \" Age:\" << msg->age);\n\n    cv::Mat im =  cv_bridge::toCvShare(msg->im, msg, \"bgr8\")->image;\n    cv::imshow(\"viewz\", im);\n    cv::waitKey(30);\n}\n", "toCvShare"], "url": "https://stackoverflow.com/questions/29598278/ros-custom-message-with-sensor-msgs-image-issue-with-subscriber"}
,{"title": "Uncaught ReferenceError: updateHead is not defined using jscolor", "time": "2014-08-26 00:15:22Z", "post_content": ["This is a fairly simple question, I am not quite sure what is wrong (new to this).\nWhen I try to run the following on my robot, I always get \"Uncaught ReferenceError: updateHead is not defined\":", "This is for a Robot, using ROS, that is controllable over the internet using ROS plugins for rosbridge_websocket."], "answer": ["You're defining the ", " and ", " functions inside the ", " function.\nDue to javascripts function scope they're not available outside of the ", " function.", "You need to define them in global/window scope(move them out of the ", " function) to access them like you do."], "question_code": ["<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\" />\n    <script type=\"text/javascript\" src=\"http://cdn.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js\"></script>\n    <script type=\"text/javascript\" src=\"http://cdn.robotwebtools.org/roslibjs/current/roslib.min.js\"></script>\n    <script type=\"text/javascript\" type=\"text/javascript\">\n\n        var ros = new ROSLIB.Ros({\n          url : 'ws://glados-cpr:9090'\n        });\n\n        ros.on('connection', function() {\n          console.log('Connected to websocket server.');\n        });\n\n        ros.on('error', function(error) {\n          console.log('Error connecting to websocket server: ', error);\n        });\n\n        ros.on('close', function() {\n          console.log('Connection to websocket server closed.');\n        });\n\n        // Publishing a Topic\n        // ------------------\n\n        var base = new ROSLIB.Topic({\n          ros : ros,\n          name : '/base',\n          messageType : 'std_msgs/UInt8'\n        });\n        var base_val = new ROSLIB.Message({data : 0});\n\n        var elbow = new ROSLIB.Topic({\n          ros : ros,\n          name : '/elbow',\n          messageType : 'std_msgs/UInt8'\n        });\n        var elbow_val = new ROSLIB.Message({data : 0});\n\n        var wrist = new ROSLIB.Topic({\n          ros : ros,\n          name : '/wrist',\n          messageType : 'std_msgs/UInt8'\n        });\n        var wrist_val = new ROSLIB.Message({data : 0});\n\n        var head = new ROSLIB.Topic({\n          ros : ros,\n          name : '/head',\n          messageType : 'std_msgs/UInt8'\n        });\n        var head_val = new ROSLIB.Message({data : 0});\n\n        function UP() {\n           elbow_val.data = elbow_val.data + 5;\n           elbow.publish(elbow_val);\n        }\n\n        function DOWN() {\n           elbow_val.data = elbow_val.data - 5;\n           elbow.publish(elbow_val);\n        } \n\n        function LEFT() {\n           base_val.data = base_val.data + 5;\n           base.publish(base_val);\n        } \n\n        function RIGHT() {\n           base_val.data = base_val.data - 5;\n           base.publish(base_val);\n        } \n\n        function POWER_OFF() {\n           base_val.data = 0;\n           base.publish(base_val);\n           elbow_val.data = 0;\n           elbow.publish(elbow_val);\n           wrist_val.data = 0;\n           wrist.publish(wrist_val);\n           head_val.data = 0;\n           head.publish(head_val);\n        }\n\n        var speech = new ROSLIB.Topic({\n            ros : ros,\n            name : '/speech',\n            messageType : 'std_msgs/String'\n        });\n        var speech_val = new ROSLIB.Message({data : \"\"});\n\n        function SAY(){\n        speech_val.data = document.getElementById('TEXTBOX_SPEECH').value;\n        speech.publish(speech_val);\n\n        var color_head = new ROSLIB.Topic({\n            ros : ros,\n            name : '/color_head',\n            messageType : 'std_msgs/ColorRGBA'\n        });\n        var cHead_val = new ROSLIB.Message({r:0, g:0, b:0, a:0});\n\n        var color_body = new ROSLIB.Topic({\n            ros : ros,\n            name : '/color_body',\n            messageType : 'std_msgs/ColorRGBA'\n        });\n        var cBody_val = new ROSLIB.Message({r:0, g:0, b:0, a:0});\n\n        function updateHead(color) {\n            cHead_val.r = color.rgb[0];\n            cHead_val.g = color.rgb[1];\n            cHead_val.b = color.rgb[2];\n            color_head.publish(cHead_val);\n        }\n        function updateBody(color) {\n            cBody_val.r = color.rgb[0];\n            cBody_val.g = color.rgb[1];\n            cBody_val.b = color.rgb[2];\n            color_body.publish(cBody_val);\n        }\n\n        }\n\n    </script>\n    <script type=\"text/javascript\" src=\"jscolor.js\"></script>\n</head>\n<body>\n    <center>\n        <h1>GLaDOS Control Centre</h1>\n        <img src=\"/?action=stream\" />\n        <br>\n        <input id=\"POWER OFF\" type=\"button\" value=\"POWER OFF\" onclick=\"POWER_OFF();\" />\n        <br>\n        <input id=\"UP\" type=\"button\" value=\"UP\" onclick=\"UP();\" />\n        <br>\n        <input id=\"LEFT\" type=\"button\" value=\"LEFT\" onclick=\"LEFT();\" />\n        <input id=\"RIGHT\" type=\"button\" value=\"RIGHT\" onclick=\"RIGHT();\" />\n        <br>\n        <input id=\"DOWN\" type=\"button\" value=\"DOWN\" onclick=\"DOWN();\" />\n        <br>\n        <input type=\"text\" id=\"TEXTBOX_SPEECH\">\n        <input id=\"SAY\" type=\"button\" value=\"SAY\" onclick=\"SAY();\" />\n        <br>\n        Head Colour: <input class=\"color\" onchange=\"updateHead(this.color);\" value=\"0800FF\">\n        <br>\n        Body Colour: <input class=\"color {onImmediateChange:'updateBody(this);'}\" value=\"FFF82B\">\n    </center>\n</body>\n"], "answer_code": ["updateHead", "updateBody", "SAY", "SAY", "SAY"], "url": "https://stackoverflow.com/questions/25496172/uncaught-referenceerror-updatehead-is-not-defined-using-jscolor"}
,{"title": "How to get the projection matrix from odometry/tf data?", "time": "2015-04-17 08:15:53Z", "post_content": ["I would like to compare my results of visual Odometry with the groundtruth provided by the KITTI dataset.\nFor each frame in the groundthruth, I have a projection matrix.\nFor example:", "Here the instructions provided by the readme:", "Row i represents the i'th pose of the\n  left camera coordinate system (i.e., z\n  pointing forwards) via a 3x4\n  transformation matrix. The matrices\n  are stored in row aligned order (the\n  first entries correspond to the first\n  row), and take a point in the i'th\n  coordinate system and project it into\n  the first (=0th) coordinate system.\n  Hence, the translational part (3x1\n  vector of column 4) corresponds to the\n  pose of the left camera coordinate\n  system in the i'th frame with respect\n  to the first (=0th) frame", "But I don't know how to produce the same kind of data for me.\nWhat I have for each frame in my case:", "With those data, How I compare with the groundtruth ? So I need to find the projection matrix from the data above but don't know how to do it.", "In a big picture I would like to obtain a projection matrix or to know how to decompose the projections matrix provided by the ground truth in order to compare the transformation with my data.", "Can someone help me ?", "Thank"], "answer": ["Are you sure you want the projection matrix? A ", " projection matrix is typically a 3x4 matrix that projects (homogenous) points in R", " to (homogenous) points in R", " in the image plane up to some scale (see the ", "). It sounds like you are interested in comparing your computed visual odometry to the ground truth odometry provided on the KITTI website; in this case, you would be comparing the rigid transformation matrices from your VO estimation to the KITTI ground truth transformation.", "If you are using the \"raw\" datasets, the \"ground truth\" is provided as the OXTS data records - i.e. the combined IMU and GPS data. This data is in the global frame, and will take a bit more work to compare to your data. However, it sounds like you are using the odometry benchmark data; the ground truth transformations are already in the frame of the left camera, which should make the task a bit easier (and that is what I'll discuss). ", "Since you haven't specified a language I'll speak more generally here, but ROS does provide tools in C++ (tf and Eigen) and Python (transformations.py) to perform tasks such as converting from quaternion to rotation matrices...", "You have ", " and ", ", the translation and rotation represented as a quaternion. You can convert the quaternion to a rotation matrix (usually, 'sxyz' form) and vice versa. The KITTI data is specified as a 3x4 matrix and this is the rotation matrix concatenated with the translation vector (i.e. the 4th column is t", ").", "r", " r", " r", " t", "\nr", " r", " r", " t", "\nr", " r", " r", " t", "You can simply compute the translation error by computing the L2 norm: ||t - t", "||. Computing the error in the rotation is a little bit more difficult; one way to do it is to use a function such as ", " from Eigen, since both measurements should be in the same coordinate frame. To do this, you need to transform the ", " rotation matrix into a quaternion, using either Eigen or the transformations.py library.", "Keep in mind this is the error in the odometry frame - i.e. the error of your i-th estimated pose relative to the i-th ground truth pose in the frame of the initial pose. Sometimes, it is also useful to compare the average error frame-to-frame as well, especially since odometry tends to drift significantly over time, even if the algorithm is relatively accurate between frames on average. ", "In summary:", "I'm not very practical with computer vision, but have a look at ", " and ", " reference.", "It should be somthing like this:"], "quote": ["Row i represents the i'th pose of the\n  left camera coordinate system (i.e., z\n  pointing forwards) via a 3x4\n  transformation matrix. The matrices\n  are stored in row aligned order (the\n  first entries correspond to the first\n  row), and take a point in the i'th\n  coordinate system and project it into\n  the first (=0th) coordinate system.\n  Hence, the translational part (3x1\n  vector of column 4) corresponds to the\n  pose of the left camera coordinate\n  system in the i'th frame with respect\n  to the first (=0th) frame"], "question_code": ["1.000000e+00 9.043683e-12 2.326809e-11 1.110223e-16 9.043683e-12 1.000000e+00 2.392370e-10 2.220446e-16 2.326810e-11 2.392370e-10 9.999999e-01 -2.220446e-16\n"], "answer_code": ["t", "q", "QuaternionBase::angularDistance()", "void imageCallback([...], const sensor_msgs::CameraInfoConstPtr& info_msg) {\n  // initialize cam_model with sensor_msgs::CameraInfo\n  image_geometry::PinholeCameraModel cam_model_;\n  cam_model_.fromCameraInfo(info_msg);\n\n  // get the projection matrix\n  cv::Matx34d projection_matrix;\n  projection_matrix = cam_model_.projectionMatrix();\n}\n"], "url": "https://stackoverflow.com/questions/29693838/how-to-get-the-projection-matrix-from-odometry-tf-data"}
,{"title": "ros python publisher/subscriber", "time": "2018-09-01 11:34:19Z", "post_content": ["I am trying to subscribe to a 4 different publishers in ROS through python. I use the following code :", "where ", " contains ", " defined as string and in the same way ", ", ", " and ", " ", "I want know whether I have used the ", " message and also the ", " correctly. \nOutput is as follows:", "Ending with an error:", "I don't know what is going wrong here"], "answer": ["If you want to subscribe to five different topics with five different message types the best way to do it is to use five different callback functions, one for publisher1 that publishes custom_msg1, publisher2 that publishes custom_msg2, publisher3 that publishes custom_msg3, publisher4 that publishes custom_msg4, and one for float_publisher that publishes float64 messages. ", "In the call back function the parameter data is basically a structure that has all of the components that are declared in the message header. The error that you are getting is because the call back function is being called with data of type custom_msg4 and it is looking for a component called Float64 in it. ", "If you wish to use one function you will have to use an if else to ", "distinguish between the different subscribers."], "question_code": ["def callback(data):\n    rospy.loginfo (\" Publisher1 Value %s \", custom_msg1.custom_string1)\n    rospy.loginfo (\" Publisher2 Value %s \", custom_msg2.custom_string2)\n    rospy.loginfo (\" Publisher3 Value %s \", custom_msg3.custom_string3)\n    rospy.loginfo (\" Publisher4 Value %s \", custom_msg4.custom_string4)\n    rospy.loginfo (\" float_publisher value %f \", data.Float64)\n\ndef python_code():\n    rospy.init_node(\"python_code\")\n    rospy.Subscriber(\"float_publisher\",Float64,callback)\n    rospy.Subscriber(\"publisher1\", custom_msg1,callback)\n    rospy.Subscriber(\"publisher2\", custom_msg2,callback)\n    rospy.Subscriber(\"publisher3\", custom_msg3,callback)\n    rospy.Subscriber(\"publisher4\", custom_msg4,callback)\n    rospy.loginfo(\" Test: start spinning!\")\n    rospy.spin()\n    rospy.loginfo(\"node has shutdown!\")\n", "Publisher1 Value <member 'custom_string1' of 'custom_msg1' objects>\nPublisher2 Value <member 'custom_string2' of 'custom_msg2' objects>\nPublisher3 Value <member 'custom_string3' of 'custom_msg3' objects>\nPublisher4 Value <member 'custom_string4' of 'custom_msg4' objects>\n", "rospy.loginfo (\" float_publisher value %f \", data.Float64)\nAttributeError: 'Custom_msg4' object has no attribute 'Float64'\n", "callback"], "answer_code": ["def callback1(data):\n    rospy.loginfo (\" Publisher1 Value %s \", data.custom_string1)\n\ndef callback2(data):\n    rospy.loginfo (\" Publisher2 Value %s \", data.custom_string2)\n\ndef callback3(data):\n    rospy.loginfo (\" Publisher3 Value %s \", data.custom_string3)\n\ndef callback4(data):\n    rospy.loginfo (\" Publisher4 Value %s \", data.custom_string4)\n\ndef callback5(data):\n    rospy.loginfo (\" float_publisher value %f \", data.Float64)\n\ndef python_code():\n    rospy.init_node(\"python_code\")\n    rospy.Subscriber(\"float_publisher\",Float64,callback5)\n    rospy.Subscriber(\"publisher1\", custom_msg1,callback1)\n    rospy.Subscriber(\"publisher2\", custom_msg2,callback2)\n    rospy.Subscriber(\"publisher3\", custom_msg3,callback3)\n    rospy.Subscriber(\"publisher4\", custom_msg4,callback4)\n    rospy.loginfo(\" Test: start spinning!\")\n    rospy.spin()\n    rospy.loginfo(\"node has shutdown!\")\n", "def callback(data,who):\n    if who == 5:\n      rospy.loginfo (\" float_publisher value %f \", data.data)\n    else:\n      rospy.loginfo (\" Publisher%d Value %s \",who, data.data)\n\n\ndef python_code():\n    rospy.init_node(\"python_code\")\n    rospy.Subscriber(\"float_publisher\",Float64,callback,5)\n    rospy.Subscriber(\"publisher1\", String,callback,1)\n    rospy.Subscriber(\"publisher2\", String,callback,2)\n    rospy.Subscriber(\"publisher3\", String,callback,3)\n    rospy.Subscriber(\"publisher4\", String,callback,4)\n    rospy.loginfo(\" Test: start spinning!\")\n    rospy.spin()\n    rospy.loginfo(\"node has shutdown!\")\n"], "url": "https://stackoverflow.com/questions/27106640/ros-python-publisher-subscriber"}
,{"title": "Segmentation fault before main with pcl::ExtractIndices (pcl, ROS, catkin)", "time": "2015-04-08 22:10:45Z", "post_content": ["I am attempting to run the following in C++:", "The code compiles, but I get a segmentation fault as soon as I run it; the cout statement isn't executed.  Notice I don't actually even call myFunction() in main.  The only error message is", "When I comment out the ExtractIndices line in myFunction, the problem goes away and the code runs fine:", "I am running this on Ubuntu with ROS and compiling it with catkin_make, if that helps.", "I'd really appreciate some help debugging this, as I've been stuck on this problem for a while. Thanks for reading!"], "answer": ["Thanks to the help from the commenters, I was able to find the issue. I did a backtrace with gdb and googled the output:", "Then found this: ", "Which says that you can't use C++11 with PCL, so I removed this line from my CMakeLists.txt file:", "And it worked!"], "question_code": ["#include <pcl_ros/point_cloud.h>\n#include \"pcl/pcl_base.h\"\n#include \"pcl/PointIndices.h\"\n#include \"pcl/conversions.h\"\n#include <pcl/kdtree/kdtree_flann.h>\n#include <pcl/filters/extract_indices.h>\n#include <pcl/filters/voxel_grid.h>\n\nusing namespace std;\nusing namespace pcl;\n\nvoid myFunction() {\n     ...\n     ExtractIndices<PointXYZ> rangefilter;\n     ...\n}\n\nint main() {\n     cout << \"Hello\" << endl;\n}\n", "Segmentation fault (core dumped)\n", "     // ExtractIndices<PointXYZ> rangefilter;\n", "main"], "answer_code": ["boost::math::lanczos::lanczos_initializer<boost::math::lanczos::lanczos17m64, long double>::init::init()\n", "set(CMAKE_CXX_FLAGS \"-std=c++0x ${CMAKE_CXX_FLAGS}\")\n"], "url": "https://stackoverflow.com/questions/29526266/segmentation-fault-before-main-with-pclextractindices-pcl-ros-catkin"}
,{"title": "I can't find ROS when I use CMAKE to compile", "time": "2019-08-16 19:20:57Z", "post_content": ["I am using a software which connects to ROS, when I compile the package by Cmake, I meet the error \"Can't find ROS package\"", "I have added the ROS directory to \"CMAKE_PREFIX_PATH\",but it failed. And I check the ROS package , I can't find the relevant files.", "ERROR:", "Cmake.list"], "answer": ["ROS is not a single package, it is a collection of packages. ROS is simply a name associated with the main aptitude package ", ", and has nothing to do with CMake.", "Usually, somebody converts their code to ROS so that they can access the built-in functionality of networked comms with prebuilt message types and libraries to access sensors with hardware (though you don't need robot hardware to use ROS).", "ROS is simply an abstraction of communication. If you want the libraries from ROS in your project, then I suggest you use the build-sytem ", ". ", " is what ", " all of the ROS packages so that you can then use them in your CMake files.", "I suggest you follow ", " where somebody shows their CMakeLists.txt file. The important part that you need to understand is this:", "And then towards the end, after you have defined your executable,", "I should note that I am not testing any of this CMake for verification. The point here is to illustrate how to get the packages that you want from the ROS ecosystem. Once you have the CMake correct, you can simply ", " the correct header files. What is going on is that CMake is \"invoking\" ", " to find the required packages (refer to the links above for more details). It sounds like, given the fact that you are trying to \"import ROS\", that you are less than experienced with ROS (which is okay, I was a newbie too), and that this is not a ROS package, but rather a separate project that can be simplified using the libraries given in the ROS ecosystem. I have to say though, since you are quite a ways off the correct method for including ROS, I am not entirely sure how else more to help since you don't provide details in the question why you want ROS in the first place.", "(If this answers your question, that green check mark is friendly :)"], "question_code": ["CMake Error at applications/plugins/SoftRobots/CMakeLists.txt:190\n(find_package):\nBy not providing \"FindROS.cmake\" in CMAKE_MODULE_PATH this project \nhas asked CMake to find a package configuration file provided by \"ROS\", \nbut CMake did not find one.\n\nCould not find a package configuration file provided by \"ROS\" with any of\nthe following names:\n\nROSConfig.cmake\nros-config.cmake\n\nAdd the installation prefix of \"ROS\" to CMAKE_PREFIX_PATH or set \"ROS_DIR\"\nto a directory containing one of the above files.  If \"ROS\" provides a\nseparate development package or SDK, be sure it has been installed.\n", "find_package(ROS QUIET REQUIRED)\nmessage(STATUS \"ROS found: ${ROS_FOUND}\")\n"], "answer_code": ["ros-${ROS_DISTRO}-desktop-full", "catkin", "catkin", "find_package(catkin REQUIRED COMPONENTS\n  roscpp\n  rospy\n  std_msgs\n  genmsg\n  message_generation\n  depend_1\n  depend_2\n)\n\n\ncatkin_package(\n   INCLUDE_DIRS include\n   LIBRARIES ${PROJECT_NAME}\n   CATKIN_DEPENDS\n   DEPENDS system_lib\n\n)\n\ninclude_directories(\n  include\n  ${catkin_INCLUDE_DIRS}\n)\n", "target_link_libraries(run_${PROJECT_NAME}\n    ${PROJECT_NAME}\n    ${catkin_LIBRARIES}\n)\n", "#include", "catkin", "catkin", "catkin", "catkin_make"], "url": "https://stackoverflow.com/questions/57530052/i-cant-find-ros-when-i-use-cmake-to-compile"}
]
